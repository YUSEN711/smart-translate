(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();function qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hc={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function tE(){if(Nm)return Vl;Nm=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var p in a)p!=="key"&&(s[p]=a[p])}else s=a;return a=s.ref,{$$typeof:e,type:l,key:c,ref:a!==void 0?a:null,props:s}}return Vl.Fragment=t,Vl.jsx=i,Vl.jsxs=i,Vl}var Im;function nE(){return Im||(Im=1,hc.exports=tE()),hc.exports}var U=nE(),mc={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function iE(){if(Dm)return Ee;Dm=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function _(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function D(x,V,A){this.props=x,this.context=V,this.refs=N,this.updater=A||b}D.prototype.isReactComponent={},D.prototype.setState=function(x,V){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,V,"setState")},D.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function B(){}B.prototype=D.prototype;function P(x,V,A){this.props=x,this.context=V,this.refs=N,this.updater=A||b}var X=P.prototype=new B;X.constructor=P,I(X,D.prototype),X.isPureReactComponent=!0;var j=Array.isArray;function M(){}var Y={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function $(x,V,A){var te=A.ref;return{$$typeof:e,type:x,key:V,ref:te!==void 0?te:null,props:A}}function ae(x,V){return $(x.type,V,x.props)}function ee(x){return typeof x=="object"&&x!==null&&x.$$typeof===e}function ie(x){var V={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(A){return V[A]})}var he=/\/+/g;function le(x,V){return typeof x=="object"&&x!==null&&x.key!=null?ie(""+x.key):V.toString(36)}function W(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(M,M):(x.status="pending",x.then(function(V){x.status==="pending"&&(x.status="fulfilled",x.value=V)},function(V){x.status==="pending"&&(x.status="rejected",x.reason=V)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function z(x,V,A,te,fe){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var _e=!1;if(x===null)_e=!0;else switch(de){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(x.$$typeof){case e:case t:_e=!0;break;case y:return _e=x._init,z(_e(x._payload),V,A,te,fe)}}if(_e)return fe=fe(x),_e=te===""?"."+le(x,0):te,j(fe)?(A="",_e!=null&&(A=_e.replace(he,"$&/")+"/"),z(fe,V,A,"",function(Qt){return Qt})):fe!=null&&(ee(fe)&&(fe=ae(fe,A+(fe.key==null||x&&x.key===fe.key?"":(""+fe.key).replace(he,"$&/")+"/")+_e)),V.push(fe)),1;_e=0;var ke=te===""?".":te+":";if(j(x))for(var Ue=0;Ue<x.length;Ue++)te=x[Ue],de=ke+le(te,Ue),_e+=z(te,V,A,de,fe);else if(Ue=_(x),typeof Ue=="function")for(x=Ue.call(x),Ue=0;!(te=x.next()).done;)te=te.value,de=ke+le(te,Ue++),_e+=z(te,V,A,de,fe);else if(de==="object"){if(typeof x.then=="function")return z(W(x),V,A,te,fe);throw V=String(x),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Z(x,V,A){if(x==null)return x;var te=[],fe=0;return z(x,te,"","",function(de){return V.call(A,de,fe++)}),te}function re(x){if(x._status===-1){var V=x._result;V=V(),V.then(function(A){(x._status===0||x._status===-1)&&(x._status=1,x._result=A)},function(A){(x._status===0||x._status===-1)&&(x._status=2,x._result=A)}),x._status===-1&&(x._status=0,x._result=V)}if(x._status===1)return x._result.default;throw x._result}var ve=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},w={map:Z,forEach:function(x,V,A){Z(x,function(){V.apply(this,arguments)},A)},count:function(x){var V=0;return Z(x,function(){V++}),V},toArray:function(x){return Z(x,function(V){return V})||[]},only:function(x){if(!ee(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ee.Activity=S,Ee.Children=w,Ee.Component=D,Ee.Fragment=i,Ee.Profiler=a,Ee.PureComponent=P,Ee.StrictMode=l,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Y.H.useMemoCache(x)}},Ee.cache=function(x){return function(){return x.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(x,V,A){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var te=I({},x.props),fe=x.key;if(V!=null)for(de in V.key!==void 0&&(fe=""+V.key),V)!ue.call(V,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&V.ref===void 0||(te[de]=V[de]);var de=arguments.length-2;if(de===1)te.children=A;else if(1<de){for(var _e=Array(de),ke=0;ke<de;ke++)_e[ke]=arguments[ke+2];te.children=_e}return $(x.type,fe,te)},Ee.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:s,_context:x},x},Ee.createElement=function(x,V,A){var te,fe={},de=null;if(V!=null)for(te in V.key!==void 0&&(de=""+V.key),V)ue.call(V,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=V[te]);var _e=arguments.length-2;if(_e===1)fe.children=A;else if(1<_e){for(var ke=Array(_e),Ue=0;Ue<_e;Ue++)ke[Ue]=arguments[Ue+2];fe.children=ke}if(x&&x.defaultProps)for(te in _e=x.defaultProps,_e)fe[te]===void 0&&(fe[te]=_e[te]);return $(x,de,fe)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(x){return{$$typeof:p,render:x}},Ee.isValidElement=ee,Ee.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:re}},Ee.memo=function(x,V){return{$$typeof:h,type:x,compare:V===void 0?null:V}},Ee.startTransition=function(x){var V=Y.T,A={};Y.T=A;try{var te=x(),fe=Y.S;fe!==null&&fe(A,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(M,ve)}catch(de){ve(de)}finally{V!==null&&A.types!==null&&(V.types=A.types),Y.T=V}},Ee.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ee.use=function(x){return Y.H.use(x)},Ee.useActionState=function(x,V,A){return Y.H.useActionState(x,V,A)},Ee.useCallback=function(x,V){return Y.H.useCallback(x,V)},Ee.useContext=function(x){return Y.H.useContext(x)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(x,V){return Y.H.useDeferredValue(x,V)},Ee.useEffect=function(x,V){return Y.H.useEffect(x,V)},Ee.useEffectEvent=function(x){return Y.H.useEffectEvent(x)},Ee.useId=function(){return Y.H.useId()},Ee.useImperativeHandle=function(x,V,A){return Y.H.useImperativeHandle(x,V,A)},Ee.useInsertionEffect=function(x,V){return Y.H.useInsertionEffect(x,V)},Ee.useLayoutEffect=function(x,V){return Y.H.useLayoutEffect(x,V)},Ee.useMemo=function(x,V){return Y.H.useMemo(x,V)},Ee.useOptimistic=function(x,V){return Y.H.useOptimistic(x,V)},Ee.useReducer=function(x,V,A){return Y.H.useReducer(x,V,A)},Ee.useRef=function(x){return Y.H.useRef(x)},Ee.useState=function(x){return Y.H.useState(x)},Ee.useSyncExternalStore=function(x,V,A){return Y.H.useSyncExternalStore(x,V,A)},Ee.useTransition=function(){return Y.H.useTransition()},Ee.version="19.2.4",Ee}var km;function uf(){return km||(km=1,mc.exports=iE()),mc.exports}var be=uf();const oE=qa(be);var gc={exports:{}},ql={},yc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function lE(){return Um||(Um=1,(function(e){function t(z,Z){var re=z.length;z.push(Z);e:for(;0<re;){var ve=re-1>>>1,w=z[ve];if(0<a(w,Z))z[ve]=Z,z[re]=w,re=ve;else break e}}function i(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var Z=z[0],re=z.pop();if(re!==Z){z[0]=re;e:for(var ve=0,w=z.length,x=w>>>1;ve<x;){var V=2*(ve+1)-1,A=z[V],te=V+1,fe=z[te];if(0>a(A,re))te<w&&0>a(fe,A)?(z[ve]=fe,z[te]=re,ve=te):(z[ve]=A,z[V]=re,ve=V);else if(te<w&&0>a(fe,re))z[ve]=fe,z[te]=re,ve=te;else break e}}return Z}function a(z,Z){var re=z.sortIndex-Z.sortIndex;return re!==0?re:z.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var g=[],h=[],y=1,S=null,T=3,_=!1,b=!1,I=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function X(z){for(var Z=i(h);Z!==null;){if(Z.callback===null)l(h);else if(Z.startTime<=z)l(h),Z.sortIndex=Z.expirationTime,t(g,Z);else break;Z=i(h)}}function j(z){if(I=!1,X(z),!b)if(i(g)!==null)b=!0,M||(M=!0,ie());else{var Z=i(h);Z!==null&&W(j,Z.startTime-z)}}var M=!1,Y=-1,ue=5,$=-1;function ae(){return N?!0:!(e.unstable_now()-$<ue)}function ee(){if(N=!1,M){var z=e.unstable_now();$=z;var Z=!0;try{e:{b=!1,I&&(I=!1,B(Y),Y=-1),_=!0;var re=T;try{t:{for(X(z),S=i(g);S!==null&&!(S.expirationTime>z&&ae());){var ve=S.callback;if(typeof ve=="function"){S.callback=null,T=S.priorityLevel;var w=ve(S.expirationTime<=z);if(z=e.unstable_now(),typeof w=="function"){S.callback=w,X(z),Z=!0;break t}S===i(g)&&l(g),X(z)}else l(g);S=i(g)}if(S!==null)Z=!0;else{var x=i(h);x!==null&&W(j,x.startTime-z),Z=!1}}break e}finally{S=null,T=re,_=!1}Z=void 0}}finally{Z?ie():M=!1}}}var ie;if(typeof P=="function")ie=function(){P(ee)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,le=he.port2;he.port1.onmessage=ee,ie=function(){le.postMessage(null)}}else ie=function(){D(ee,0)};function W(z,Z){Y=D(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(z){switch(T){case 1:case 2:case 3:var Z=3;break;default:Z=T}var re=T;T=Z;try{return z()}finally{T=re}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=T;T=z;try{return Z()}finally{T=re}},e.unstable_scheduleCallback=function(z,Z,re){var ve=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,z){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=re+w,z={id:y++,callback:Z,priorityLevel:z,startTime:re,expirationTime:w,sortIndex:-1},re>ve?(z.sortIndex=re,t(h,z),i(g)===null&&z===i(h)&&(I?(B(Y),Y=-1):I=!0,W(j,re-ve))):(z.sortIndex=w,t(g,z),b||_||(b=!0,M||(M=!0,ie()))),z},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(z){var Z=T;return function(){var re=T;T=Z;try{return z.apply(this,arguments)}finally{T=re}}}})(vc)),vc}var Lm;function rE(){return Lm||(Lm=1,yc.exports=lE()),yc.exports}var Sc={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function aE(){if(zm)return St;zm=1;var e=uf();function t(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(g,h,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:g,containerInfo:h,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,St.createPortal=function(g,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(g,h,null,y)},St.flushSync=function(g){var h=c.T,y=l.p;try{if(c.T=null,l.p=2,g)return g()}finally{c.T=h,l.p=y,l.d.f()}},St.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(g,h))},St.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},St.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var y=h.as,S=p(y,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?l.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:_}):y==="script"&&l.d.X(g,{crossOrigin:S,integrity:T,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},St.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=p(h.as,h.crossOrigin);l.d.M(g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(g)},St.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,S=p(y,h.crossOrigin);l.d.L(g,y,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},St.preloadModule=function(g,h){if(typeof g=="string")if(h){var y=p(h.as,h.crossOrigin);l.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(g)},St.requestFormReset=function(g){l.d.r(g)},St.unstable_batchedUpdates=function(g,h){return g(h)},St.useFormState=function(g,h,y){return c.H.useFormState(g,h,y)},St.useFormStatus=function(){return c.H.useHostTransitionStatus()},St.version="19.2.4",St}var Pm;function sE(){if(Pm)return Sc.exports;Pm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sc.exports=aE(),Sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function uE(){if(Hm)return ql;Hm=1;var e=rE(),t=uf(),i=sE();function l(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)o+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var o=n,r=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(r=o.return),n=o.return;while(n)}return o.tag===3?r:null}function c(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function p(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function g(n){if(s(n)!==n)throw Error(l(188))}function h(n){var o=n.alternate;if(!o){if(o=s(n),o===null)throw Error(l(188));return o!==n?null:n}for(var r=n,u=o;;){var m=r.return;if(m===null)break;var v=m.alternate;if(v===null){if(u=m.return,u!==null){r=u;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===r)return g(m),n;if(v===u)return g(m),o;v=v.sibling}throw Error(l(188))}if(r.return!==u.return)r=m,u=v;else{for(var E=!1,C=m.child;C;){if(C===r){E=!0,r=m,u=v;break}if(C===u){E=!0,u=m,r=v;break}C=C.sibling}if(!E){for(C=v.child;C;){if(C===r){E=!0,r=v,u=m;break}if(C===u){E=!0,u=v,r=m;break}C=C.sibling}if(!E)throw Error(l(189))}}if(r.alternate!==u)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?n:o}function y(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=y(n),o!==null)return o;n=n.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),P=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var he=Symbol.for("react.client.reference");function le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===he?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case M:return"SuspenseList";case $:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case P:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case X:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return o=n.displayName||null,o!==null?o:le(n.type)||"Memo";case ue:o=n._payload,n=n._init;try{return le(n(o))}catch{}}return null}var W=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ve=[],w=-1;function x(n){return{current:n}}function V(n){0>w||(n.current=ve[w],ve[w]=null,w--)}function A(n,o){w++,ve[w]=n.current,n.current=o}var te=x(null),fe=x(null),de=x(null),_e=x(null);function ke(n,o){switch(A(de,o),A(fe,n),A(te,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?jh(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=jh(o),n=em(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}V(te),A(te,n)}function Ue(){V(te),V(fe),V(de)}function Qt(n){n.memoizedState!==null&&A(_e,n);var o=te.current,r=em(o,n.type);o!==r&&(A(fe,n),A(te,r))}function An(n){fe.current===n&&(V(te),V(fe)),_e.current===n&&(V(_e),Pl._currentValue=re)}var Xo,or;function xn(n){if(Xo===void 0)try{throw Error()}catch(r){var o=r.stack.trim().match(/\n( *(at )?)/);Xo=o&&o[1]||"",or=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xo+n+or}var Yi=!1;function Ji(n,o){if(!n||Yi)return"";Yi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var G=q}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(q){G=q}n.call(Q.prototype)}}else{try{throw Error()}catch(q){G=q}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),E=v[0],C=v[1];if(E&&C){var R=E.split(`
`),O=C.split(`
`);for(m=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;m<O.length&&!O[m].includes("DetermineComponentFrameRoot");)m++;if(u===R.length||m===O.length)for(u=R.length-1,m=O.length-1;1<=u&&0<=m&&R[u]!==O[m];)m--;for(;1<=u&&0<=m;u--,m--)if(R[u]!==O[m]){if(u!==1||m!==1)do if(u--,m--,0>m||R[u]!==O[m]){var F=`
`+R[u].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=u&&0<=m);break}}}finally{Yi=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?xn(r):""}function lr(n,o){switch(n.tag){case 26:case 27:case 5:return xn(n.type);case 16:return xn("Lazy");case 13:return n.child!==o&&o!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return Ji(n.type,!1);case 11:return Ji(n.type.render,!1);case 1:return Ji(n.type,!0);case 31:return xn("Activity");default:return""}}function rr(n){try{var o="",r=null;do o+=lr(n,r),r=n,n=n.return;while(n);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ki=Object.prototype.hasOwnProperty,Xi=e.unstable_scheduleCallback,Qo=e.unstable_cancelCallback,ja=e.unstable_shouldYield,es=e.unstable_requestPaint,Ct=e.unstable_now,ts=e.unstable_getCurrentPriorityLevel,J=e.unstable_ImmediatePriority,oe=e.unstable_UserBlockingPriority,ye=e.unstable_NormalPriority,we=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,Ot=e.log,bn=e.unstable_setDisableYieldValue,At=null,ut=null;function Rt(n){if(typeof Ot=="function"&&bn(n),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(At,n)}catch{}}var Je=Math.clz32?Math.clz32:Vv,Xn=Math.log,cn=Math.LN2;function Vv(n){return n>>>=0,n===0?32:31-(Xn(n)/cn|0)|0}var ar=256,sr=262144,ur=4194304;function Ai(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function cr(n,o,r){var u=n.pendingLanes;if(u===0)return 0;var m=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~v,u!==0?m=Ai(u):(E&=C,E!==0?m=Ai(E):r||(r=C&~n,r!==0&&(m=Ai(r))))):(C=u&~v,C!==0?m=Ai(C):E!==0?m=Ai(E):r||(r=u&~n,r!==0&&(m=Ai(r)))),m===0?0:o!==0&&o!==m&&(o&v)===0&&(v=m&-m,r=o&-o,v>=r||v===32&&(r&4194048)!==0)?o:m}function Zo(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function qv(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(){var n=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),n}function ns(n){for(var o=[],r=0;31>r;r++)o.push(n);return o}function $o(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bv(n,o,r,u,m,v){var E=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var C=n.entanglements,R=n.expirationTimes,O=n.hiddenUpdates;for(r=E&~r;0<r;){var F=31-Je(r),Q=1<<F;C[F]=0,R[F]=-1;var G=O[F];if(G!==null)for(O[F]=null,F=0;F<G.length;F++){var q=G[F];q!==null&&(q.lane&=-536870913)}r&=~Q}u!==0&&Lf(n,u,0),v!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~o))}function Lf(n,o,r){n.pendingLanes|=o,n.suspendedLanes&=~o;var u=31-Je(o);n.entangledLanes|=o,n.entanglements[u]=n.entanglements[u]|1073741824|r&261930}function zf(n,o){var r=n.entangledLanes|=o;for(n=n.entanglements;r;){var u=31-Je(r),m=1<<u;m&o|n[u]&o&&(n[u]|=o),r&=~m}}function Pf(n,o){var r=o&-o;return r=(r&42)!==0?1:is(r),(r&(n.suspendedLanes|o))!==0?0:r}function is(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function os(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Hf(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:Cm(n.type))}function Of(n,o){var r=Z.p;try{return Z.p=n,o()}finally{Z.p=r}}var Qn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Qn,Mt="__reactProps$"+Qn,Qi="__reactContainer$"+Qn,ls="__reactEvents$"+Qn,Fv="__reactListeners$"+Qn,Yv="__reactHandles$"+Qn,Gf="__reactResources$"+Qn,Wo="__reactMarker$"+Qn;function rs(n){delete n[ht],delete n[Mt],delete n[ls],delete n[Fv],delete n[Yv]}function Zi(n){var o=n[ht];if(o)return o;for(var r=n.parentNode;r;){if(o=r[Qi]||r[ht]){if(r=o.alternate,o.child!==null||r!==null&&r.child!==null)for(n=am(n);n!==null;){if(r=n[ht])return r;n=am(n)}return o}n=r,r=n.parentNode}return null}function $i(n){if(n=n[ht]||n[Qi]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function jo(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(l(33))}function Wi(n){var o=n[Gf];return o||(o=n[Gf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ft(n){n[Wo]=!0}var Vf=new Set,qf={};function xi(n,o){ji(n,o),ji(n+"Capture",o)}function ji(n,o){for(qf[n]=o,n=0;n<o.length;n++)Vf.add(o[n])}var Jv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bf={},Ff={};function Kv(n){return Ki.call(Ff,n)?!0:Ki.call(Bf,n)?!1:Jv.test(n)?Ff[n]=!0:(Bf[n]=!0,!1)}function fr(n,o,r){if(Kv(o))if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+r)}}function dr(n,o,r){if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+r)}}function wn(n,o,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(o,r,""+u)}}function Zt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yf(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Xv(n,o,r){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){r=""+E,v.call(this,E)}}),Object.defineProperty(n,o,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(E){r=""+E},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function as(n){if(!n._valueTracker){var o=Yf(n)?"checked":"value";n._valueTracker=Xv(n,o,""+n[o])}}function Jf(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var r=o.getValue(),u="";return n&&(u=Yf(n)?n.checked?"true":"false":n.value),n=u,n!==r?(o.setValue(n),!0):!1}function pr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Qv=/[\n"\\]/g;function $t(n){return n.replace(Qv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ss(n,o,r,u,m,v,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),o!=null?E==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Zt(o)):n.value!==""+Zt(o)&&(n.value=""+Zt(o)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),o!=null?us(n,E,Zt(o)):r!=null?us(n,E,Zt(r)):u!=null&&n.removeAttribute("value"),m==null&&v!=null&&(n.defaultChecked=!!v),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Zt(C):n.removeAttribute("name")}function Kf(n,o,r,u,m,v,E,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),o!=null||r!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){as(n);return}r=r!=null?""+Zt(r):"",o=o!=null?""+Zt(o):r,C||o===n.value||(n.value=o),n.defaultValue=o}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),as(n)}function us(n,o,r){o==="number"&&pr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function eo(n,o,r,u){if(n=n.options,o){o={};for(var m=0;m<r.length;m++)o["$"+r[m]]=!0;for(r=0;r<n.length;r++)m=o.hasOwnProperty("$"+n[r].value),n[r].selected!==m&&(n[r].selected=m),m&&u&&(n[r].defaultSelected=!0)}else{for(r=""+Zt(r),o=null,m=0;m<n.length;m++){if(n[m].value===r){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}o!==null||n[m].disabled||(o=n[m])}o!==null&&(o.selected=!0)}}function Xf(n,o,r){if(o!=null&&(o=""+Zt(o),o!==n.value&&(n.value=o),r==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=r!=null?""+Zt(r):""}function Qf(n,o,r,u){if(o==null){if(u!=null){if(r!=null)throw Error(l(92));if(W(u)){if(1<u.length)throw Error(l(93));u=u[0]}r=u}r==null&&(r=""),o=r}r=Zt(o),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u),as(n)}function to(n,o){if(o){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=o;return}}n.textContent=o}var Zv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(n,o,r){var u=o.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":u?n.setProperty(o,r):typeof r!="number"||r===0||Zv.has(o)?o==="float"?n.cssFloat=r:n[o]=(""+r).trim():n[o]=r+"px"}function $f(n,o,r){if(o!=null&&typeof o!="object")throw Error(l(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in o)u=o[m],o.hasOwnProperty(m)&&r[m]!==u&&Zf(n,m,u)}else for(var v in o)o.hasOwnProperty(v)&&Zf(n,v,o[v])}function cs(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(n){return Wv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Rn(){}var fs=null;function ds(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var no=null,io=null;function Wf(n){var o=$i(n);if(o&&(n=o.stateNode)){var r=n[Mt]||null;e:switch(n=o.stateNode,o.type){case"input":if(ss(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),o=r.name,r.type==="radio"&&o!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$t(""+o)+'"][type="radio"]'),o=0;o<r.length;o++){var u=r[o];if(u!==n&&u.form===n.form){var m=u[Mt]||null;if(!m)throw Error(l(90));ss(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<r.length;o++)u=r[o],u.form===n.form&&Jf(u)}break e;case"textarea":Xf(n,r.value,r.defaultValue);break e;case"select":o=r.value,o!=null&&eo(n,!!r.multiple,o,!1)}}}var ps=!1;function jf(n,o,r){if(ps)return n(o,r);ps=!0;try{var u=n(o);return u}finally{if(ps=!1,(no!==null||io!==null)&&(ta(),no&&(o=no,n=io,io=no=null,Wf(o),n)))for(o=0;o<n.length;o++)Wf(n[o])}}function el(n,o){var r=n.stateNode;if(r===null)return null;var u=r[Mt]||null;if(u===null)return null;r=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(l(231,o,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(Mn)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){hs=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{hs=!1}var Zn=null,ms=null,mr=null;function ed(){if(mr)return mr;var n,o=ms,r=o.length,u,m="value"in Zn?Zn.value:Zn.textContent,v=m.length;for(n=0;n<r&&o[n]===m[n];n++);var E=r-n;for(u=1;u<=E&&o[r-u]===m[v-u];u++);return mr=m.slice(n,1<u?1-u:void 0)}function gr(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function yr(){return!0}function td(){return!1}function Nt(n){function o(r,u,m,v,E){this._reactName=r,this._targetInst=m,this.type=u,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(r=n[C],this[C]=r?r(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yr:td,this.isPropagationStopped=td,this}return S(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),o}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=Nt(bi),nl=S({},bi,{view:0,detail:0}),jv=Nt(nl),gs,ys,il,Sr=S({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==il&&(il&&n.type==="mousemove"?(gs=n.screenX-il.screenX,ys=n.screenY-il.screenY):ys=gs=0,il=n),gs)},movementY:function(n){return"movementY"in n?n.movementY:ys}}),nd=Nt(Sr),eS=S({},Sr,{dataTransfer:0}),tS=Nt(eS),nS=S({},nl,{relatedTarget:0}),vs=Nt(nS),iS=S({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=Nt(iS),lS=S({},bi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),rS=Nt(lS),aS=S({},bi,{data:0}),id=Nt(aS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=cS[n])?!!o[n]:!1}function Ss(){return fS}var dS=S({},nl,{key:function(n){if(n.key){var o=sS[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(n){return n.type==="keypress"?gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pS=Nt(dS),hS=S({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Nt(hS),mS=S({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),gS=Nt(mS),yS=S({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=Nt(yS),SS=S({},Sr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),TS=Nt(SS),ES=S({},bi,{newState:0,oldState:0}),_S=Nt(ES),CS=[9,13,27,32],Ts=Mn&&"CompositionEvent"in window,ol=null;Mn&&"documentMode"in document&&(ol=document.documentMode);var AS=Mn&&"TextEvent"in window&&!ol,ld=Mn&&(!Ts||ol&&8<ol&&11>=ol),rd=" ",ad=!1;function sd(n,o){switch(n){case"keyup":return CS.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var oo=!1;function xS(n,o){switch(n){case"compositionend":return ud(o);case"keypress":return o.which!==32?null:(ad=!0,rd);case"textInput":return n=o.data,n===rd&&ad?null:n;default:return null}}function bS(n,o){if(oo)return n==="compositionend"||!Ts&&sd(n,o)?(n=ed(),mr=ms=Zn=null,oo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ld&&o.locale!=="ko"?null:o.data;default:return null}}var wS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!wS[n.type]:o==="textarea"}function fd(n,o,r,u){no?io?io.push(u):io=[u]:no=u,o=sa(o,"onChange"),0<o.length&&(r=new vr("onChange","change",null,r,u),n.push({event:r,listeners:o}))}var ll=null,rl=null;function RS(n){Kh(n,0)}function Tr(n){var o=jo(n);if(Jf(o))return n}function dd(n,o){if(n==="change")return o}var pd=!1;if(Mn){var Es;if(Mn){var _s="oninput"in document;if(!_s){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),_s=typeof hd.oninput=="function"}Es=_s}else Es=!1;pd=Es&&(!document.documentMode||9<document.documentMode)}function md(){ll&&(ll.detachEvent("onpropertychange",gd),rl=ll=null)}function gd(n){if(n.propertyName==="value"&&Tr(rl)){var o=[];fd(o,rl,n,ds(n)),jf(RS,o)}}function MS(n,o,r){n==="focusin"?(md(),ll=o,rl=r,ll.attachEvent("onpropertychange",gd)):n==="focusout"&&md()}function NS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Tr(rl)}function IS(n,o){if(n==="click")return Tr(o)}function DS(n,o){if(n==="input"||n==="change")return Tr(o)}function kS(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Gt=typeof Object.is=="function"?Object.is:kS;function al(n,o){if(Gt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var r=Object.keys(n),u=Object.keys(o);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var m=r[u];if(!Ki.call(o,m)||!Gt(n[m],o[m]))return!1}return!0}function yd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vd(n,o){var r=yd(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=o&&u>=o)return{node:r,offset:o-n};n=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yd(r)}}function Sd(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Sd(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Td(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=pr(n.document);o instanceof n.HTMLIFrameElement;){try{var r=typeof o.contentWindow.location.href=="string"}catch{r=!1}if(r)n=o.contentWindow;else break;o=pr(n.document)}return o}function Cs(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var US=Mn&&"documentMode"in document&&11>=document.documentMode,lo=null,As=null,sl=null,xs=!1;function Ed(n,o,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xs||lo==null||lo!==pr(u)||(u=lo,"selectionStart"in u&&Cs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),sl&&al(sl,u)||(sl=u,u=sa(As,"onSelect"),0<u.length&&(o=new vr("onSelect","select",null,o,r),n.push({event:o,listeners:u}),o.target=lo)))}function wi(n,o){var r={};return r[n.toLowerCase()]=o.toLowerCase(),r["Webkit"+n]="webkit"+o,r["Moz"+n]="moz"+o,r}var ro={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},bs={},_d={};Mn&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Ri(n){if(bs[n])return bs[n];if(!ro[n])return n;var o=ro[n],r;for(r in o)if(o.hasOwnProperty(r)&&r in _d)return bs[n]=o[r];return n}var Cd=Ri("animationend"),Ad=Ri("animationiteration"),xd=Ri("animationstart"),LS=Ri("transitionrun"),zS=Ri("transitionstart"),PS=Ri("transitioncancel"),bd=Ri("transitionend"),wd=new Map,ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ws.push("scrollEnd");function fn(n,o){wd.set(n,o),xi(o,[n])}var Er=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Wt=[],ao=0,Rs=0;function _r(){for(var n=ao,o=Rs=ao=0;o<n;){var r=Wt[o];Wt[o++]=null;var u=Wt[o];Wt[o++]=null;var m=Wt[o];Wt[o++]=null;var v=Wt[o];if(Wt[o++]=null,u!==null&&m!==null){var E=u.pending;E===null?m.next=m:(m.next=E.next,E.next=m),u.pending=m}v!==0&&Rd(r,m,v)}}function Cr(n,o,r,u){Wt[ao++]=n,Wt[ao++]=o,Wt[ao++]=r,Wt[ao++]=u,Rs|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ms(n,o,r,u){return Cr(n,o,r,u),Ar(n)}function Mi(n,o){return Cr(n,null,null,o),Ar(n)}function Rd(n,o,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var m=!1,v=n.return;v!==null;)v.childLanes|=r,u=v.alternate,u!==null&&(u.childLanes|=r),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(m=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,m&&o!==null&&(m=31-Je(r),n=v.hiddenUpdates,u=n[m],u===null?n[m]=[o]:u.push(o),o.lane=r|536870912),v):null}function Ar(n){if(50<Nl)throw Nl=0,Hu=null,Error(l(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var so={};function HS(n,o,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(n,o,r,u){return new HS(n,o,r,u)}function Ns(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Nn(n,o){var r=n.alternate;return r===null?(r=Vt(n.tag,o,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=o,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,o=n.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function Md(n,o){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,o=r.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function xr(n,o,r,u,m,v){var E=0;if(u=n,typeof n=="function")Ns(n)&&(E=1);else if(typeof n=="string")E=BT(n,r,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case $:return n=Vt(31,r,o,m),n.elementType=$,n.lanes=v,n;case I:return Ni(r.children,m,v,o);case N:E=8,m|=24;break;case D:return n=Vt(12,r,o,m|2),n.elementType=D,n.lanes=v,n;case j:return n=Vt(13,r,o,m),n.elementType=j,n.lanes=v,n;case M:return n=Vt(19,r,o,m),n.elementType=M,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:E=10;break e;case B:E=9;break e;case X:E=11;break e;case Y:E=14;break e;case ue:E=16,u=null;break e}E=29,r=Error(l(130,n===null?"null":typeof n,"")),u=null}return o=Vt(E,r,o,m),o.elementType=n,o.type=u,o.lanes=v,o}function Ni(n,o,r,u){return n=Vt(7,n,u,o),n.lanes=r,n}function Is(n,o,r){return n=Vt(6,n,null,o),n.lanes=r,n}function Nd(n){var o=Vt(18,null,null,0);return o.stateNode=n,o}function Ds(n,o,r){return o=Vt(4,n.children!==null?n.children:[],n.key,o),o.lanes=r,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var Id=new WeakMap;function jt(n,o){if(typeof n=="object"&&n!==null){var r=Id.get(n);return r!==void 0?r:(o={value:n,source:o,stack:rr(o)},Id.set(n,o),o)}return{value:n,source:o,stack:rr(o)}}var uo=[],co=0,br=null,ul=0,en=[],tn=0,$n=null,yn=1,vn="";function In(n,o){uo[co++]=ul,uo[co++]=br,br=n,ul=o}function Dd(n,o,r){en[tn++]=yn,en[tn++]=vn,en[tn++]=$n,$n=n;var u=yn;n=vn;var m=32-Je(u)-1;u&=~(1<<m),r+=1;var v=32-Je(o)+m;if(30<v){var E=m-m%5;v=(u&(1<<E)-1).toString(32),u>>=E,m-=E,yn=1<<32-Je(o)+m|r<<m|u,vn=v+n}else yn=1<<v|r<<m|u,vn=n}function ks(n){n.return!==null&&(In(n,1),Dd(n,1,0))}function Us(n){for(;n===br;)br=uo[--co],uo[co]=null,ul=uo[--co],uo[co]=null;for(;n===$n;)$n=en[--tn],en[tn]=null,vn=en[--tn],en[tn]=null,yn=en[--tn],en[tn]=null}function kd(n,o){en[tn++]=yn,en[tn++]=vn,en[tn++]=$n,yn=o.id,vn=o.overflow,$n=n}var mt=null,Ze=null,De=!1,Wn=null,nn=!1,Ls=Error(l(519));function jn(n){var o=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(jt(o,n)),Ls}function Ud(n){var o=n.stateNode,r=n.type,u=n.memoizedProps;switch(o[ht]=n,o[Mt]=u,r){case"dialog":Me("cancel",o),Me("close",o);break;case"iframe":case"object":case"embed":Me("load",o);break;case"video":case"audio":for(r=0;r<Dl.length;r++)Me(Dl[r],o);break;case"source":Me("error",o);break;case"img":case"image":case"link":Me("error",o),Me("load",o);break;case"details":Me("toggle",o);break;case"input":Me("invalid",o),Kf(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",o);break;case"textarea":Me("invalid",o),Qf(o,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||o.textContent===""+r||u.suppressHydrationWarning===!0||$h(o.textContent,r)?(u.popover!=null&&(Me("beforetoggle",o),Me("toggle",o)),u.onScroll!=null&&Me("scroll",o),u.onScrollEnd!=null&&Me("scrollend",o),u.onClick!=null&&(o.onclick=Rn),o=!0):o=!1,o||jn(n,!0)}function Ld(n){for(mt=n.return;mt;)switch(mt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:mt=mt.return}}function fo(n){if(n!==mt)return!1;if(!De)return Ld(n),De=!0,!1;var o=n.tag,r;if((r=o!==3&&o!==27)&&((r=o===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||ju(n.type,n.memoizedProps)),r=!r),r&&Ze&&jn(n),Ld(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Ze=rm(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Ze=rm(n)}else o===27?(o=Ze,pi(n.type)?(n=oc,oc=null,Ze=n):Ze=o):Ze=mt?ln(n.stateNode.nextSibling):null;return!0}function Ii(){Ze=mt=null,De=!1}function zs(){var n=Wn;return n!==null&&(Ut===null?Ut=n:Ut.push.apply(Ut,n),Wn=null),n}function cl(n){Wn===null?Wn=[n]:Wn.push(n)}var Ps=x(null),Di=null,Dn=null;function ei(n,o,r){A(Ps,o._currentValue),o._currentValue=r}function kn(n){n._currentValue=Ps.current,V(Ps)}function Hs(n,o,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),n===r)break;n=n.return}}function Os(n,o,r,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var v=m.dependencies;if(v!==null){var E=m.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=m;for(var R=0;R<o.length;R++)if(C.context===o[R]){v.lanes|=r,C=v.alternate,C!==null&&(C.lanes|=r),Hs(v.return,r,n),u||(E=null);break e}v=C.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(l(341));E.lanes|=r,v=E.alternate,v!==null&&(v.lanes|=r),Hs(E,r,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function po(n,o,r,u){n=null;for(var m=o,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(l(387));if(E=E.memoizedProps,E!==null){var C=m.type;Gt(m.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(m===_e.current){if(E=m.alternate,E===null)throw Error(l(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Pl):n=[Pl])}m=m.return}n!==null&&Os(o,n,r,u),o.flags|=262144}function wr(n){for(n=n.firstContext;n!==null;){if(!Gt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ki(n){Di=n,Dn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gt(n){return zd(Di,n)}function Rr(n,o){return Di===null&&ki(n),zd(n,o)}function zd(n,o){var r=o._currentValue;if(o={context:o,memoizedValue:r,next:null},Dn===null){if(n===null)throw Error(l(308));Dn=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Dn=Dn.next=o;return r}var OS=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){o.aborted=!0,n.forEach(function(r){return r()})}},GS=e.unstable_scheduleCallback,VS=e.unstable_NormalPriority,ot={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gs(){return{controller:new OS,data:new Map,refCount:0}}function fl(n){n.refCount--,n.refCount===0&&GS(VS,function(){n.controller.abort()})}var dl=null,Vs=0,ho=0,mo=null;function qS(n,o){if(dl===null){var r=dl=[];Vs=0,ho=Fu(),mo={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Vs++,o.then(Pd,Pd),o}function Pd(){if(--Vs===0&&dl!==null){mo!==null&&(mo.status="fulfilled");var n=dl;dl=null,ho=0,mo=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function BS(n,o){var r=[],u={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return n.then(function(){u.status="fulfilled",u.value=o;for(var m=0;m<r.length;m++)(0,r[m])(o)},function(m){for(u.status="rejected",u.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),u}var Hd=z.S;z.S=function(n,o){Eh=Ct(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&qS(n,o),Hd!==null&&Hd(n,o)};var Ui=x(null);function qs(){var n=Ui.current;return n!==null?n:Ke.pooledCache}function Mr(n,o){o===null?A(Ui,Ui.current):A(Ui,o.pool)}function Od(){var n=qs();return n===null?null:{parent:ot._currentValue,pool:n}}var go=Error(l(460)),Bs=Error(l(474)),Nr=Error(l(542)),Ir={then:function(){}};function Gd(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Vd(n,o,r){switch(r=n[r],r===void 0?n.push(o):r!==o&&(o.then(Rn,Rn),o=r),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Bd(n),n;default:if(typeof o.status=="string")o.then(Rn,Rn);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=o,n.status="pending",n.then(function(u){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=u}},function(u){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Bd(n),n}throw zi=o,go}}function Li(n){try{var o=n._init;return o(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zi=r,go):r}}var zi=null;function qd(){if(zi===null)throw Error(l(459));var n=zi;return zi=null,n}function Bd(n){if(n===go||n===Nr)throw Error(l(483))}var yo=null,pl=0;function Dr(n){var o=pl;return pl+=1,yo===null&&(yo=[]),Vd(yo,n,o)}function hl(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function kr(n,o){throw o.$$typeof===T?Error(l(525)):(n=Object.prototype.toString.call(o),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Fd(n){function o(L,k){if(n){var H=L.deletions;H===null?(L.deletions=[k],L.flags|=16):H.push(k)}}function r(L,k){if(!n)return null;for(;k!==null;)o(L,k),k=k.sibling;return null}function u(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function m(L,k){return L=Nn(L,k),L.index=0,L.sibling=null,L}function v(L,k,H){return L.index=H,n?(H=L.alternate,H!==null?(H=H.index,H<k?(L.flags|=67108866,k):H):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function C(L,k,H,K){return k===null||k.tag!==6?(k=Is(H,L.mode,K),k.return=L,k):(k=m(k,H),k.return=L,k)}function R(L,k,H,K){var me=H.type;return me===I?F(L,k,H.props.children,K,H.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ue&&Li(me)===k.type)?(k=m(k,H.props),hl(k,H),k.return=L,k):(k=xr(H.type,H.key,H.props,null,L.mode,K),hl(k,H),k.return=L,k)}function O(L,k,H,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Ds(H,L.mode,K),k.return=L,k):(k=m(k,H.children||[]),k.return=L,k)}function F(L,k,H,K,me){return k===null||k.tag!==7?(k=Ni(H,L.mode,K,me),k.return=L,k):(k=m(k,H),k.return=L,k)}function Q(L,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Is(""+k,L.mode,H),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return H=xr(k.type,k.key,k.props,null,L.mode,H),hl(H,k),H.return=L,H;case b:return k=Ds(k,L.mode,H),k.return=L,k;case ue:return k=Li(k),Q(L,k,H)}if(W(k)||ie(k))return k=Ni(k,L.mode,H,null),k.return=L,k;if(typeof k.then=="function")return Q(L,Dr(k),H);if(k.$$typeof===P)return Q(L,Rr(L,k),H);kr(L,k)}return null}function G(L,k,H,K){var me=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:C(L,k,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return H.key===me?R(L,k,H,K):null;case b:return H.key===me?O(L,k,H,K):null;case ue:return H=Li(H),G(L,k,H,K)}if(W(H)||ie(H))return me!==null?null:F(L,k,H,K,null);if(typeof H.then=="function")return G(L,k,Dr(H),K);if(H.$$typeof===P)return G(L,k,Rr(L,H),K);kr(L,H)}return null}function q(L,k,H,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(H)||null,C(k,L,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return L=L.get(K.key===null?H:K.key)||null,R(k,L,K,me);case b:return L=L.get(K.key===null?H:K.key)||null,O(k,L,K,me);case ue:return K=Li(K),q(L,k,H,K,me)}if(W(K)||ie(K))return L=L.get(H)||null,F(k,L,K,me,null);if(typeof K.then=="function")return q(L,k,H,Dr(K),me);if(K.$$typeof===P)return q(L,k,H,Rr(k,K),me);kr(k,K)}return null}function ce(L,k,H,K){for(var me=null,Le=null,pe=k,Ae=k=0,Ie=null;pe!==null&&Ae<H.length;Ae++){pe.index>Ae?(Ie=pe,pe=null):Ie=pe.sibling;var ze=G(L,pe,H[Ae],K);if(ze===null){pe===null&&(pe=Ie);break}n&&pe&&ze.alternate===null&&o(L,pe),k=v(ze,k,Ae),Le===null?me=ze:Le.sibling=ze,Le=ze,pe=Ie}if(Ae===H.length)return r(L,pe),De&&In(L,Ae),me;if(pe===null){for(;Ae<H.length;Ae++)pe=Q(L,H[Ae],K),pe!==null&&(k=v(pe,k,Ae),Le===null?me=pe:Le.sibling=pe,Le=pe);return De&&In(L,Ae),me}for(pe=u(pe);Ae<H.length;Ae++)Ie=q(pe,L,Ae,H[Ae],K),Ie!==null&&(n&&Ie.alternate!==null&&pe.delete(Ie.key===null?Ae:Ie.key),k=v(Ie,k,Ae),Le===null?me=Ie:Le.sibling=Ie,Le=Ie);return n&&pe.forEach(function(vi){return o(L,vi)}),De&&In(L,Ae),me}function ge(L,k,H,K){if(H==null)throw Error(l(151));for(var me=null,Le=null,pe=k,Ae=k=0,Ie=null,ze=H.next();pe!==null&&!ze.done;Ae++,ze=H.next()){pe.index>Ae?(Ie=pe,pe=null):Ie=pe.sibling;var vi=G(L,pe,ze.value,K);if(vi===null){pe===null&&(pe=Ie);break}n&&pe&&vi.alternate===null&&o(L,pe),k=v(vi,k,Ae),Le===null?me=vi:Le.sibling=vi,Le=vi,pe=Ie}if(ze.done)return r(L,pe),De&&In(L,Ae),me;if(pe===null){for(;!ze.done;Ae++,ze=H.next())ze=Q(L,ze.value,K),ze!==null&&(k=v(ze,k,Ae),Le===null?me=ze:Le.sibling=ze,Le=ze);return De&&In(L,Ae),me}for(pe=u(pe);!ze.done;Ae++,ze=H.next())ze=q(pe,L,Ae,ze.value,K),ze!==null&&(n&&ze.alternate!==null&&pe.delete(ze.key===null?Ae:ze.key),k=v(ze,k,Ae),Le===null?me=ze:Le.sibling=ze,Le=ze);return n&&pe.forEach(function(eE){return o(L,eE)}),De&&In(L,Ae),me}function Ye(L,k,H,K){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case _:e:{for(var me=H.key;k!==null;){if(k.key===me){if(me=H.type,me===I){if(k.tag===7){r(L,k.sibling),K=m(k,H.props.children),K.return=L,L=K;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ue&&Li(me)===k.type){r(L,k.sibling),K=m(k,H.props),hl(K,H),K.return=L,L=K;break e}r(L,k);break}else o(L,k);k=k.sibling}H.type===I?(K=Ni(H.props.children,L.mode,K,H.key),K.return=L,L=K):(K=xr(H.type,H.key,H.props,null,L.mode,K),hl(K,H),K.return=L,L=K)}return E(L);case b:e:{for(me=H.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){r(L,k.sibling),K=m(k,H.children||[]),K.return=L,L=K;break e}else{r(L,k);break}else o(L,k);k=k.sibling}K=Ds(H,L.mode,K),K.return=L,L=K}return E(L);case ue:return H=Li(H),Ye(L,k,H,K)}if(W(H))return ce(L,k,H,K);if(ie(H)){if(me=ie(H),typeof me!="function")throw Error(l(150));return H=me.call(H),ge(L,k,H,K)}if(typeof H.then=="function")return Ye(L,k,Dr(H),K);if(H.$$typeof===P)return Ye(L,k,Rr(L,H),K);kr(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(r(L,k.sibling),K=m(k,H),K.return=L,L=K):(r(L,k),K=Is(H,L.mode,K),K.return=L,L=K),E(L)):r(L,k)}return function(L,k,H,K){try{pl=0;var me=Ye(L,k,H,K);return yo=null,me}catch(pe){if(pe===go||pe===Nr)throw pe;var Le=Vt(29,pe,null,L.mode);return Le.lanes=K,Le.return=L,Le}finally{}}}var Pi=Fd(!0),Yd=Fd(!1),ti=!1;function Fs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ys(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ni(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ii(n,o,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(He&2)!==0){var m=u.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),u.pending=o,o=Ar(n),Rd(n,null,r),o}return Cr(n,u,o,r),Ar(n)}function ml(n,o,r){if(o=o.updateQueue,o!==null&&(o=o.shared,(r&4194048)!==0)){var u=o.lanes;u&=n.pendingLanes,r|=u,o.lanes=r,zf(n,r)}}function Js(n,o){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var m=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};v===null?m=v=E:v=v.next=E,r=r.next}while(r!==null);v===null?m=v=o:v=v.next=o}else m=v=o;r={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=o:n.next=o,r.lastBaseUpdate=o}var Ks=!1;function gl(){if(Ks){var n=mo;if(n!==null)throw n}}function yl(n,o,r,u){Ks=!1;var m=n.updateQueue;ti=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var R=C,O=R.next;R.next=null,E===null?v=O:E.next=O,E=R;var F=n.alternate;F!==null&&(F=F.updateQueue,C=F.lastBaseUpdate,C!==E&&(C===null?F.firstBaseUpdate=O:C.next=O,F.lastBaseUpdate=R))}if(v!==null){var Q=m.baseState;E=0,F=O=R=null,C=v;do{var G=C.lane&-536870913,q=G!==C.lane;if(q?(Ne&G)===G:(u&G)===G){G!==0&&G===ho&&(Ks=!0),F!==null&&(F=F.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ce=n,ge=C;G=o;var Ye=r;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){Q=ce.call(Ye,Q,G);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,G=typeof ce=="function"?ce.call(Ye,Q,G):ce,G==null)break e;Q=S({},Q,G);break e;case 2:ti=!0}}G=C.callback,G!==null&&(n.flags|=64,q&&(n.flags|=8192),q=m.callbacks,q===null?m.callbacks=[G]:q.push(G))}else q={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},F===null?(O=F=q,R=Q):F=F.next=q,E|=G;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;q=C,C=q.next,q.next=null,m.lastBaseUpdate=q,m.shared.pending=null}}while(!0);F===null&&(R=Q),m.baseState=R,m.firstBaseUpdate=O,m.lastBaseUpdate=F,v===null&&(m.shared.lanes=0),si|=E,n.lanes=E,n.memoizedState=Q}}function Jd(n,o){if(typeof n!="function")throw Error(l(191,n));n.call(o)}function Kd(n,o){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Jd(r[n],o)}var vo=x(null),Ur=x(0);function Xd(n,o){n=qn,A(Ur,n),A(vo,o),qn=n|o.baseLanes}function Xs(){A(Ur,qn),A(vo,vo.current)}function Qs(){qn=Ur.current,V(vo),V(Ur)}var qt=x(null),on=null;function oi(n){var o=n.alternate;A(tt,tt.current&1),A(qt,n),on===null&&(o===null||vo.current!==null||o.memoizedState!==null)&&(on=n)}function Zs(n){A(tt,tt.current),A(qt,n),on===null&&(on=n)}function Qd(n){n.tag===22?(A(tt,tt.current),A(qt,n),on===null&&(on=n)):li()}function li(){A(tt,tt.current),A(qt,qt.current)}function Bt(n){V(qt),on===n&&(on=null),V(tt)}var tt=x(0);function Lr(n){for(var o=n;o!==null;){if(o.tag===13){var r=o.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||nc(r)||ic(r)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Un=0,Ce=null,Be=null,lt=null,zr=!1,So=!1,Hi=!1,Pr=0,vl=0,To=null,FS=0;function je(){throw Error(l(321))}function $s(n,o){if(o===null)return!1;for(var r=0;r<o.length&&r<n.length;r++)if(!Gt(n[r],o[r]))return!1;return!0}function Ws(n,o,r,u,m,v){return Un=v,Ce=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=n===null||n.memoizedState===null?Dp:pu,Hi=!1,v=r(u,m),Hi=!1,So&&(v=$d(o,r,u,m)),Zd(n),v}function Zd(n){z.H=El;var o=Be!==null&&Be.next!==null;if(Un=0,lt=Be=Ce=null,zr=!1,vl=0,To=null,o)throw Error(l(300));n===null||rt||(n=n.dependencies,n!==null&&wr(n)&&(rt=!0))}function $d(n,o,r,u){Ce=n;var m=0;do{if(So&&(To=null),vl=0,So=!1,25<=m)throw Error(l(301));if(m+=1,lt=Be=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}z.H=kp,v=o(r,u)}while(So);return v}function YS(){var n=z.H,o=n.useState()[0];return o=typeof o.then=="function"?Sl(o):o,n=n.useState()[0],(Be!==null?Be.memoizedState:null)!==n&&(Ce.flags|=1024),o}function js(){var n=Pr!==0;return Pr=0,n}function eu(n,o,r){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~r}function tu(n){if(zr){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}zr=!1}Un=0,lt=Be=Ce=null,So=!1,vl=Pr=0,To=null}function xt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ce.memoizedState=lt=n:lt=lt.next=n,lt}function nt(){if(Be===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Be.next;var o=lt===null?Ce.memoizedState:lt.next;if(o!==null)lt=o,Be=n;else{if(n===null)throw Ce.alternate===null?Error(l(467)):Error(l(310));Be=n,n={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},lt===null?Ce.memoizedState=lt=n:lt=lt.next=n}return lt}function Hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(n){var o=vl;return vl+=1,To===null&&(To=[]),n=Vd(To,n,o),o=Ce,(lt===null?o.memoizedState:lt.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?Dp:pu),n}function Or(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sl(n);if(n.$$typeof===P)return gt(n)}throw Error(l(438,String(n)))}function nu(n){var o=null,r=Ce.updateQueue;if(r!==null&&(o=r.memoCache),o==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),r===null&&(r=Hr(),Ce.updateQueue=r),r.memoCache=o,r=o.data[o.index],r===void 0)for(r=o.data[o.index]=Array(n),u=0;u<n;u++)r[u]=ae;return o.index++,r}function Ln(n,o){return typeof o=="function"?o(n):o}function Gr(n){var o=nt();return iu(o,Be,n)}function iu(n,o,r){var u=n.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=r;var m=n.baseQueue,v=u.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}o.baseQueue=m=v,u.pending=null}if(v=n.baseState,m===null)n.memoizedState=v;else{o=m.next;var C=E=null,R=null,O=o,F=!1;do{var Q=O.lane&-536870913;if(Q!==O.lane?(Ne&Q)===Q:(Un&Q)===Q){var G=O.revertLane;if(G===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Q===ho&&(F=!0);else if((Un&G)===G){O=O.next,G===ho&&(F=!0);continue}else Q={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},R===null?(C=R=Q,E=v):R=R.next=Q,Ce.lanes|=G,si|=G;Q=O.action,Hi&&r(v,Q),v=O.hasEagerState?O.eagerState:r(v,Q)}else G={lane:Q,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},R===null?(C=R=G,E=v):R=R.next=G,Ce.lanes|=Q,si|=Q;O=O.next}while(O!==null&&O!==o);if(R===null?E=v:R.next=C,!Gt(v,n.memoizedState)&&(rt=!0,F&&(r=mo,r!==null)))throw r;n.memoizedState=v,n.baseState=E,n.baseQueue=R,u.lastRenderedState=v}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function ou(n){var o=nt(),r=o.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=n;var u=r.dispatch,m=r.pending,v=o.memoizedState;if(m!==null){r.pending=null;var E=m=m.next;do v=n(v,E.action),E=E.next;while(E!==m);Gt(v,o.memoizedState)||(rt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),r.lastRenderedState=v}return[v,u]}function Wd(n,o,r){var u=Ce,m=nt(),v=De;if(v){if(r===void 0)throw Error(l(407));r=r()}else r=o();var E=!Gt((Be||m).memoizedState,r);if(E&&(m.memoizedState=r,rt=!0),m=m.queue,au(tp.bind(null,u,m,n),[n]),m.getSnapshot!==o||E||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},ep.bind(null,u,m,r,o),null),Ke===null)throw Error(l(349));v||(Un&127)!==0||jd(u,o,r)}return r}function jd(n,o,r){n.flags|=16384,n={getSnapshot:o,value:r},o=Ce.updateQueue,o===null?(o=Hr(),Ce.updateQueue=o,o.stores=[n]):(r=o.stores,r===null?o.stores=[n]:r.push(n))}function ep(n,o,r,u){o.value=r,o.getSnapshot=u,np(o)&&ip(n)}function tp(n,o,r){return r(function(){np(o)&&ip(n)})}function np(n){var o=n.getSnapshot;n=n.value;try{var r=o();return!Gt(n,r)}catch{return!0}}function ip(n){var o=Mi(n,2);o!==null&&Lt(o,n,2)}function lu(n){var o=xt();if(typeof n=="function"){var r=n;if(n=r(),Hi){Rt(!0);try{r()}finally{Rt(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:n},o}function op(n,o,r,u){return n.baseState=r,iu(n,Be,typeof u=="function"?u:Ln)}function JS(n,o,r,u,m){if(Br(n))throw Error(l(485));if(n=o.action,n!==null){var v={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};z.T!==null?r(!0):v.isTransition=!1,u(v),r=o.pending,r===null?(v.next=o.pending=v,lp(o,v)):(v.next=r.next,o.pending=r.next=v)}}function lp(n,o){var r=o.action,u=o.payload,m=n.state;if(o.isTransition){var v=z.T,E={};z.T=E;try{var C=r(m,u),R=z.S;R!==null&&R(E,C),rp(n,o,C)}catch(O){ru(n,o,O)}finally{v!==null&&E.types!==null&&(v.types=E.types),z.T=v}}else try{v=r(m,u),rp(n,o,v)}catch(O){ru(n,o,O)}}function rp(n,o,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){ap(n,o,u)},function(u){return ru(n,o,u)}):ap(n,o,r)}function ap(n,o,r){o.status="fulfilled",o.value=r,sp(o),n.state=r,o=n.pending,o!==null&&(r=o.next,r===o?n.pending=null:(r=r.next,o.next=r,lp(n,r)))}function ru(n,o,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=r,sp(o),o=o.next;while(o!==u)}n.action=null}function sp(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function up(n,o){return o}function cp(n,o){if(De){var r=Ke.formState;if(r!==null){e:{var u=Ce;if(De){if(Ze){t:{for(var m=Ze,v=nn;m.nodeType!==8;){if(!v){m=null;break t}if(m=ln(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Ze=ln(m.nextSibling),u=m.data==="F!";break e}}jn(u)}u=!1}u&&(o=r[0])}}return r=xt(),r.memoizedState=r.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:o},r.queue=u,r=Mp.bind(null,Ce,u),u.dispatch=r,u=lu(!1),v=du.bind(null,Ce,!1,u.queue),u=xt(),m={state:o,dispatch:null,action:n,pending:null},u.queue=m,r=JS.bind(null,Ce,m,v,r),m.dispatch=r,u.memoizedState=n,[o,r,!1]}function fp(n){var o=nt();return dp(o,Be,n)}function dp(n,o,r){if(o=iu(n,o,up)[0],n=Gr(Ln)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=Sl(o)}catch(E){throw E===go?Nr:E}else u=o;o=nt();var m=o.queue,v=m.dispatch;return r!==o.memoizedState&&(Ce.flags|=2048,Eo(9,{destroy:void 0},KS.bind(null,m,r),null)),[u,v,n]}function KS(n,o){n.action=o}function pp(n){var o=nt(),r=Be;if(r!==null)return dp(o,r,n);nt(),o=o.memoizedState,r=nt();var u=r.queue.dispatch;return r.memoizedState=n,[o,u,!1]}function Eo(n,o,r,u){return n={tag:n,create:r,deps:u,inst:o,next:null},o=Ce.updateQueue,o===null&&(o=Hr(),Ce.updateQueue=o),r=o.lastEffect,r===null?o.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,o.lastEffect=n),n}function hp(){return nt().memoizedState}function Vr(n,o,r,u){var m=xt();Ce.flags|=n,m.memoizedState=Eo(1|o,{destroy:void 0},r,u===void 0?null:u)}function qr(n,o,r,u){var m=nt();u=u===void 0?null:u;var v=m.memoizedState.inst;Be!==null&&u!==null&&$s(u,Be.memoizedState.deps)?m.memoizedState=Eo(o,v,r,u):(Ce.flags|=n,m.memoizedState=Eo(1|o,v,r,u))}function mp(n,o){Vr(8390656,8,n,o)}function au(n,o){qr(2048,8,n,o)}function XS(n){Ce.flags|=4;var o=Ce.updateQueue;if(o===null)o=Hr(),Ce.updateQueue=o,o.events=[n];else{var r=o.events;r===null?o.events=[n]:r.push(n)}}function gp(n){var o=nt().memoizedState;return XS({ref:o,nextImpl:n}),function(){if((He&2)!==0)throw Error(l(440));return o.impl.apply(void 0,arguments)}}function yp(n,o){return qr(4,2,n,o)}function vp(n,o){return qr(4,4,n,o)}function Sp(n,o){if(typeof o=="function"){n=n();var r=o(n);return function(){typeof r=="function"?r():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Tp(n,o,r){r=r!=null?r.concat([n]):null,qr(4,4,Sp.bind(null,o,n),r)}function su(){}function Ep(n,o){var r=nt();o=o===void 0?null:o;var u=r.memoizedState;return o!==null&&$s(o,u[1])?u[0]:(r.memoizedState=[n,o],n)}function _p(n,o){var r=nt();o=o===void 0?null:o;var u=r.memoizedState;if(o!==null&&$s(o,u[1]))return u[0];if(u=n(),Hi){Rt(!0);try{n()}finally{Rt(!1)}}return r.memoizedState=[u,o],u}function uu(n,o,r){return r===void 0||(Un&1073741824)!==0&&(Ne&261930)===0?n.memoizedState=o:(n.memoizedState=r,n=Ch(),Ce.lanes|=n,si|=n,r)}function Cp(n,o,r,u){return Gt(r,o)?r:vo.current!==null?(n=uu(n,r,u),Gt(n,o)||(rt=!0),n):(Un&42)===0||(Un&1073741824)!==0&&(Ne&261930)===0?(rt=!0,n.memoizedState=r):(n=Ch(),Ce.lanes|=n,si|=n,o)}function Ap(n,o,r,u,m){var v=Z.p;Z.p=v!==0&&8>v?v:8;var E=z.T,C={};z.T=C,du(n,!1,o,r);try{var R=m(),O=z.S;if(O!==null&&O(C,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=BS(R,u);Tl(n,o,F,Jt(n))}else Tl(n,o,u,Jt(n))}catch(Q){Tl(n,o,{then:function(){},status:"rejected",reason:Q},Jt())}finally{Z.p=v,E!==null&&C.types!==null&&(E.types=C.types),z.T=E}}function QS(){}function cu(n,o,r,u){if(n.tag!==5)throw Error(l(476));var m=xp(n).queue;Ap(n,m,o,re,r===null?QS:function(){return bp(n),r(u)})}function xp(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:re},next:null};var r={};return o.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:r},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function bp(n){var o=xp(n);o.next===null&&(o=n.alternate.memoizedState),Tl(n,o.next.queue,{},Jt())}function fu(){return gt(Pl)}function wp(){return nt().memoizedState}function Rp(){return nt().memoizedState}function ZS(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var r=Jt();n=ni(r);var u=ii(o,n,r);u!==null&&(Lt(u,o,r),ml(u,o,r)),o={cache:Gs()},n.payload=o;return}o=o.return}}function $S(n,o,r){var u=Jt();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Br(n)?Np(o,r):(r=Ms(n,o,r,u),r!==null&&(Lt(r,n,u),Ip(r,o,u)))}function Mp(n,o,r){var u=Jt();Tl(n,o,r,u)}function Tl(n,o,r,u){var m={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Br(n))Np(o,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,C=v(E,r);if(m.hasEagerState=!0,m.eagerState=C,Gt(C,E))return Cr(n,o,m,0),Ke===null&&_r(),!1}catch{}finally{}if(r=Ms(n,o,m,u),r!==null)return Lt(r,n,u),Ip(r,o,u),!0}return!1}function du(n,o,r,u){if(u={lane:2,revertLane:Fu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Br(n)){if(o)throw Error(l(479))}else o=Ms(n,r,u,2),o!==null&&Lt(o,n,2)}function Br(n){var o=n.alternate;return n===Ce||o!==null&&o===Ce}function Np(n,o){So=zr=!0;var r=n.pending;r===null?o.next=o:(o.next=r.next,r.next=o),n.pending=o}function Ip(n,o,r){if((r&4194048)!==0){var u=o.lanes;u&=n.pendingLanes,r|=u,o.lanes=r,zf(n,r)}}var El={readContext:gt,use:Or,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};El.useEffectEvent=je;var Dp={readContext:gt,use:Or,useCallback:function(n,o){return xt().memoizedState=[n,o===void 0?null:o],n},useContext:gt,useEffect:mp,useImperativeHandle:function(n,o,r){r=r!=null?r.concat([n]):null,Vr(4194308,4,Sp.bind(null,o,n),r)},useLayoutEffect:function(n,o){return Vr(4194308,4,n,o)},useInsertionEffect:function(n,o){Vr(4,2,n,o)},useMemo:function(n,o){var r=xt();o=o===void 0?null:o;var u=n();if(Hi){Rt(!0);try{n()}finally{Rt(!1)}}return r.memoizedState=[u,o],u},useReducer:function(n,o,r){var u=xt();if(r!==void 0){var m=r(o);if(Hi){Rt(!0);try{r(o)}finally{Rt(!1)}}}else m=o;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=$S.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var o=xt();return n={current:n},o.memoizedState=n},useState:function(n){n=lu(n);var o=n.queue,r=Mp.bind(null,Ce,o);return o.dispatch=r,[n.memoizedState,r]},useDebugValue:su,useDeferredValue:function(n,o){var r=xt();return uu(r,n,o)},useTransition:function(){var n=lu(!1);return n=Ap.bind(null,Ce,n.queue,!0,!1),xt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,r){var u=Ce,m=xt();if(De){if(r===void 0)throw Error(l(407));r=r()}else{if(r=o(),Ke===null)throw Error(l(349));(Ne&127)!==0||jd(u,o,r)}m.memoizedState=r;var v={value:r,getSnapshot:o};return m.queue=v,mp(tp.bind(null,u,v,n),[n]),u.flags|=2048,Eo(9,{destroy:void 0},ep.bind(null,u,v,r,o),null),r},useId:function(){var n=xt(),o=Ke.identifierPrefix;if(De){var r=vn,u=yn;r=(u&~(1<<32-Je(u)-1)).toString(32)+r,o="_"+o+"R_"+r,r=Pr++,0<r&&(o+="H"+r.toString(32)),o+="_"}else r=FS++,o="_"+o+"r_"+r.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:fu,useFormState:cp,useActionState:cp,useOptimistic:function(n){var o=xt();o.memoizedState=o.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=r,o=du.bind(null,Ce,!0,r),r.dispatch=o,[n,o]},useMemoCache:nu,useCacheRefresh:function(){return xt().memoizedState=ZS.bind(null,Ce)},useEffectEvent:function(n){var o=xt(),r={impl:n};return o.memoizedState=r,function(){if((He&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},pu={readContext:gt,use:Or,useCallback:Ep,useContext:gt,useEffect:au,useImperativeHandle:Tp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:_p,useReducer:Gr,useRef:hp,useState:function(){return Gr(Ln)},useDebugValue:su,useDeferredValue:function(n,o){var r=nt();return Cp(r,Be.memoizedState,n,o)},useTransition:function(){var n=Gr(Ln)[0],o=nt().memoizedState;return[typeof n=="boolean"?n:Sl(n),o]},useSyncExternalStore:Wd,useId:wp,useHostTransitionStatus:fu,useFormState:fp,useActionState:fp,useOptimistic:function(n,o){var r=nt();return op(r,Be,n,o)},useMemoCache:nu,useCacheRefresh:Rp};pu.useEffectEvent=gp;var kp={readContext:gt,use:Or,useCallback:Ep,useContext:gt,useEffect:au,useImperativeHandle:Tp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:_p,useReducer:ou,useRef:hp,useState:function(){return ou(Ln)},useDebugValue:su,useDeferredValue:function(n,o){var r=nt();return Be===null?uu(r,n,o):Cp(r,Be.memoizedState,n,o)},useTransition:function(){var n=ou(Ln)[0],o=nt().memoizedState;return[typeof n=="boolean"?n:Sl(n),o]},useSyncExternalStore:Wd,useId:wp,useHostTransitionStatus:fu,useFormState:pp,useActionState:pp,useOptimistic:function(n,o){var r=nt();return Be!==null?op(r,Be,n,o):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:nu,useCacheRefresh:Rp};kp.useEffectEvent=gp;function hu(n,o,r,u){o=n.memoizedState,r=r(u,o),r=r==null?o:S({},o,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var mu={enqueueSetState:function(n,o,r){n=n._reactInternals;var u=Jt(),m=ni(u);m.payload=o,r!=null&&(m.callback=r),o=ii(n,m,u),o!==null&&(Lt(o,n,u),ml(o,n,u))},enqueueReplaceState:function(n,o,r){n=n._reactInternals;var u=Jt(),m=ni(u);m.tag=1,m.payload=o,r!=null&&(m.callback=r),o=ii(n,m,u),o!==null&&(Lt(o,n,u),ml(o,n,u))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var r=Jt(),u=ni(r);u.tag=2,o!=null&&(u.callback=o),o=ii(n,u,r),o!==null&&(Lt(o,n,r),ml(o,n,r))}};function Up(n,o,r,u,m,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,v,E):o.prototype&&o.prototype.isPureReactComponent?!al(r,u)||!al(m,v):!0}function Lp(n,o,r,u){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(r,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(r,u),o.state!==n&&mu.enqueueReplaceState(o,o.state,null)}function Oi(n,o){var r=o;if("ref"in o){r={};for(var u in o)u!=="ref"&&(r[u]=o[u])}if(n=n.defaultProps){r===o&&(r=S({},r));for(var m in n)r[m]===void 0&&(r[m]=n[m])}return r}function zp(n){Er(n)}function Pp(n){console.error(n)}function Hp(n){Er(n)}function Fr(n,o){try{var r=n.onUncaughtError;r(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function Op(n,o,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function gu(n,o,r){return r=ni(r),r.tag=3,r.payload={element:null},r.callback=function(){Fr(n,o)},r}function Gp(n){return n=ni(n),n.tag=3,n}function Vp(n,o,r,u){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var v=u.value;n.payload=function(){return m(v)},n.callback=function(){Op(o,r,u)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Op(o,r,u),typeof m!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function WS(n,o,r,u,m){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=r.alternate,o!==null&&po(o,r,m,!0),r=qt.current,r!==null){switch(r.tag){case 31:case 13:return on===null?na():r.alternate===null&&et===0&&(et=3),r.flags&=-257,r.flags|=65536,r.lanes=m,u===Ir?r.flags|=16384:(o=r.updateQueue,o===null?r.updateQueue=new Set([u]):o.add(u),Vu(n,u,m)),!1;case 22:return r.flags|=65536,u===Ir?r.flags|=16384:(o=r.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=o):(r=o.retryQueue,r===null?o.retryQueue=new Set([u]):r.add(u)),Vu(n,u,m)),!1}throw Error(l(435,r.tag))}return Vu(n,u,m),na(),!1}if(De)return o=qt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,u!==Ls&&(n=Error(l(422),{cause:u}),cl(jt(n,r)))):(u!==Ls&&(o=Error(l(423),{cause:u}),cl(jt(o,r))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=jt(u,r),m=gu(n.stateNode,u,m),Js(n,m),et!==4&&(et=2)),!1;var v=Error(l(520),{cause:u});if(v=jt(v,r),Ml===null?Ml=[v]:Ml.push(v),et!==4&&(et=2),o===null)return!0;u=jt(u,r),r=o;do{switch(r.tag){case 3:return r.flags|=65536,n=m&-m,r.lanes|=n,n=gu(r.stateNode,u,n),Js(r,n),!1;case 1:if(o=r.type,v=r.stateNode,(r.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Gp(m),Vp(m,n,r,u),Js(r,m),!1}r=r.return}while(r!==null);return!1}var yu=Error(l(461)),rt=!1;function yt(n,o,r,u){o.child=n===null?Yd(o,null,r,u):Pi(o,n.child,r,u)}function qp(n,o,r,u,m){r=r.render;var v=o.ref;if("ref"in u){var E={};for(var C in u)C!=="ref"&&(E[C]=u[C])}else E=u;return ki(o),u=Ws(n,o,r,E,v,m),C=js(),n!==null&&!rt?(eu(n,o,m),zn(n,o,m)):(De&&C&&ks(o),o.flags|=1,yt(n,o,u,m),o.child)}function Bp(n,o,r,u,m){if(n===null){var v=r.type;return typeof v=="function"&&!Ns(v)&&v.defaultProps===void 0&&r.compare===null?(o.tag=15,o.type=v,Fp(n,o,v,u,m)):(n=xr(r.type,null,u,o,o.mode,m),n.ref=o.ref,n.return=o,o.child=n)}if(v=n.child,!xu(n,m)){var E=v.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(E,u)&&n.ref===o.ref)return zn(n,o,m)}return o.flags|=1,n=Nn(v,u),n.ref=o.ref,n.return=o,o.child=n}function Fp(n,o,r,u,m){if(n!==null){var v=n.memoizedProps;if(al(v,u)&&n.ref===o.ref)if(rt=!1,o.pendingProps=u=v,xu(n,m))(n.flags&131072)!==0&&(rt=!0);else return o.lanes=n.lanes,zn(n,o,m)}return vu(n,o,r,u,m)}function Yp(n,o,r,u){var m=u.children,v=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|r:r,n!==null){for(u=o.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~v}else u=0,o.child=null;return Jp(n,o,v,r,u)}if((r&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mr(o,v!==null?v.cachePool:null),v!==null?Xd(o,v):Xs(),Qd(o);else return u=o.lanes=536870912,Jp(n,o,v!==null?v.baseLanes|r:r,r,u)}else v!==null?(Mr(o,v.cachePool),Xd(o,v),li(),o.memoizedState=null):(n!==null&&Mr(o,null),Xs(),li());return yt(n,o,m,r),o.child}function _l(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Jp(n,o,r,u,m){var v=qs();return v=v===null?null:{parent:ot._currentValue,pool:v},o.memoizedState={baseLanes:r,cachePool:v},n!==null&&Mr(o,null),Xs(),Qd(o),n!==null&&po(n,o,u,!0),o.childLanes=m,null}function Yr(n,o){return o=Kr({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function Kp(n,o,r){return Pi(o,n.child,null,r),n=Yr(o,o.pendingProps),n.flags|=2,Bt(o),o.memoizedState=null,n}function jS(n,o,r){var u=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(De){if(u.mode==="hidden")return n=Yr(o,u),o.lanes=536870912,_l(null,n);if(Zs(o),(n=Ze)?(n=lm(n,nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:$n!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},r=Nd(n),r.return=o,o.child=r,mt=o,Ze=null)):n=null,n===null)throw jn(o);return o.lanes=536870912,null}return Yr(o,u)}var v=n.memoizedState;if(v!==null){var E=v.dehydrated;if(Zs(o),m)if(o.flags&256)o.flags&=-257,o=Kp(n,o,r);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(l(558));else if(rt||po(n,o,r,!1),m=(r&n.childLanes)!==0,rt||m){if(u=Ke,u!==null&&(E=Pf(u,r),E!==0&&E!==v.retryLane))throw v.retryLane=E,Mi(n,E),Lt(u,n,E),yu;na(),o=Kp(n,o,r)}else n=v.treeContext,Ze=ln(E.nextSibling),mt=o,De=!0,Wn=null,nn=!1,n!==null&&kd(o,n),o=Yr(o,u),o.flags|=4096;return o}return n=Nn(n.child,{mode:u.mode,children:u.children}),n.ref=o.ref,o.child=n,n.return=o,n}function Jr(n,o){var r=o.ref;if(r===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(n===null||n.ref!==r)&&(o.flags|=4194816)}}function vu(n,o,r,u,m){return ki(o),r=Ws(n,o,r,u,void 0,m),u=js(),n!==null&&!rt?(eu(n,o,m),zn(n,o,m)):(De&&u&&ks(o),o.flags|=1,yt(n,o,r,m),o.child)}function Xp(n,o,r,u,m,v){return ki(o),o.updateQueue=null,r=$d(o,u,r,m),Zd(n),u=js(),n!==null&&!rt?(eu(n,o,v),zn(n,o,v)):(De&&u&&ks(o),o.flags|=1,yt(n,o,r,v),o.child)}function Qp(n,o,r,u,m){if(ki(o),o.stateNode===null){var v=so,E=r.contextType;typeof E=="object"&&E!==null&&(v=gt(E)),v=new r(u,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=mu,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=u,v.state=o.memoizedState,v.refs={},Fs(o),E=r.contextType,v.context=typeof E=="object"&&E!==null?gt(E):so,v.state=o.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(hu(o,r,E,u),v.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&mu.enqueueReplaceState(v,v.state,null),yl(o,u,v,m),gl(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(n===null){v=o.stateNode;var C=o.memoizedProps,R=Oi(r,C);v.props=R;var O=v.context,F=r.contextType;E=so,typeof F=="object"&&F!==null&&(E=gt(F));var Q=r.getDerivedStateFromProps;F=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||O!==E)&&Lp(o,v,u,E),ti=!1;var G=o.memoizedState;v.state=G,yl(o,u,v,m),gl(),O=o.memoizedState,C||G!==O||ti?(typeof Q=="function"&&(hu(o,r,Q,u),O=o.memoizedState),(R=ti||Up(o,r,R,u,G,O,E))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=O),v.props=u,v.state=O,v.context=E,u=R):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{v=o.stateNode,Ys(n,o),E=o.memoizedProps,F=Oi(r,E),v.props=F,Q=o.pendingProps,G=v.context,O=r.contextType,R=so,typeof O=="object"&&O!==null&&(R=gt(O)),C=r.getDerivedStateFromProps,(O=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==Q||G!==R)&&Lp(o,v,u,R),ti=!1,G=o.memoizedState,v.state=G,yl(o,u,v,m),gl();var q=o.memoizedState;E!==Q||G!==q||ti||n!==null&&n.dependencies!==null&&wr(n.dependencies)?(typeof C=="function"&&(hu(o,r,C,u),q=o.memoizedState),(F=ti||Up(o,r,F,u,G,q,R)||n!==null&&n.dependencies!==null&&wr(n.dependencies))?(O||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,q,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,q,R)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=q),v.props=u,v.state=q,v.context=R,u=F):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=1024),u=!1)}return v=u,Jr(n,o),u=(o.flags&128)!==0,v||u?(v=o.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,n!==null&&u?(o.child=Pi(o,n.child,null,m),o.child=Pi(o,null,r,m)):yt(n,o,r,m),o.memoizedState=v.state,n=o.child):n=zn(n,o,m),n}function Zp(n,o,r,u){return Ii(),o.flags|=256,yt(n,o,r,u),o.child}var Su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(n){return{baseLanes:n,cachePool:Od()}}function Eu(n,o,r){return n=n!==null?n.childLanes&~r:0,o&&(n|=Yt),n}function $p(n,o,r){var u=o.pendingProps,m=!1,v=(o.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(tt.current&2)!==0),E&&(m=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,n===null){if(De){if(m?oi(o):li(),(n=Ze)?(n=lm(n,nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:$n!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},r=Nd(n),r.return=o,o.child=r,mt=o,Ze=null)):n=null,n===null)throw jn(o);return ic(n)?o.lanes=32:o.lanes=536870912,null}var C=u.children;return u=u.fallback,m?(li(),m=o.mode,C=Kr({mode:"hidden",children:C},m),u=Ni(u,m,r,null),C.return=o,u.return=o,C.sibling=u,o.child=C,u=o.child,u.memoizedState=Tu(r),u.childLanes=Eu(n,E,r),o.memoizedState=Su,_l(null,u)):(oi(o),_u(o,C))}var R=n.memoizedState;if(R!==null&&(C=R.dehydrated,C!==null)){if(v)o.flags&256?(oi(o),o.flags&=-257,o=Cu(n,o,r)):o.memoizedState!==null?(li(),o.child=n.child,o.flags|=128,o=null):(li(),C=u.fallback,m=o.mode,u=Kr({mode:"visible",children:u.children},m),C=Ni(C,m,r,null),C.flags|=2,u.return=o,C.return=o,u.sibling=C,o.child=u,Pi(o,n.child,null,r),u=o.child,u.memoizedState=Tu(r),u.childLanes=Eu(n,E,r),o.memoizedState=Su,o=_l(null,u));else if(oi(o),ic(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var O=E.dgst;E=O,u=Error(l(419)),u.stack="",u.digest=E,cl({value:u,source:null,stack:null}),o=Cu(n,o,r)}else if(rt||po(n,o,r,!1),E=(r&n.childLanes)!==0,rt||E){if(E=Ke,E!==null&&(u=Pf(E,r),u!==0&&u!==R.retryLane))throw R.retryLane=u,Mi(n,u),Lt(E,n,u),yu;nc(C)||na(),o=Cu(n,o,r)}else nc(C)?(o.flags|=192,o.child=n.child,o=null):(n=R.treeContext,Ze=ln(C.nextSibling),mt=o,De=!0,Wn=null,nn=!1,n!==null&&kd(o,n),o=_u(o,u.children),o.flags|=4096);return o}return m?(li(),C=u.fallback,m=o.mode,R=n.child,O=R.sibling,u=Nn(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,O!==null?C=Nn(O,C):(C=Ni(C,m,r,null),C.flags|=2),C.return=o,u.return=o,u.sibling=C,o.child=u,_l(null,u),u=o.child,C=n.child.memoizedState,C===null?C=Tu(r):(m=C.cachePool,m!==null?(R=ot._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=Od(),C={baseLanes:C.baseLanes|r,cachePool:m}),u.memoizedState=C,u.childLanes=Eu(n,E,r),o.memoizedState=Su,_l(n.child,u)):(oi(o),r=n.child,n=r.sibling,r=Nn(r,{mode:"visible",children:u.children}),r.return=o,r.sibling=null,n!==null&&(E=o.deletions,E===null?(o.deletions=[n],o.flags|=16):E.push(n)),o.child=r,o.memoizedState=null,r)}function _u(n,o){return o=Kr({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Kr(n,o){return n=Vt(22,n,null,o),n.lanes=0,n}function Cu(n,o,r){return Pi(o,n.child,null,r),n=_u(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Wp(n,o,r){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o),Hs(n.return,o,r)}function Au(n,o,r,u,m,v){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:m,treeForkCount:v}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=r,E.tailMode=m,E.treeForkCount=v)}function jp(n,o,r){var u=o.pendingProps,m=u.revealOrder,v=u.tail;u=u.children;var E=tt.current,C=(E&2)!==0;if(C?(E=E&1|2,o.flags|=128):E&=1,A(tt,E),yt(n,o,u,r),u=De?ul:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wp(n,r,o);else if(n.tag===19)Wp(n,r,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(r=o.child,m=null;r!==null;)n=r.alternate,n!==null&&Lr(n)===null&&(m=r),r=r.sibling;r=m,r===null?(m=o.child,o.child=null):(m=r.sibling,r.sibling=null),Au(o,!1,m,r,v,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=o.child,o.child=null;m!==null;){if(n=m.alternate,n!==null&&Lr(n)===null){o.child=m;break}n=m.sibling,m.sibling=r,r=m,m=n}Au(o,!0,r,null,v,u);break;case"together":Au(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function zn(n,o,r){if(n!==null&&(o.dependencies=n.dependencies),si|=o.lanes,(r&o.childLanes)===0)if(n!==null){if(po(n,o,r,!1),(r&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(l(153));if(o.child!==null){for(n=o.child,r=Nn(n,n.pendingProps),o.child=r,r.return=o;n.sibling!==null;)n=n.sibling,r=r.sibling=Nn(n,n.pendingProps),r.return=o;r.sibling=null}return o.child}function xu(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&wr(n)))}function eT(n,o,r){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),ei(o,ot,n.memoizedState.cache),Ii();break;case 27:case 5:Qt(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:ei(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Zs(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(oi(o),o.flags|=128,null):(r&o.child.childLanes)!==0?$p(n,o,r):(oi(o),n=zn(n,o,r),n!==null?n.sibling:null);oi(o);break;case 19:var m=(n.flags&128)!==0;if(u=(r&o.childLanes)!==0,u||(po(n,o,r,!1),u=(r&o.childLanes)!==0),m){if(u)return jp(n,o,r);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),A(tt,tt.current),u)break;return null;case 22:return o.lanes=0,Yp(n,o,r,o.pendingProps);case 24:ei(o,ot,n.memoizedState.cache)}return zn(n,o,r)}function eh(n,o,r){if(n!==null)if(n.memoizedProps!==o.pendingProps)rt=!0;else{if(!xu(n,r)&&(o.flags&128)===0)return rt=!1,eT(n,o,r);rt=(n.flags&131072)!==0}else rt=!1,De&&(o.flags&1048576)!==0&&Dd(o,ul,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(n=Li(o.elementType),o.type=n,typeof n=="function")Ns(n)?(u=Oi(n,u),o.tag=1,o=Qp(null,o,n,u,r)):(o.tag=0,o=vu(null,o,n,u,r));else{if(n!=null){var m=n.$$typeof;if(m===X){o.tag=11,o=qp(null,o,n,u,r);break e}else if(m===Y){o.tag=14,o=Bp(null,o,n,u,r);break e}}throw o=le(n)||n,Error(l(306,o,""))}}return o;case 0:return vu(n,o,o.type,o.pendingProps,r);case 1:return u=o.type,m=Oi(u,o.pendingProps),Qp(n,o,u,m,r);case 3:e:{if(ke(o,o.stateNode.containerInfo),n===null)throw Error(l(387));u=o.pendingProps;var v=o.memoizedState;m=v.element,Ys(n,o),yl(o,u,null,r);var E=o.memoizedState;if(u=E.cache,ei(o,ot,u),u!==v.cache&&Os(o,[ot],r,!0),gl(),u=E.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Zp(n,o,u,r);break e}else if(u!==m){m=jt(Error(l(424)),o),cl(m),o=Zp(n,o,u,r);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ze=ln(n.firstChild),mt=o,De=!0,Wn=null,nn=!0,r=Yd(o,null,u,r),o.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ii(),u===m){o=zn(n,o,r);break e}yt(n,o,u,r)}o=o.child}return o;case 26:return Jr(n,o),n===null?(r=fm(o.type,null,o.pendingProps,null))?o.memoizedState=r:De||(r=o.type,n=o.pendingProps,u=ua(de.current).createElement(r),u[ht]=o,u[Mt]=n,vt(u,r,n),ft(u),o.stateNode=u):o.memoizedState=fm(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Qt(o),n===null&&De&&(u=o.stateNode=sm(o.type,o.pendingProps,de.current),mt=o,nn=!0,m=Ze,pi(o.type)?(oc=m,Ze=ln(u.firstChild)):Ze=m),yt(n,o,o.pendingProps.children,r),Jr(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&De&&((m=u=Ze)&&(u=NT(u,o.type,o.pendingProps,nn),u!==null?(o.stateNode=u,mt=o,Ze=ln(u.firstChild),nn=!1,m=!0):m=!1),m||jn(o)),Qt(o),m=o.type,v=o.pendingProps,E=n!==null?n.memoizedProps:null,u=v.children,ju(m,v)?u=null:E!==null&&ju(m,E)&&(o.flags|=32),o.memoizedState!==null&&(m=Ws(n,o,YS,null,null,r),Pl._currentValue=m),Jr(n,o),yt(n,o,u,r),o.child;case 6:return n===null&&De&&((n=r=Ze)&&(r=IT(r,o.pendingProps,nn),r!==null?(o.stateNode=r,mt=o,Ze=null,n=!0):n=!1),n||jn(o)),null;case 13:return $p(n,o,r);case 4:return ke(o,o.stateNode.containerInfo),u=o.pendingProps,n===null?o.child=Pi(o,null,u,r):yt(n,o,u,r),o.child;case 11:return qp(n,o,o.type,o.pendingProps,r);case 7:return yt(n,o,o.pendingProps,r),o.child;case 8:return yt(n,o,o.pendingProps.children,r),o.child;case 12:return yt(n,o,o.pendingProps.children,r),o.child;case 10:return u=o.pendingProps,ei(o,o.type,u.value),yt(n,o,u.children,r),o.child;case 9:return m=o.type._context,u=o.pendingProps.children,ki(o),m=gt(m),u=u(m),o.flags|=1,yt(n,o,u,r),o.child;case 14:return Bp(n,o,o.type,o.pendingProps,r);case 15:return Fp(n,o,o.type,o.pendingProps,r);case 19:return jp(n,o,r);case 31:return jS(n,o,r);case 22:return Yp(n,o,r,o.pendingProps);case 24:return ki(o),u=gt(ot),n===null?(m=qs(),m===null&&(m=Ke,v=Gs(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=r),m=v),o.memoizedState={parent:u,cache:m},Fs(o),ei(o,ot,m)):((n.lanes&r)!==0&&(Ys(n,o),yl(o,null,null,r),gl()),m=n.memoizedState,v=o.memoizedState,m.parent!==u?(m={parent:u,cache:u},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ei(o,ot,u)):(u=v.cache,ei(o,ot,u),u!==m.cache&&Os(o,[ot],r,!0))),yt(n,o,o.pendingProps.children,r),o.child;case 29:throw o.pendingProps}throw Error(l(156,o.tag))}function Pn(n){n.flags|=4}function bu(n,o,r,u,m){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(wh())n.flags|=8192;else throw zi=Ir,Bs}else n.flags&=-16777217}function th(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!gm(o))if(wh())n.flags|=8192;else throw zi=Ir,Bs}function Xr(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Uf():536870912,n.lanes|=o,xo|=o)}function Cl(n,o){if(!De)switch(n.tailMode){case"hidden":o=n.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function $e(n){var o=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(o)for(var m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=r,o}function tT(n,o,r){var u=o.pendingProps;switch(Us(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(o),null;case 1:return $e(o),null;case 3:return r=o.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),kn(ot),Ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(fo(o)?Pn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zs())),$e(o),null;case 26:var m=o.type,v=o.memoizedState;return n===null?(Pn(o),v!==null?($e(o),th(o,v)):($e(o),bu(o,m,null,u,r))):v?v!==n.memoizedState?(Pn(o),$e(o),th(o,v)):($e(o),o.flags&=-16777217):(n=n.memoizedProps,n!==u&&Pn(o),$e(o),bu(o,m,n,u,r)),null;case 27:if(An(o),r=de.current,m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Pn(o);else{if(!u){if(o.stateNode===null)throw Error(l(166));return $e(o),null}n=te.current,fo(o)?Ud(o):(n=sm(m,u,r),o.stateNode=n,Pn(o))}return $e(o),null;case 5:if(An(o),m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Pn(o);else{if(!u){if(o.stateNode===null)throw Error(l(166));return $e(o),null}if(v=te.current,fo(o))Ud(o);else{var E=ua(de.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?E.createElement(m,{is:u.is}):E.createElement(m)}}v[ht]=o,v[Mt]=u;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=v;e:switch(vt(v,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Pn(o)}}return $e(o),bu(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,r),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==u&&Pn(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(l(166));if(n=de.current,fo(o)){if(n=o.stateNode,r=o.memoizedProps,u=null,m=mt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[ht]=o,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||$h(n.nodeValue,r)),n||jn(o,!0)}else n=ua(n).createTextNode(u),n[ht]=o,o.stateNode=n}return $e(o),null;case 31:if(r=o.memoizedState,n===null||n.memoizedState!==null){if(u=fo(o),r!==null){if(n===null){if(!u)throw Error(l(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[ht]=o}else Ii(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$e(o),n=!1}else r=zs(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return o.flags&256?(Bt(o),o):(Bt(o),null);if((o.flags&128)!==0)throw Error(l(558))}return $e(o),null;case 13:if(u=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=fo(o),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(l(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[ht]=o}else Ii(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$e(o),m=!1}else m=zs(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Bt(o),o):(Bt(o),null)}return Bt(o),(o.flags&128)!==0?(o.lanes=r,o):(r=u!==null,n=n!==null&&n.memoizedState!==null,r&&(u=o.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==m&&(u.flags|=2048)),r!==n&&r&&(o.child.flags|=8192),Xr(o,o.updateQueue),$e(o),null);case 4:return Ue(),n===null&&Xu(o.stateNode.containerInfo),$e(o),null;case 10:return kn(o.type),$e(o),null;case 19:if(V(tt),u=o.memoizedState,u===null)return $e(o),null;if(m=(o.flags&128)!==0,v=u.rendering,v===null)if(m)Cl(u,!1);else{if(et!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(v=Lr(n),v!==null){for(o.flags|=128,Cl(u,!1),n=v.updateQueue,o.updateQueue=n,Xr(o,n),o.subtreeFlags=0,n=r,r=o.child;r!==null;)Md(r,n),r=r.sibling;return A(tt,tt.current&1|2),De&&In(o,u.treeForkCount),o.child}n=n.sibling}u.tail!==null&&Ct()>jr&&(o.flags|=128,m=!0,Cl(u,!1),o.lanes=4194304)}else{if(!m)if(n=Lr(v),n!==null){if(o.flags|=128,m=!0,n=n.updateQueue,o.updateQueue=n,Xr(o,n),Cl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!De)return $e(o),null}else 2*Ct()-u.renderingStartTime>jr&&r!==536870912&&(o.flags|=128,m=!0,Cl(u,!1),o.lanes=4194304);u.isBackwards?(v.sibling=o.child,o.child=v):(n=u.last,n!==null?n.sibling=v:o.child=v,u.last=v)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ct(),n.sibling=null,r=tt.current,A(tt,m?r&1|2:r&1),De&&In(o,u.treeForkCount),n):($e(o),null);case 22:case 23:return Bt(o),Qs(),u=o.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(r&536870912)!==0&&(o.flags&128)===0&&($e(o),o.subtreeFlags&6&&(o.flags|=8192)):$e(o),r=o.updateQueue,r!==null&&Xr(o,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==r&&(o.flags|=2048),n!==null&&V(Ui),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),kn(ot),$e(o),null;case 25:return null;case 30:return null}throw Error(l(156,o.tag))}function nT(n,o){switch(Us(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return kn(ot),Ue(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return An(o),null;case 31:if(o.memoizedState!==null){if(Bt(o),o.alternate===null)throw Error(l(340));Ii()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Bt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(l(340));Ii()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return V(tt),null;case 4:return Ue(),null;case 10:return kn(o.type),null;case 22:case 23:return Bt(o),Qs(),n!==null&&V(Ui),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return kn(ot),null;case 25:return null;default:return null}}function nh(n,o){switch(Us(o),o.tag){case 3:kn(ot),Ue();break;case 26:case 27:case 5:An(o);break;case 4:Ue();break;case 31:o.memoizedState!==null&&Bt(o);break;case 13:Bt(o);break;case 19:V(tt);break;case 10:kn(o.type);break;case 22:case 23:Bt(o),Qs(),n!==null&&V(Ui);break;case 24:kn(ot)}}function Al(n,o){try{var r=o.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var m=u.next;r=m;do{if((r.tag&n)===n){u=void 0;var v=r.create,E=r.inst;u=v(),E.destroy=u}r=r.next}while(r!==m)}}catch(C){qe(o,o.return,C)}}function ri(n,o,r){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&n)===n){var E=u.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,m=o;var R=r,O=C;try{O()}catch(F){qe(m,R,F)}}}u=u.next}while(u!==v)}}catch(F){qe(o,o.return,F)}}function ih(n){var o=n.updateQueue;if(o!==null){var r=n.stateNode;try{Kd(o,r)}catch(u){qe(n,n.return,u)}}}function oh(n,o,r){r.props=Oi(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){qe(n,o,u)}}function xl(n,o){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof r=="function"?n.refCleanup=r(u):r.current=u}}catch(m){qe(n,o,m)}}function Sn(n,o){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(m){qe(n,o,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){qe(n,o,m)}else r.current=null}function lh(n){var o=n.type,r=n.memoizedProps,u=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(m){qe(n,n.return,m)}}function wu(n,o,r){try{var u=n.stateNode;AT(u,n.type,r,o),u[Mt]=o}catch(m){qe(n,n.return,m)}}function rh(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&pi(n.type)||n.tag===4}function Ru(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&pi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mu(n,o,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,o):(o=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.appendChild(n),r=r._reactRootContainer,r!=null||o.onclick!==null||(o.onclick=Rn));else if(u!==4&&(u===27&&pi(n.type)&&(r=n.stateNode,o=null),n=n.child,n!==null))for(Mu(n,o,r),n=n.sibling;n!==null;)Mu(n,o,r),n=n.sibling}function Qr(n,o,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?r.insertBefore(n,o):r.appendChild(n);else if(u!==4&&(u===27&&pi(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(Qr(n,o,r),n=n.sibling;n!==null;)Qr(n,o,r),n=n.sibling}function ah(n){var o=n.stateNode,r=n.memoizedProps;try{for(var u=n.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);vt(o,u,r),o[ht]=n,o[Mt]=r}catch(v){qe(n,n.return,v)}}var Hn=!1,at=!1,Nu=!1,sh=typeof WeakSet=="function"?WeakSet:Set,dt=null;function iT(n,o){if(n=n.containerInfo,$u=ga,n=Td(n),Cs(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var m=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{r.nodeType,v.nodeType}catch{r=null;break e}var E=0,C=-1,R=-1,O=0,F=0,Q=n,G=null;t:for(;;){for(var q;Q!==r||m!==0&&Q.nodeType!==3||(C=E+m),Q!==v||u!==0&&Q.nodeType!==3||(R=E+u),Q.nodeType===3&&(E+=Q.nodeValue.length),(q=Q.firstChild)!==null;)G=Q,Q=q;for(;;){if(Q===n)break t;if(G===r&&++O===m&&(C=E),G===v&&++F===u&&(R=E),(q=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=q}r=C===-1||R===-1?null:{start:C,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wu={focusedElem:n,selectionRange:r},ga=!1,dt=o;dt!==null;)if(o=dt,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,dt=n;else for(;dt!==null;){switch(o=dt,v=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)m=n[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,r=o,m=v.memoizedProps,v=v.memoizedState,u=r.stateNode;try{var ce=Oi(r.type,m);n=u.getSnapshotBeforeUpdate(ce,v),u.__reactInternalSnapshotBeforeUpdate=n}catch(ge){qe(r,r.return,ge)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,r=n.nodeType,r===9)tc(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":tc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=o.sibling,n!==null){n.return=o.return,dt=n;break}dt=o.return}}function uh(n,o,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(n,r),u&4&&Al(5,r);break;case 1:if(Gn(n,r),u&4)if(n=r.stateNode,o===null)try{n.componentDidMount()}catch(E){qe(r,r.return,E)}else{var m=Oi(r.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(m,o,n.__reactInternalSnapshotBeforeUpdate)}catch(E){qe(r,r.return,E)}}u&64&&ih(r),u&512&&xl(r,r.return);break;case 3:if(Gn(n,r),u&64&&(n=r.updateQueue,n!==null)){if(o=null,r.child!==null)switch(r.child.tag){case 27:case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}try{Kd(n,o)}catch(E){qe(r,r.return,E)}}break;case 27:o===null&&u&4&&ah(r);case 26:case 5:Gn(n,r),o===null&&u&4&&lh(r),u&512&&xl(r,r.return);break;case 12:Gn(n,r);break;case 31:Gn(n,r),u&4&&dh(n,r);break;case 13:Gn(n,r),u&4&&ph(n,r),u&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=dT.bind(null,r),DT(n,r))));break;case 22:if(u=r.memoizedState!==null||Hn,!u){o=o!==null&&o.memoizedState!==null||at,m=Hn;var v=at;Hn=u,(at=o)&&!v?Vn(n,r,(r.subtreeFlags&8772)!==0):Gn(n,r),Hn=m,at=v}break;case 30:break;default:Gn(n,r)}}function ch(n){var o=n.alternate;o!==null&&(n.alternate=null,ch(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&rs(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var We=null,It=!1;function On(n,o,r){for(r=r.child;r!==null;)fh(n,o,r),r=r.sibling}function fh(n,o,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(At,r)}catch{}switch(r.tag){case 26:at||Sn(r,o),On(n,o,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:at||Sn(r,o);var u=We,m=It;pi(r.type)&&(We=r.stateNode,It=!1),On(n,o,r),Ul(r.stateNode),We=u,It=m;break;case 5:at||Sn(r,o);case 6:if(u=We,m=It,We=null,On(n,o,r),We=u,It=m,We!==null)if(It)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(r.stateNode)}catch(v){qe(r,o,v)}else try{We.removeChild(r.stateNode)}catch(v){qe(r,o,v)}break;case 18:We!==null&&(It?(n=We,im(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),ko(n)):im(We,r.stateNode));break;case 4:u=We,m=It,We=r.stateNode.containerInfo,It=!0,On(n,o,r),We=u,It=m;break;case 0:case 11:case 14:case 15:ri(2,r,o),at||ri(4,r,o),On(n,o,r);break;case 1:at||(Sn(r,o),u=r.stateNode,typeof u.componentWillUnmount=="function"&&oh(r,o,u)),On(n,o,r);break;case 21:On(n,o,r);break;case 22:at=(u=at)||r.memoizedState!==null,On(n,o,r),at=u;break;default:On(n,o,r)}}function dh(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ko(n)}catch(r){qe(o,o.return,r)}}}function ph(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ko(n)}catch(r){qe(o,o.return,r)}}function oT(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new sh),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new sh),o;default:throw Error(l(435,n.tag))}}function Zr(n,o){var r=oT(n);o.forEach(function(u){if(!r.has(u)){r.add(u);var m=pT.bind(null,n,u);u.then(m,m)}})}function Dt(n,o){var r=o.deletions;if(r!==null)for(var u=0;u<r.length;u++){var m=r[u],v=n,E=o,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(pi(C.type)){We=C.stateNode,It=!1;break e}break;case 5:We=C.stateNode,It=!1;break e;case 3:case 4:We=C.stateNode.containerInfo,It=!0;break e}C=C.return}if(We===null)throw Error(l(160));fh(v,E,m),We=null,It=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)hh(o,n),o=o.sibling}var dn=null;function hh(n,o){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dt(o,n),kt(n),u&4&&(ri(3,n,n.return),Al(3,n),ri(5,n,n.return));break;case 1:Dt(o,n),kt(n),u&512&&(at||r===null||Sn(r,r.return)),u&64&&Hn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var m=dn;if(Dt(o,n),kt(n),u&512&&(at||r===null||Sn(r,r.return)),u&4){var v=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){e:{u=n.type,r=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Wo]||v[ht]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(u),m.head.insertBefore(v,m.querySelector("head > title"))),vt(v,u,r),v[ht]=n,ft(v),u=v;break e;case"link":var E=hm("link","href",m).get(u+(r.href||""));if(E){for(var C=0;C<E.length;C++)if(v=E[C],v.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&v.getAttribute("rel")===(r.rel==null?null:r.rel)&&v.getAttribute("title")===(r.title==null?null:r.title)&&v.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(C,1);break t}}v=m.createElement(u),vt(v,u,r),m.head.appendChild(v);break;case"meta":if(E=hm("meta","content",m).get(u+(r.content||""))){for(C=0;C<E.length;C++)if(v=E[C],v.getAttribute("content")===(r.content==null?null:""+r.content)&&v.getAttribute("name")===(r.name==null?null:r.name)&&v.getAttribute("property")===(r.property==null?null:r.property)&&v.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&v.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(C,1);break t}}v=m.createElement(u),vt(v,u,r),m.head.appendChild(v);break;default:throw Error(l(468,u))}v[ht]=n,ft(v),u=v}n.stateNode=u}else mm(m,n.type,n.stateNode);else n.stateNode=pm(m,u,n.memoizedProps);else v!==u?(v===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):v.count--,u===null?mm(m,n.type,n.stateNode):pm(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&wu(n,n.memoizedProps,r.memoizedProps)}break;case 27:Dt(o,n),kt(n),u&512&&(at||r===null||Sn(r,r.return)),r!==null&&u&4&&wu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Dt(o,n),kt(n),u&512&&(at||r===null||Sn(r,r.return)),n.flags&32){m=n.stateNode;try{to(m,"")}catch(ce){qe(n,n.return,ce)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,wu(n,m,r!==null?r.memoizedProps:m)),u&1024&&(Nu=!0);break;case 6:if(Dt(o,n),kt(n),u&4){if(n.stateNode===null)throw Error(l(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(ce){qe(n,n.return,ce)}}break;case 3:if(da=null,m=dn,dn=ca(o.containerInfo),Dt(o,n),dn=m,kt(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(o.containerInfo)}catch(ce){qe(n,n.return,ce)}Nu&&(Nu=!1,mh(n));break;case 4:u=dn,dn=ca(n.stateNode.containerInfo),Dt(o,n),kt(n),dn=u;break;case 12:Dt(o,n),kt(n);break;case 31:Dt(o,n),kt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zr(n,u)));break;case 13:Dt(o,n),kt(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wr=Ct()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zr(n,u)));break;case 22:m=n.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,O=Hn,F=at;if(Hn=O||m,at=F||R,Dt(o,n),at=F,Hn=O,kt(n),u&8192)e:for(o=n.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(r===null||R||Hn||at||Gi(n)),r=null,o=n;;){if(o.tag===5||o.tag===26){if(r===null){R=r=o;try{if(v=R.stateNode,m)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=R.stateNode;var Q=R.memoizedProps.style,G=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ce){qe(R,R.return,ce)}}}else if(o.tag===6){if(r===null){R=o;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(ce){qe(R,R.return,ce)}}}else if(o.tag===18){if(r===null){R=o;try{var q=R.stateNode;m?om(q,!0):om(R.stateNode,!1)}catch(ce){qe(R,R.return,ce)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;r===o&&(r=null),o=o.return}r===o&&(r=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Zr(n,r))));break;case 19:Dt(o,n),kt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zr(n,u)));break;case 30:break;case 21:break;default:Dt(o,n),kt(n)}}function kt(n){var o=n.flags;if(o&2){try{for(var r,u=n.return;u!==null;){if(rh(u)){r=u;break}u=u.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var m=r.stateNode,v=Ru(n);Qr(n,v,m);break;case 5:var E=r.stateNode;r.flags&32&&(to(E,""),r.flags&=-33);var C=Ru(n);Qr(n,C,E);break;case 3:case 4:var R=r.stateNode.containerInfo,O=Ru(n);Mu(n,O,R);break;default:throw Error(l(161))}}catch(F){qe(n,n.return,F)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function mh(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;mh(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Gn(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)uh(n,o.alternate,o),o=o.sibling}function Gi(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:ri(4,o,o.return),Gi(o);break;case 1:Sn(o,o.return);var r=o.stateNode;typeof r.componentWillUnmount=="function"&&oh(o,o.return,r),Gi(o);break;case 27:Ul(o.stateNode);case 26:case 5:Sn(o,o.return),Gi(o);break;case 22:o.memoizedState===null&&Gi(o);break;case 30:Gi(o);break;default:Gi(o)}n=n.sibling}}function Vn(n,o,r){for(r=r&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,m=n,v=o,E=v.flags;switch(v.tag){case 0:case 11:case 15:Vn(m,v,r),Al(4,v);break;case 1:if(Vn(m,v,r),u=v,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(O){qe(u,u.return,O)}if(u=v,m=u.updateQueue,m!==null){var C=u.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)Jd(R[m],C)}catch(O){qe(u,u.return,O)}}r&&E&64&&ih(v),xl(v,v.return);break;case 27:ah(v);case 26:case 5:Vn(m,v,r),r&&u===null&&E&4&&lh(v),xl(v,v.return);break;case 12:Vn(m,v,r);break;case 31:Vn(m,v,r),r&&E&4&&dh(m,v);break;case 13:Vn(m,v,r),r&&E&4&&ph(m,v);break;case 22:v.memoizedState===null&&Vn(m,v,r),xl(v,v.return);break;case 30:break;default:Vn(m,v,r)}o=o.sibling}}function Iu(n,o){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&fl(r))}function Du(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&fl(n))}function pn(n,o,r,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)gh(n,o,r,u),o=o.sibling}function gh(n,o,r,u){var m=o.flags;switch(o.tag){case 0:case 11:case 15:pn(n,o,r,u),m&2048&&Al(9,o);break;case 1:pn(n,o,r,u);break;case 3:pn(n,o,r,u),m&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&fl(n)));break;case 12:if(m&2048){pn(n,o,r,u),n=o.stateNode;try{var v=o.memoizedProps,E=v.id,C=v.onPostCommit;typeof C=="function"&&C(E,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){qe(o,o.return,R)}}else pn(n,o,r,u);break;case 31:pn(n,o,r,u);break;case 13:pn(n,o,r,u);break;case 23:break;case 22:v=o.stateNode,E=o.alternate,o.memoizedState!==null?v._visibility&2?pn(n,o,r,u):bl(n,o):v._visibility&2?pn(n,o,r,u):(v._visibility|=2,_o(n,o,r,u,(o.subtreeFlags&10256)!==0||!1)),m&2048&&Iu(E,o);break;case 24:pn(n,o,r,u),m&2048&&Du(o.alternate,o);break;default:pn(n,o,r,u)}}function _o(n,o,r,u,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=n,E=o,C=r,R=u,O=E.flags;switch(E.tag){case 0:case 11:case 15:_o(v,E,C,R,m),Al(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?_o(v,E,C,R,m):bl(v,E):(F._visibility|=2,_o(v,E,C,R,m)),m&&O&2048&&Iu(E.alternate,E);break;case 24:_o(v,E,C,R,m),m&&O&2048&&Du(E.alternate,E);break;default:_o(v,E,C,R,m)}o=o.sibling}}function bl(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var r=n,u=o,m=u.flags;switch(u.tag){case 22:bl(r,u),m&2048&&Iu(u.alternate,u);break;case 24:bl(r,u),m&2048&&Du(u.alternate,u);break;default:bl(r,u)}o=o.sibling}}var wl=8192;function Co(n,o,r){if(n.subtreeFlags&wl)for(n=n.child;n!==null;)yh(n,o,r),n=n.sibling}function yh(n,o,r){switch(n.tag){case 26:Co(n,o,r),n.flags&wl&&n.memoizedState!==null&&FT(r,dn,n.memoizedState,n.memoizedProps);break;case 5:Co(n,o,r);break;case 3:case 4:var u=dn;dn=ca(n.stateNode.containerInfo),Co(n,o,r),dn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=wl,wl=16777216,Co(n,o,r),wl=u):Co(n,o,r));break;default:Co(n,o,r)}}function vh(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Rl(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var u=o[r];dt=u,Th(u,n)}vh(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sh(n),n=n.sibling}function Sh(n){switch(n.tag){case 0:case 11:case 15:Rl(n),n.flags&2048&&ri(9,n,n.return);break;case 3:Rl(n);break;case 12:Rl(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,$r(n)):Rl(n);break;default:Rl(n)}}function $r(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var u=o[r];dt=u,Th(u,n)}vh(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:ri(8,o,o.return),$r(o);break;case 22:r=o.stateNode,r._visibility&2&&(r._visibility&=-3,$r(o));break;default:$r(o)}n=n.sibling}}function Th(n,o){for(;dt!==null;){var r=dt;switch(r.tag){case 0:case 11:case 15:ri(8,r,o);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fl(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,dt=u;else e:for(r=n;dt!==null;){u=dt;var m=u.sibling,v=u.return;if(ch(u),u===r){dt=null;break e}if(m!==null){m.return=v,dt=m;break e}dt=v}}}var lT={getCacheForType:function(n){var o=gt(ot),r=o.data.get(n);return r===void 0&&(r=n(),o.data.set(n,r)),r},cacheSignal:function(){return gt(ot).controller.signal}},rT=typeof WeakMap=="function"?WeakMap:Map,He=0,Ke=null,Re=null,Ne=0,Ve=0,Ft=null,ai=!1,Ao=!1,ku=!1,qn=0,et=0,si=0,Vi=0,Uu=0,Yt=0,xo=0,Ml=null,Ut=null,Lu=!1,Wr=0,Eh=0,jr=1/0,ea=null,ui=null,ct=0,ci=null,bo=null,Bn=0,zu=0,Pu=null,_h=null,Nl=0,Hu=null;function Jt(){return(He&2)!==0&&Ne!==0?Ne&-Ne:z.T!==null?Fu():Hf()}function Ch(){if(Yt===0)if((Ne&536870912)===0||De){var n=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),Yt=n}else Yt=536870912;return n=qt.current,n!==null&&(n.flags|=32),Yt}function Lt(n,o,r){(n===Ke&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)&&(wo(n,0),fi(n,Ne,Yt,!1)),$o(n,r),((He&2)===0||n!==Ke)&&(n===Ke&&((He&2)===0&&(Vi|=r),et===4&&fi(n,Ne,Yt,!1)),Tn(n))}function Ah(n,o,r){if((He&6)!==0)throw Error(l(327));var u=!r&&(o&127)===0&&(o&n.expiredLanes)===0||Zo(n,o),m=u?uT(n,o):Gu(n,o,!0),v=u;do{if(m===0){Ao&&!u&&fi(n,o,0,!1);break}else{if(r=n.current.alternate,v&&!aT(r)){m=Gu(n,o,!1),v=!1;continue}if(m===2){if(v=o,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var C=n;m=Ml;var R=C.current.memoizedState.isDehydrated;if(R&&(wo(C,E).flags|=256),E=Gu(C,E,!1),E!==2){if(ku&&!R){C.errorRecoveryDisabledLanes|=v,Vi|=v,m=4;break e}v=Ut,Ut=m,v!==null&&(Ut===null?Ut=v:Ut.push.apply(Ut,v))}m=E}if(v=!1,m!==2)continue}}if(m===1){wo(n,0),fi(n,o,0,!0);break}e:{switch(u=n,v=m,v){case 0:case 1:throw Error(l(345));case 4:if((o&4194048)!==o)break;case 6:fi(u,o,Yt,!ai);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(l(329))}if((o&62914560)===o&&(m=Wr+300-Ct(),10<m)){if(fi(u,o,Yt,!ai),cr(u,0,!0)!==0)break e;Bn=o,u.timeoutHandle=tm(xh.bind(null,u,r,Ut,ea,Lu,o,Yt,Vi,xo,ai,v,"Throttled",-0,0),m);break e}xh(u,r,Ut,ea,Lu,o,Yt,Vi,xo,ai,v,null,-0,0)}}break}while(!0);Tn(n)}function xh(n,o,r,u,m,v,E,C,R,O,F,Q,G,q){if(n.timeoutHandle=-1,Q=o.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},yh(o,v,Q);var ce=(v&62914560)===v?Wr-Ct():(v&4194048)===v?Eh-Ct():0;if(ce=YT(Q,ce),ce!==null){Bn=v,n.cancelPendingCommit=ce(kh.bind(null,n,o,v,r,u,m,E,C,R,F,Q,null,G,q)),fi(n,v,E,!O);return}}kh(n,o,v,r,u,m,E,C,R)}function aT(n){for(var o=n;;){var r=o.tag;if((r===0||r===11||r===15)&&o.flags&16384&&(r=o.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var m=r[u],v=m.getSnapshot;m=m.value;try{if(!Gt(v(),m))return!1}catch{return!1}}if(r=o.child,o.subtreeFlags&16384&&r!==null)r.return=o,o=r;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fi(n,o,r,u){o&=~Uu,o&=~Vi,n.suspendedLanes|=o,n.pingedLanes&=~o,u&&(n.warmLanes|=o),u=n.expirationTimes;for(var m=o;0<m;){var v=31-Je(m),E=1<<v;u[v]=-1,m&=~E}r!==0&&Lf(n,r,o)}function ta(){return(He&6)===0?(Il(0),!1):!0}function Ou(){if(Re!==null){if(Ve===0)var n=Re.return;else n=Re,Dn=Di=null,tu(n),yo=null,pl=0,n=Re;for(;n!==null;)nh(n.alternate,n),n=n.return;Re=null}}function wo(n,o){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,wT(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Bn=0,Ou(),Ke=n,Re=r=Nn(n.current,null),Ne=o,Ve=0,Ft=null,ai=!1,Ao=Zo(n,o),ku=!1,xo=Yt=Uu=Vi=si=et=0,Ut=Ml=null,Lu=!1,(o&8)!==0&&(o|=o&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=o;0<u;){var m=31-Je(u),v=1<<m;o|=n[m],u&=~v}return qn=o,_r(),r}function bh(n,o){Ce=null,z.H=El,o===go||o===Nr?(o=qd(),Ve=3):o===Bs?(o=qd(),Ve=4):Ve=o===yu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ft=o,Re===null&&(et=1,Fr(n,jt(o,n.current)))}function wh(){var n=qt.current;return n===null?!0:(Ne&4194048)===Ne?on===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?n===on:!1}function Rh(){var n=z.H;return z.H=El,n===null?El:n}function Mh(){var n=z.A;return z.A=lT,n}function na(){et=4,ai||(Ne&4194048)!==Ne&&qt.current!==null||(Ao=!0),(si&134217727)===0&&(Vi&134217727)===0||Ke===null||fi(Ke,Ne,Yt,!1)}function Gu(n,o,r){var u=He;He|=2;var m=Rh(),v=Mh();(Ke!==n||Ne!==o)&&(ea=null,wo(n,o)),o=!1;var E=et;e:do try{if(Ve!==0&&Re!==null){var C=Re,R=Ft;switch(Ve){case 8:Ou(),E=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(o=!0);var O=Ve;if(Ve=0,Ft=null,Ro(n,C,R,O),r&&Ao){E=0;break e}break;default:O=Ve,Ve=0,Ft=null,Ro(n,C,R,O)}}sT(),E=et;break}catch(F){bh(n,F)}while(!0);return o&&n.shellSuspendCounter++,Dn=Di=null,He=u,z.H=m,z.A=v,Re===null&&(Ke=null,Ne=0,_r()),E}function sT(){for(;Re!==null;)Nh(Re)}function uT(n,o){var r=He;He|=2;var u=Rh(),m=Mh();Ke!==n||Ne!==o?(ea=null,jr=Ct()+500,wo(n,o)):Ao=Zo(n,o);e:do try{if(Ve!==0&&Re!==null){o=Re;var v=Ft;t:switch(Ve){case 1:Ve=0,Ft=null,Ro(n,o,v,1);break;case 2:case 9:if(Gd(v)){Ve=0,Ft=null,Ih(o);break}o=function(){Ve!==2&&Ve!==9||Ke!==n||(Ve=7),Tn(n)},v.then(o,o);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Gd(v)?(Ve=0,Ft=null,Ih(o)):(Ve=0,Ft=null,Ro(n,o,v,7));break;case 5:var E=null;switch(Re.tag){case 26:E=Re.memoizedState;case 5:case 27:var C=Re;if(E?gm(E):C.stateNode.complete){Ve=0,Ft=null;var R=C.sibling;if(R!==null)Re=R;else{var O=C.return;O!==null?(Re=O,ia(O)):Re=null}break t}}Ve=0,Ft=null,Ro(n,o,v,5);break;case 6:Ve=0,Ft=null,Ro(n,o,v,6);break;case 8:Ou(),et=6;break e;default:throw Error(l(462))}}cT();break}catch(F){bh(n,F)}while(!0);return Dn=Di=null,z.H=u,z.A=m,He=r,Re!==null?0:(Ke=null,Ne=0,_r(),et)}function cT(){for(;Re!==null&&!ja();)Nh(Re)}function Nh(n){var o=eh(n.alternate,n,qn);n.memoizedProps=n.pendingProps,o===null?ia(n):Re=o}function Ih(n){var o=n,r=o.alternate;switch(o.tag){case 15:case 0:o=Xp(r,o,o.pendingProps,o.type,void 0,Ne);break;case 11:o=Xp(r,o,o.pendingProps,o.type.render,o.ref,Ne);break;case 5:tu(o);default:nh(r,o),o=Re=Md(o,qn),o=eh(r,o,qn)}n.memoizedProps=n.pendingProps,o===null?ia(n):Re=o}function Ro(n,o,r,u){Dn=Di=null,tu(o),yo=null,pl=0;var m=o.return;try{if(WS(n,m,o,r,Ne)){et=1,Fr(n,jt(r,n.current)),Re=null;return}}catch(v){if(m!==null)throw Re=m,v;et=1,Fr(n,jt(r,n.current)),Re=null;return}o.flags&32768?(De||u===1?n=!0:Ao||(Ne&536870912)!==0?n=!1:(ai=n=!0,(u===2||u===9||u===3||u===6)&&(u=qt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dh(o,n)):ia(o)}function ia(n){var o=n;do{if((o.flags&32768)!==0){Dh(o,ai);return}n=o.return;var r=tT(o.alternate,o,qn);if(r!==null){Re=r;return}if(o=o.sibling,o!==null){Re=o;return}Re=o=n}while(o!==null);et===0&&(et=5)}function Dh(n,o){do{var r=nT(n.alternate,n);if(r!==null){r.flags&=32767,Re=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!o&&(n=n.sibling,n!==null)){Re=n;return}Re=n=r}while(n!==null);et=6,Re=null}function kh(n,o,r,u,m,v,E,C,R){n.cancelPendingCommit=null;do oa();while(ct!==0);if((He&6)!==0)throw Error(l(327));if(o!==null){if(o===n.current)throw Error(l(177));if(v=o.lanes|o.childLanes,v|=Rs,Bv(n,r,v,E,C,R),n===Ke&&(Re=Ke=null,Ne=0),bo=o,ci=n,Bn=r,zu=v,Pu=m,_h=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,hT(ye,function(){return Hh(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,m=Z.p,Z.p=2,E=He,He|=4;try{iT(n,o,r)}finally{He=E,Z.p=m,z.T=u}}ct=1,Uh(),Lh(),zh()}}function Uh(){if(ct===1){ct=0;var n=ci,o=bo,r=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var u=Z.p;Z.p=2;var m=He;He|=4;try{hh(o,n);var v=Wu,E=Td(n.containerInfo),C=v.focusedElem,R=v.selectionRange;if(E!==C&&C&&C.ownerDocument&&Sd(C.ownerDocument.documentElement,C)){if(R!==null&&Cs(C)){var O=R.start,F=R.end;if(F===void 0&&(F=O),"selectionStart"in C)C.selectionStart=O,C.selectionEnd=Math.min(F,C.value.length);else{var Q=C.ownerDocument||document,G=Q&&Q.defaultView||window;if(G.getSelection){var q=G.getSelection(),ce=C.textContent.length,ge=Math.min(R.start,ce),Ye=R.end===void 0?ge:Math.min(R.end,ce);!q.extend&&ge>Ye&&(E=Ye,Ye=ge,ge=E);var L=vd(C,ge),k=vd(C,Ye);if(L&&k&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var H=Q.createRange();H.setStart(L.node,L.offset),q.removeAllRanges(),ge>Ye?(q.addRange(H),q.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),q.addRange(H))}}}}for(Q=[],q=C;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var K=Q[C];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ga=!!$u,Wu=$u=null}finally{He=m,Z.p=u,z.T=r}}n.current=o,ct=2}}function Lh(){if(ct===2){ct=0;var n=ci,o=bo,r=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var u=Z.p;Z.p=2;var m=He;He|=4;try{uh(n,o.alternate,o)}finally{He=m,Z.p=u,z.T=r}}ct=3}}function zh(){if(ct===4||ct===3){ct=0,es();var n=ci,o=bo,r=Bn,u=_h;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ct=5:(ct=0,bo=ci=null,Ph(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ui=null),os(r),o=o.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(At,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=z.T,m=Z.p,Z.p=2,z.T=null;try{for(var v=n.onRecoverableError,E=0;E<u.length;E++){var C=u[E];v(C.value,{componentStack:C.stack})}}finally{z.T=o,Z.p=m}}(Bn&3)!==0&&oa(),Tn(n),m=n.pendingLanes,(r&261930)!==0&&(m&42)!==0?n===Hu?Nl++:(Nl=0,Hu=n):Nl=0,Il(0)}}function Ph(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,fl(o)))}function oa(){return Uh(),Lh(),zh(),Hh()}function Hh(){if(ct!==5)return!1;var n=ci,o=zu;zu=0;var r=os(Bn),u=z.T,m=Z.p;try{Z.p=32>r?32:r,z.T=null,r=Pu,Pu=null;var v=ci,E=Bn;if(ct=0,bo=ci=null,Bn=0,(He&6)!==0)throw Error(l(331));var C=He;if(He|=4,Sh(v.current),gh(v,v.current,E,r),He=C,Il(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(At,v)}catch{}return!0}finally{Z.p=m,z.T=u,Ph(n,o)}}function Oh(n,o,r){o=jt(r,o),o=gu(n.stateNode,o,2),n=ii(n,o,2),n!==null&&($o(n,2),Tn(n))}function qe(n,o,r){if(n.tag===3)Oh(n,n,r);else for(;o!==null;){if(o.tag===3){Oh(o,n,r);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ui===null||!ui.has(u))){n=jt(r,n),r=Gp(2),u=ii(o,r,2),u!==null&&(Vp(r,u,o,n),$o(u,2),Tn(u));break}}o=o.return}}function Vu(n,o,r){var u=n.pingCache;if(u===null){u=n.pingCache=new rT;var m=new Set;u.set(o,m)}else m=u.get(o),m===void 0&&(m=new Set,u.set(o,m));m.has(r)||(ku=!0,m.add(r),n=fT.bind(null,n,o,r),o.then(n,n))}function fT(n,o,r){var u=n.pingCache;u!==null&&u.delete(o),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Ke===n&&(Ne&r)===r&&(et===4||et===3&&(Ne&62914560)===Ne&&300>Ct()-Wr?(He&2)===0&&wo(n,0):Uu|=r,xo===Ne&&(xo=0)),Tn(n)}function Gh(n,o){o===0&&(o=Uf()),n=Mi(n,o),n!==null&&($o(n,o),Tn(n))}function dT(n){var o=n.memoizedState,r=0;o!==null&&(r=o.retryLane),Gh(n,r)}function pT(n,o){var r=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(r=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(o),Gh(n,r)}function hT(n,o){return Xi(n,o)}var la=null,Mo=null,qu=!1,ra=!1,Bu=!1,di=0;function Tn(n){n!==Mo&&n.next===null&&(Mo===null?la=Mo=n:Mo=Mo.next=n),ra=!0,qu||(qu=!0,gT())}function Il(n,o){if(!Bu&&ra){Bu=!0;do for(var r=!1,u=la;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var v=0;else{var E=u.suspendedLanes,C=u.pingedLanes;v=(1<<31-Je(42|n)+1)-1,v&=m&~(E&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(r=!0,Fh(u,v))}else v=Ne,v=cr(u,u===Ke?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Zo(u,v)||(r=!0,Fh(u,v));u=u.next}while(r);Bu=!1}}function mT(){Vh()}function Vh(){ra=qu=!1;var n=0;di!==0&&bT()&&(n=di);for(var o=Ct(),r=null,u=la;u!==null;){var m=u.next,v=qh(u,o);v===0?(u.next=null,r===null?la=m:r.next=m,m===null&&(Mo=r)):(r=u,(n!==0||(v&3)!==0)&&(ra=!0)),u=m}ct!==0&&ct!==5||Il(n),di!==0&&(di=0)}function qh(n,o){for(var r=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-Je(v),C=1<<E,R=m[E];R===-1?((C&r)===0||(C&u)!==0)&&(m[E]=qv(C,o)):R<=o&&(n.expiredLanes|=C),v&=~C}if(o=Ke,r=Ne,r=cr(n,n===o?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,r===0||n===o&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Qo(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Zo(n,r)){if(o=r&-r,o===n.callbackPriority)return o;switch(u!==null&&Qo(u),os(r)){case 2:case 8:r=oe;break;case 32:r=ye;break;case 268435456:r=Ge;break;default:r=ye}return u=Bh.bind(null,n),r=Xi(r,u),n.callbackPriority=o,n.callbackNode=r,o}return u!==null&&u!==null&&Qo(u),n.callbackPriority=2,n.callbackNode=null,2}function Bh(n,o){if(ct!==0&&ct!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(oa()&&n.callbackNode!==r)return null;var u=Ne;return u=cr(n,n===Ke?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ah(n,u,o),qh(n,Ct()),n.callbackNode!=null&&n.callbackNode===r?Bh.bind(null,n):null)}function Fh(n,o){if(oa())return null;Ah(n,o,!0)}function gT(){RT(function(){(He&6)!==0?Xi(J,mT):Vh()})}function Fu(){if(di===0){var n=ho;n===0&&(n=ar,ar<<=1,(ar&261888)===0&&(ar=256)),di=n}return di}function Yh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hr(""+n)}function Jh(n,o){var r=o.ownerDocument.createElement("input");return r.name=o.name,r.value=o.value,n.id&&r.setAttribute("form",n.id),o.parentNode.insertBefore(r,o),n=new FormData(n),r.parentNode.removeChild(r),n}function yT(n,o,r,u,m){if(o==="submit"&&r&&r.stateNode===m){var v=Yh((m[Mt]||null).action),E=u.submitter;E&&(o=(o=E[Mt]||null)?Yh(o.formAction):E.getAttribute("formAction"),o!==null&&(v=o,E=null));var C=new vr("action","action",null,u,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(di!==0){var R=E?Jh(m,E):new FormData(m);cu(r,{pending:!0,data:R,method:m.method,action:v},null,R)}}else typeof v=="function"&&(C.preventDefault(),R=E?Jh(m,E):new FormData(m),cu(r,{pending:!0,data:R,method:m.method,action:v},v,R))},currentTarget:m}]})}}for(var Yu=0;Yu<ws.length;Yu++){var Ju=ws[Yu],vT=Ju.toLowerCase(),ST=Ju[0].toUpperCase()+Ju.slice(1);fn(vT,"on"+ST)}fn(Cd,"onAnimationEnd"),fn(Ad,"onAnimationIteration"),fn(xd,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(LS,"onTransitionRun"),fn(zS,"onTransitionStart"),fn(PS,"onTransitionCancel"),fn(bd,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Kh(n,o){o=(o&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],m=u.event;u=u.listeners;e:{var v=void 0;if(o)for(var E=u.length-1;0<=E;E--){var C=u[E],R=C.instance,O=C.currentTarget;if(C=C.listener,R!==v&&m.isPropagationStopped())break e;v=C,m.currentTarget=O;try{v(m)}catch(F){Er(F)}m.currentTarget=null,v=R}else for(E=0;E<u.length;E++){if(C=u[E],R=C.instance,O=C.currentTarget,C=C.listener,R!==v&&m.isPropagationStopped())break e;v=C,m.currentTarget=O;try{v(m)}catch(F){Er(F)}m.currentTarget=null,v=R}}}}function Me(n,o){var r=o[ls];r===void 0&&(r=o[ls]=new Set);var u=n+"__bubble";r.has(u)||(Xh(o,n,2,!1),r.add(u))}function Ku(n,o,r){var u=0;o&&(u|=4),Xh(r,n,u,o)}var aa="_reactListening"+Math.random().toString(36).slice(2);function Xu(n){if(!n[aa]){n[aa]=!0,Vf.forEach(function(r){r!=="selectionchange"&&(TT.has(r)||Ku(r,!1,n),Ku(r,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[aa]||(o[aa]=!0,Ku("selectionchange",!1,o))}}function Xh(n,o,r,u){switch(Cm(o)){case 2:var m=XT;break;case 8:m=QT;break;default:m=uc}r=m.bind(null,o,r,n),m=void 0,!hs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(o,r,{capture:!0,passive:m}):n.addEventListener(o,r,!0):m!==void 0?n.addEventListener(o,r,{passive:m}):n.addEventListener(o,r,!1)}function Qu(n,o,r,u,m){var v=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var C=u.stateNode.containerInfo;if(C===m)break;if(E===4)for(E=u.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;C!==null;){if(E=Zi(C),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){u=v=E;continue e}C=C.parentNode}}u=u.return}jf(function(){var O=v,F=ds(r),Q=[];e:{var G=wd.get(n);if(G!==void 0){var q=vr,ce=n;switch(n){case"keypress":if(gr(r)===0)break e;case"keydown":case"keyup":q=pS;break;case"focusin":ce="focus",q=vs;break;case"focusout":ce="blur",q=vs;break;case"beforeblur":case"afterblur":q=vs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=tS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gS;break;case Cd:case Ad:case xd:q=oS;break;case bd:q=vS;break;case"scroll":case"scrollend":q=jv;break;case"wheel":q=TS;break;case"copy":case"cut":case"paste":q=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=od;break;case"toggle":case"beforetoggle":q=_S}var ge=(o&4)!==0,Ye=!ge&&(n==="scroll"||n==="scrollend"),L=ge?G!==null?G+"Capture":null:G;ge=[];for(var k=O,H;k!==null;){var K=k;if(H=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||H===null||L===null||(K=el(k,L),K!=null&&ge.push(kl(k,K,H))),Ye)break;k=k.return}0<ge.length&&(G=new q(G,ce,null,r,F),Q.push({event:G,listeners:ge}))}}if((o&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",G&&r!==fs&&(ce=r.relatedTarget||r.fromElement)&&(Zi(ce)||ce[Qi]))break e;if((q||G)&&(G=F.window===F?F:(G=F.ownerDocument)?G.defaultView||G.parentWindow:window,q?(ce=r.relatedTarget||r.toElement,q=O,ce=ce?Zi(ce):null,ce!==null&&(Ye=s(ce),ge=ce.tag,ce!==Ye||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(q=null,ce=O),q!==ce)){if(ge=nd,K="onMouseLeave",L="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ge=od,K="onPointerLeave",L="onPointerEnter",k="pointer"),Ye=q==null?G:jo(q),H=ce==null?G:jo(ce),G=new ge(K,k+"leave",q,r,F),G.target=Ye,G.relatedTarget=H,K=null,Zi(F)===O&&(ge=new ge(L,k+"enter",ce,r,F),ge.target=H,ge.relatedTarget=Ye,K=ge),Ye=K,q&&ce)t:{for(ge=ET,L=q,k=ce,H=0,K=L;K;K=ge(K))H++;K=0;for(var me=k;me;me=ge(me))K++;for(;0<H-K;)L=ge(L),H--;for(;0<K-H;)k=ge(k),K--;for(;H--;){if(L===k||k!==null&&L===k.alternate){ge=L;break t}L=ge(L),k=ge(k)}ge=null}else ge=null;q!==null&&Qh(Q,G,q,ge,!1),ce!==null&&Ye!==null&&Qh(Q,Ye,ce,ge,!0)}}e:{if(G=O?jo(O):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var Le=dd;else if(cd(G))if(pd)Le=DS;else{Le=NS;var pe=MS}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?O&&cs(O.elementType)&&(Le=dd):Le=IS;if(Le&&(Le=Le(n,O))){fd(Q,Le,r,F);break e}pe&&pe(n,G,O),n==="focusout"&&O&&G.type==="number"&&O.memoizedProps.value!=null&&us(G,"number",G.value)}switch(pe=O?jo(O):window,n){case"focusin":(cd(pe)||pe.contentEditable==="true")&&(lo=pe,As=O,sl=null);break;case"focusout":sl=As=lo=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,Ed(Q,r,F);break;case"selectionchange":if(US)break;case"keydown":case"keyup":Ed(Q,r,F)}var Ae;if(Ts)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else oo?sd(n,r)&&(Ie="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ie="onCompositionStart");Ie&&(ld&&r.locale!=="ko"&&(oo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&oo&&(Ae=ed()):(Zn=F,ms="value"in Zn?Zn.value:Zn.textContent,oo=!0)),pe=sa(O,Ie),0<pe.length&&(Ie=new id(Ie,n,null,r,F),Q.push({event:Ie,listeners:pe}),Ae?Ie.data=Ae:(Ae=ud(r),Ae!==null&&(Ie.data=Ae)))),(Ae=AS?xS(n,r):bS(n,r))&&(Ie=sa(O,"onBeforeInput"),0<Ie.length&&(pe=new id("onBeforeInput","beforeinput",null,r,F),Q.push({event:pe,listeners:Ie}),pe.data=Ae)),yT(Q,n,O,r,F)}Kh(Q,o)})}function kl(n,o,r){return{instance:n,listener:o,currentTarget:r}}function sa(n,o){for(var r=o+"Capture",u=[];n!==null;){var m=n,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=el(n,r),m!=null&&u.unshift(kl(n,m,v)),m=el(n,o),m!=null&&u.push(kl(n,m,v))),n.tag===3)return u;n=n.return}return[]}function ET(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Qh(n,o,r,u,m){for(var v=o._reactName,E=[];r!==null&&r!==u;){var C=r,R=C.alternate,O=C.stateNode;if(C=C.tag,R!==null&&R===u)break;C!==5&&C!==26&&C!==27||O===null||(R=O,m?(O=el(r,v),O!=null&&E.unshift(kl(r,O,R))):m||(O=el(r,v),O!=null&&E.push(kl(r,O,R)))),r=r.return}E.length!==0&&n.push({event:o,listeners:E})}var _T=/\r\n?/g,CT=/\u0000|\uFFFD/g;function Zh(n){return(typeof n=="string"?n:""+n).replace(_T,`
`).replace(CT,"")}function $h(n,o){return o=Zh(o),Zh(n)===o}function Fe(n,o,r,u,m,v){switch(r){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||to(n,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&to(n,""+u);break;case"className":dr(n,"class",u);break;case"tabIndex":dr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(n,r,u);break;case"style":$f(n,u,v);break;case"data":if(o!=="object"){dr(n,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=hr(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(r==="formAction"?(o!=="input"&&Fe(n,o,"name",m.name,m,null),Fe(n,o,"formEncType",m.formEncType,m,null),Fe(n,o,"formMethod",m.formMethod,m,null),Fe(n,o,"formTarget",m.formTarget,m,null)):(Fe(n,o,"encType",m.encType,m,null),Fe(n,o,"method",m.method,m,null),Fe(n,o,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=hr(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=Rn);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(l(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=hr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":Me("beforetoggle",n),Me("toggle",n),fr(n,"popover",u);break;case"xlinkActuate":wn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=$v.get(r)||r,fr(n,r,u))}}function Zu(n,o,r,u,m,v){switch(r){case"style":$f(n,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(l(60));n.innerHTML=r}}break;case"children":typeof u=="string"?to(n,u):(typeof u=="number"||typeof u=="bigint")&&to(n,""+u);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),o=r.slice(2,m?r.length-7:void 0),v=n[Mt]||null,v=v!=null?v[r]:null,typeof v=="function"&&n.removeEventListener(o,v,m),typeof u=="function")){typeof v!="function"&&v!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(o,u,m);break e}r in n?n[r]=u:u===!0?n.setAttribute(r,""):fr(n,r,u)}}}function vt(n,o,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var u=!1,m=!1,v;for(v in r)if(r.hasOwnProperty(v)){var E=r[v];if(E!=null)switch(v){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:Fe(n,o,v,E,r,null)}}m&&Fe(n,o,"srcSet",r.srcSet,r,null),u&&Fe(n,o,"src",r.src,r,null);return;case"input":Me("invalid",n);var C=v=E=m=null,R=null,O=null;for(u in r)if(r.hasOwnProperty(u)){var F=r[u];if(F!=null)switch(u){case"name":m=F;break;case"type":E=F;break;case"checked":R=F;break;case"defaultChecked":O=F;break;case"value":v=F;break;case"defaultValue":C=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,o));break;default:Fe(n,o,u,F,r,null)}}Kf(n,v,C,R,O,E,m,!1);return;case"select":Me("invalid",n),u=E=v=null;for(m in r)if(r.hasOwnProperty(m)&&(C=r[m],C!=null))switch(m){case"value":v=C;break;case"defaultValue":E=C;break;case"multiple":u=C;default:Fe(n,o,m,C,r,null)}o=v,r=E,n.multiple=!!u,o!=null?eo(n,!!u,o,!1):r!=null&&eo(n,!!u,r,!0);return;case"textarea":Me("invalid",n),v=m=u=null;for(E in r)if(r.hasOwnProperty(E)&&(C=r[E],C!=null))switch(E){case"value":u=C;break;case"defaultValue":m=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Fe(n,o,E,C,r,null)}Qf(n,u,m,v);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(u=r[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Fe(n,o,R,u,r,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(u=0;u<Dl.length;u++)Me(Dl[u],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(u=r[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:Fe(n,o,O,u,r,null)}return;default:if(cs(o)){for(F in r)r.hasOwnProperty(F)&&(u=r[F],u!==void 0&&Zu(n,o,F,u,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(u=r[C],u!=null&&Fe(n,o,C,u,r,null))}function AT(n,o,r,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,E=null,C=null,R=null,O=null,F=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:u.hasOwnProperty(q)||Fe(n,o,q,null,u,Q)}}for(var G in u){var q=u[G];if(Q=r[G],u.hasOwnProperty(G)&&(q!=null||Q!=null))switch(G){case"type":v=q;break;case"name":m=q;break;case"checked":O=q;break;case"defaultChecked":F=q;break;case"value":E=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,o));break;default:q!==Q&&Fe(n,o,G,q,u,Q)}}ss(n,E,C,R,O,F,v,m);return;case"select":q=E=C=G=null;for(v in r)if(R=r[v],r.hasOwnProperty(v)&&R!=null)switch(v){case"value":break;case"multiple":q=R;default:u.hasOwnProperty(v)||Fe(n,o,v,null,u,R)}for(m in u)if(v=u[m],R=r[m],u.hasOwnProperty(m)&&(v!=null||R!=null))switch(m){case"value":G=v;break;case"defaultValue":C=v;break;case"multiple":E=v;default:v!==R&&Fe(n,o,m,v,u,R)}o=C,r=E,u=q,G!=null?eo(n,!!r,G,!1):!!u!=!!r&&(o!=null?eo(n,!!r,o,!0):eo(n,!!r,r?[]:"",!1));return;case"textarea":q=G=null;for(C in r)if(m=r[C],r.hasOwnProperty(C)&&m!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Fe(n,o,C,null,u,m)}for(E in u)if(m=u[E],v=r[E],u.hasOwnProperty(E)&&(m!=null||v!=null))switch(E){case"value":G=m;break;case"defaultValue":q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==v&&Fe(n,o,E,m,u,v)}Xf(n,G,q);return;case"option":for(var ce in r)if(G=r[ce],r.hasOwnProperty(ce)&&G!=null&&!u.hasOwnProperty(ce))switch(ce){case"selected":n.selected=!1;break;default:Fe(n,o,ce,null,u,G)}for(R in u)if(G=u[R],q=r[R],u.hasOwnProperty(R)&&G!==q&&(G!=null||q!=null))switch(R){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Fe(n,o,R,G,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in r)G=r[ge],r.hasOwnProperty(ge)&&G!=null&&!u.hasOwnProperty(ge)&&Fe(n,o,ge,null,u,G);for(O in u)if(G=u[O],q=r[O],u.hasOwnProperty(O)&&G!==q&&(G!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,o));break;default:Fe(n,o,O,G,u,q)}return;default:if(cs(o)){for(var Ye in r)G=r[Ye],r.hasOwnProperty(Ye)&&G!==void 0&&!u.hasOwnProperty(Ye)&&Zu(n,o,Ye,void 0,u,G);for(F in u)G=u[F],q=r[F],!u.hasOwnProperty(F)||G===q||G===void 0&&q===void 0||Zu(n,o,F,G,u,q);return}}for(var L in r)G=r[L],r.hasOwnProperty(L)&&G!=null&&!u.hasOwnProperty(L)&&Fe(n,o,L,null,u,G);for(Q in u)G=u[Q],q=r[Q],!u.hasOwnProperty(Q)||G===q||G==null&&q==null||Fe(n,o,Q,G,u,q)}function Wh(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var m=r[u],v=m.transferSize,E=m.initiatorType,C=m.duration;if(v&&C&&Wh(E)){for(E=0,C=m.responseEnd,u+=1;u<r.length;u++){var R=r[u],O=R.startTime;if(O>C)break;var F=R.transferSize,Q=R.initiatorType;F&&Wh(Q)&&(R=R.responseEnd,E+=F*(R<C?1:(C-O)/(R-O)))}if(--u,o+=8*(v+E)/(m.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var $u=null,Wu=null;function ua(n){return n.nodeType===9?n:n.ownerDocument}function jh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function ju(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ec=null;function bT(){var n=window.event;return n&&n.type==="popstate"?n===ec?!1:(ec=n,!0):(ec=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(n){return nm.resolve(null).then(n).catch(MT)}:tm;function MT(n){setTimeout(function(){throw n})}function pi(n){return n==="head"}function im(n,o){var r=o,u=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(u===0){n.removeChild(m),ko(o);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")Ul(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,Ul(r);for(var v=r.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Wo]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}else r==="body"&&Ul(n.ownerDocument.body);r=m}while(r);ko(o)}function om(n,o){var r=n;n=0;do{var u=r.nextSibling;if(r.nodeType===1?o?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(o?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=u}while(r)}function tc(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var r=o;switch(o=o.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tc(r),rs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function NT(n,o,r,u){for(;n.nodeType===1;){var m=r;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Wo])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=ln(n.nextSibling),n===null)break}return null}function IT(n,o,r){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ln(n.nextSibling),n===null))return null;return n}function lm(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ln(n.nextSibling),n===null))return null;return n}function nc(n){return n.data==="$?"||n.data==="$~"}function ic(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function DT(n,o){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||r.readyState!=="loading")o();else{var u=function(){o(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ln(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var oc=null;function rm(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(o===0)return ln(n.nextSibling);o--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||o++}n=n.nextSibling}return null}function am(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(o===0)return n;o--}else r!=="/$"&&r!=="/&"||o++}n=n.previousSibling}return null}function sm(n,o,r){switch(o=ua(r),n){case"html":if(n=o.documentElement,!n)throw Error(l(452));return n;case"head":if(n=o.head,!n)throw Error(l(453));return n;case"body":if(n=o.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function Ul(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);rs(n)}var rn=new Map,um=new Set;function ca(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Fn=Z.d;Z.d={f:kT,r:UT,D:LT,C:zT,L:PT,m:HT,X:GT,S:OT,M:VT};function kT(){var n=Fn.f(),o=ta();return n||o}function UT(n){var o=$i(n);o!==null&&o.tag===5&&o.type==="form"?bp(o):Fn.r(n)}var No=typeof document>"u"?null:document;function cm(n,o,r){var u=No;if(u&&typeof o=="string"&&o){var m=$t(o);m='link[rel="'+n+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),um.has(m)||(um.add(m),n={rel:n,crossOrigin:r,href:o},u.querySelector(m)===null&&(o=u.createElement("link"),vt(o,"link",n),ft(o),u.head.appendChild(o)))}}function LT(n){Fn.D(n),cm("dns-prefetch",n,null)}function zT(n,o){Fn.C(n,o),cm("preconnect",n,o)}function PT(n,o,r){Fn.L(n,o,r);var u=No;if(u&&n&&o){var m='link[rel="preload"][as="'+$t(o)+'"]';o==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+$t(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+$t(r.imageSizes)+'"]')):m+='[href="'+$t(n)+'"]';var v=m;switch(o){case"style":v=Io(n);break;case"script":v=Do(n)}rn.has(v)||(n=S({rel:"preload",href:o==="image"&&r&&r.imageSrcSet?void 0:n,as:o},r),rn.set(v,n),u.querySelector(m)!==null||o==="style"&&u.querySelector(Ll(v))||o==="script"&&u.querySelector(zl(v))||(o=u.createElement("link"),vt(o,"link",n),ft(o),u.head.appendChild(o)))}}function HT(n,o){Fn.m(n,o);var r=No;if(r&&n){var u=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+$t(u)+'"][href="'+$t(n)+'"]',v=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Do(n)}if(!rn.has(v)&&(n=S({rel:"modulepreload",href:n},o),rn.set(v,n),r.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(zl(v)))return}u=r.createElement("link"),vt(u,"link",n),ft(u),r.head.appendChild(u)}}}function OT(n,o,r){Fn.S(n,o,r);var u=No;if(u&&n){var m=Wi(u).hoistableStyles,v=Io(n);o=o||"default";var E=m.get(v);if(!E){var C={loading:0,preload:null};if(E=u.querySelector(Ll(v)))C.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":o},r),(r=rn.get(v))&&lc(n,r);var R=E=u.createElement("link");ft(R),vt(R,"link",n),R._p=new Promise(function(O,F){R.onload=O,R.onerror=F}),R.addEventListener("load",function(){C.loading|=1}),R.addEventListener("error",function(){C.loading|=2}),C.loading|=4,fa(E,o,u)}E={type:"stylesheet",instance:E,count:1,state:C},m.set(v,E)}}}function GT(n,o){Fn.X(n,o);var r=No;if(r&&n){var u=Wi(r).hoistableScripts,m=Do(n),v=u.get(m);v||(v=r.querySelector(zl(m)),v||(n=S({src:n,async:!0},o),(o=rn.get(m))&&rc(n,o),v=r.createElement("script"),ft(v),vt(v,"link",n),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function VT(n,o){Fn.M(n,o);var r=No;if(r&&n){var u=Wi(r).hoistableScripts,m=Do(n),v=u.get(m);v||(v=r.querySelector(zl(m)),v||(n=S({src:n,async:!0,type:"module"},o),(o=rn.get(m))&&rc(n,o),v=r.createElement("script"),ft(v),vt(v,"link",n),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function fm(n,o,r,u){var m=(m=de.current)?ca(m):null;if(!m)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(o=Io(r.href),r=Wi(m).hoistableStyles,u=r.get(o),u||(u={type:"style",instance:null,count:0,state:null},r.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Io(r.href);var v=Wi(m).hoistableStyles,E=v.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=m.querySelector(Ll(n)))&&!v._p&&(E.instance=v,E.state.loading=5),rn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},rn.set(n,r),v||qT(m,n,r,E.state))),o&&u===null)throw Error(l(528,""));return E}if(o&&u!==null)throw Error(l(529,""));return null;case"script":return o=r.async,r=r.src,typeof r=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Do(r),r=Wi(m).hoistableScripts,u=r.get(o),u||(u={type:"script",instance:null,count:0,state:null},r.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function Io(n){return'href="'+$t(n)+'"'}function Ll(n){return'link[rel="stylesheet"]['+n+"]"}function dm(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function qT(n,o,r,u){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=n.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),vt(o,"link",r),ft(o),n.head.appendChild(o))}function Do(n){return'[src="'+$t(n)+'"]'}function zl(n){return"script[async]"+n}function pm(n,o,r){if(o.count++,o.instance===null)switch(o.type){case"style":var u=n.querySelector('style[data-href~="'+$t(r.href)+'"]');if(u)return o.instance=u,ft(u),u;var m=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ft(u),vt(u,"style",m),fa(u,r.precedence,n),o.instance=u;case"stylesheet":m=Io(r.href);var v=n.querySelector(Ll(m));if(v)return o.state.loading|=4,o.instance=v,ft(v),v;u=dm(r),(m=rn.get(m))&&lc(u,m),v=(n.ownerDocument||n).createElement("link"),ft(v);var E=v;return E._p=new Promise(function(C,R){E.onload=C,E.onerror=R}),vt(v,"link",u),o.state.loading|=4,fa(v,r.precedence,n),o.instance=v;case"script":return v=Do(r.src),(m=n.querySelector(zl(v)))?(o.instance=m,ft(m),m):(u=r,(m=rn.get(v))&&(u=S({},r),rc(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),ft(m),vt(m,"link",u),n.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(l(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,fa(u,r.precedence,n));return o.instance}function fa(n,o,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,v=m,E=0;E<u.length;E++){var C=u[E];if(C.dataset.precedence===o)v=C;else if(v!==m)break}v?v.parentNode.insertBefore(n,v.nextSibling):(o=r.nodeType===9?r.head:r,o.insertBefore(n,o.firstChild))}function lc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function rc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var da=null;function hm(n,o,r){if(da===null){var u=new Map,m=da=new Map;m.set(r,u)}else m=da,u=m.get(r),u||(u=new Map,m.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),m=0;m<r.length;m++){var v=r[m];if(!(v[Wo]||v[ht]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(o)||"";E=n+E;var C=u.get(E);C?C.push(v):u.set(E,[v])}}return u}function mm(n,o,r){n=n.ownerDocument||n,n.head.insertBefore(r,o==="title"?n.querySelector("head > title"):null)}function BT(n,o,r){if(r===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function gm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function FT(n,o,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Io(u.href),v=o.querySelector(Ll(m));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=pa.bind(n),o.then(n,n)),r.state.loading|=4,r.instance=v,ft(v);return}v=o.ownerDocument||o,u=dm(u),(m=rn.get(m))&&lc(u,m),v=v.createElement("link"),ft(v);var E=v;E._p=new Promise(function(C,R){E.onload=C,E.onerror=R}),vt(v,"link",u),r.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,o),(o=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=pa.bind(n),o.addEventListener("load",r),o.addEventListener("error",r))}}var ac=0;function YT(n,o){return n.stylesheets&&n.count===0&&ma(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var u=setTimeout(function(){if(n.stylesheets&&ma(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+o);0<n.imgBytes&&ac===0&&(ac=62500*xT());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ma(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>ac?50:800)+o);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function pa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ma(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ha=null;function ma(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ha=new Map,o.forEach(JT,n),ha=null,pa.call(n))}function JT(n,o){if(!(o.state.loading&4)){var r=ha.get(n);if(r)var u=r.get(null);else{r=new Map,ha.set(n,r);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var E=m[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),u=E)}u&&r.set(null,u)}m=o.instance,E=m.getAttribute("data-precedence"),v=r.get(E)||u,v===u&&r.set(null,m),r.set(E,m),this.count++,u=pa.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),v?v.parentNode.insertBefore(m,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),o.state.loading|=4}}var Pl={$$typeof:P,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function KT(n,o,r,u,m,v,E,C,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function ym(n,o,r,u,m,v,E,C,R,O,F,Q){return n=new KT(n,o,r,E,R,O,F,Q,C),o=1,v===!0&&(o|=24),v=Vt(3,null,null,o),n.current=v,v.stateNode=n,o=Gs(),o.refCount++,n.pooledCache=o,o.refCount++,v.memoizedState={element:u,isDehydrated:r,cache:o},Fs(v),n}function vm(n){return n?(n=so,n):so}function Sm(n,o,r,u,m,v){m=vm(m),u.context===null?u.context=m:u.pendingContext=m,u=ni(o),u.payload={element:r},v=v===void 0?null:v,v!==null&&(u.callback=v),r=ii(n,u,o),r!==null&&(Lt(r,n,o),ml(r,n,o))}function Tm(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<o?r:o}}function sc(n,o){Tm(n,o),(n=n.alternate)&&Tm(n,o)}function Em(n){if(n.tag===13||n.tag===31){var o=Mi(n,67108864);o!==null&&Lt(o,n,67108864),sc(n,67108864)}}function _m(n){if(n.tag===13||n.tag===31){var o=Jt();o=is(o);var r=Mi(n,o);r!==null&&Lt(r,n,o),sc(n,o)}}var ga=!0;function XT(n,o,r,u){var m=z.T;z.T=null;var v=Z.p;try{Z.p=2,uc(n,o,r,u)}finally{Z.p=v,z.T=m}}function QT(n,o,r,u){var m=z.T;z.T=null;var v=Z.p;try{Z.p=8,uc(n,o,r,u)}finally{Z.p=v,z.T=m}}function uc(n,o,r,u){if(ga){var m=cc(u);if(m===null)Qu(n,o,u,ya,r),Am(n,u);else if($T(m,n,o,r,u))u.stopPropagation();else if(Am(n,u),o&4&&-1<ZT.indexOf(n)){for(;m!==null;){var v=$i(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Ai(v.pendingLanes);if(E!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var R=1<<31-Je(E);C.entanglements[1]|=R,E&=~R}Tn(v),(He&6)===0&&(jr=Ct()+500,Il(0))}}break;case 31:case 13:C=Mi(v,2),C!==null&&Lt(C,v,2),ta(),sc(v,2)}if(v=cc(u),v===null&&Qu(n,o,u,ya,r),v===m)break;m=v}m!==null&&u.stopPropagation()}else Qu(n,o,u,null,r)}}function cc(n){return n=ds(n),fc(n)}var ya=null;function fc(n){if(ya=null,n=Zi(n),n!==null){var o=s(n);if(o===null)n=null;else{var r=o.tag;if(r===13){if(n=c(o),n!==null)return n;n=null}else if(r===31){if(n=p(o),n!==null)return n;n=null}else if(r===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return ya=n,null}function Cm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case J:return 2;case oe:return 8;case ye:case we:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var dc=!1,hi=null,mi=null,gi=null,Hl=new Map,Ol=new Map,yi=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Am(n,o){switch(n){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Hl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(o.pointerId)}}function Gl(n,o,r,u,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:o,domEventName:r,eventSystemFlags:u,nativeEvent:v,targetContainers:[m]},o!==null&&(o=$i(o),o!==null&&Em(o)),n):(n.eventSystemFlags|=u,o=n.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),n)}function $T(n,o,r,u,m){switch(o){case"focusin":return hi=Gl(hi,n,o,r,u,m),!0;case"dragenter":return mi=Gl(mi,n,o,r,u,m),!0;case"mouseover":return gi=Gl(gi,n,o,r,u,m),!0;case"pointerover":var v=m.pointerId;return Hl.set(v,Gl(Hl.get(v)||null,n,o,r,u,m)),!0;case"gotpointercapture":return v=m.pointerId,Ol.set(v,Gl(Ol.get(v)||null,n,o,r,u,m)),!0}return!1}function xm(n){var o=Zi(n.target);if(o!==null){var r=s(o);if(r!==null){if(o=r.tag,o===13){if(o=c(r),o!==null){n.blockedOn=o,Of(n.priority,function(){_m(r)});return}}else if(o===31){if(o=p(r),o!==null){n.blockedOn=o,Of(n.priority,function(){_m(r)});return}}else if(o===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function va(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var r=cc(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);fs=u,r.target.dispatchEvent(u),fs=null}else return o=$i(r),o!==null&&Em(o),n.blockedOn=r,!1;o.shift()}return!0}function bm(n,o,r){va(n)&&r.delete(o)}function WT(){dc=!1,hi!==null&&va(hi)&&(hi=null),mi!==null&&va(mi)&&(mi=null),gi!==null&&va(gi)&&(gi=null),Hl.forEach(bm),Ol.forEach(bm)}function Sa(n,o){n.blockedOn===o&&(n.blockedOn=null,dc||(dc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WT)))}var Ta=null;function wm(n){Ta!==n&&(Ta=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ta===n&&(Ta=null);for(var o=0;o<n.length;o+=3){var r=n[o],u=n[o+1],m=n[o+2];if(typeof u!="function"){if(fc(u||r)===null)continue;break}var v=$i(r);v!==null&&(n.splice(o,3),o-=3,cu(v,{pending:!0,data:m,method:r.method,action:u},u,m))}}))}function ko(n){function o(R){return Sa(R,n)}hi!==null&&Sa(hi,n),mi!==null&&Sa(mi,n),gi!==null&&Sa(gi,n),Hl.forEach(o),Ol.forEach(o);for(var r=0;r<yi.length;r++){var u=yi[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<yi.length&&(r=yi[0],r.blockedOn===null);)xm(r),r.blockedOn===null&&yi.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var m=r[u],v=r[u+1],E=m[Mt]||null;if(typeof v=="function")E||wm(r);else if(E){var C=null;if(v&&v.hasAttribute("formAction")){if(m=v,E=v[Mt]||null)C=E.formAction;else if(fc(m)!==null)continue}else C=E.action;typeof C=="function"?r[u+1]=C:(r.splice(u,3),u-=3),wm(r)}}}function Rm(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function pc(n){this._internalRoot=n}Ea.prototype.render=pc.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(l(409));var r=o.current,u=Jt();Sm(r,u,n,o,null,null)},Ea.prototype.unmount=pc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Sm(n.current,2,null,n,null,null),ta(),o[Qi]=null}};function Ea(n){this._internalRoot=n}Ea.prototype.unstable_scheduleHydration=function(n){if(n){var o=Hf();n={blockedOn:null,target:n,priority:o};for(var r=0;r<yi.length&&o!==0&&o<yi[r].priority;r++);yi.splice(r,0,n),r===0&&xm(n)}};var Mm=t.version;if(Mm!=="19.2.4")throw Error(l(527,Mm,"19.2.4"));Z.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=h(o),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var jT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{At=_a.inject(jT),ut=_a}catch{}}return ql.createRoot=function(n,o){if(!a(n))throw Error(l(299));var r=!1,u="",m=zp,v=Pp,E=Hp;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=ym(n,1,!1,null,null,r,u,null,m,v,E,Rm),n[Qi]=o.current,Xu(n),new pc(o)},ql.hydrateRoot=function(n,o,r){if(!a(n))throw Error(l(299));var u=!1,m="",v=zp,E=Pp,C=Hp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),o=ym(n,1,!0,o,r??null,u,m,R,v,E,C,Rm),o.context=vm(null),r=o.current,u=Jt(),u=is(u),m=ni(u),m.callback=null,ii(r,m,u),r=u,o.current.lanes=r,$o(o,r),Tn(o),n[Qi]=o.current,Xu(n),new Ea(o)},ql.version="19.2.4",ql}var Om;function cE(){if(Om)return gc.exports;Om=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gc.exports=uE(),gc.exports}var fE=cE();const dE=qa(fE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=(...e)=>e.filter((t,i,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,l)=>l?l.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=e=>{const t=hE(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=be.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:a="",children:s,iconNode:c,...p},g)=>be.createElement("svg",{ref:g,...mE,width:t,height:t,stroke:e,strokeWidth:l?Number(i)*24/Number(t):i,className:u0("lucide",a),...!s&&!gE(p)&&{"aria-hidden":"true"},...p},[...c.map(([h,y])=>be.createElement(h,y)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const i=be.forwardRef(({className:l,...a},s)=>be.createElement(yE,{ref:s,iconNode:t,className:u0(`lucide-${pE(Gm(e))}`,`lucide-${e}`,l),...a}));return i.displayName=Gm(e),i};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vm=it("activity",vE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qm=it("arrow-left",SE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],EE=it("arrow-right",TE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],CE=it("book-open",_E);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Bm=it("bot",AE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bE=it("circle-check",xE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],RE=it("download",wE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],NE=it("file-headphone",ME);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DE=it("file-text",IE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],UE=it("flag",kE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],zE=it("key",LE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],HE=it("lightbulb",PE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],GE=it("list-checks",OE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fm=it("loader-circle",VE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],BE=it("mic",qE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Tc=it("sparkles",FE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],JE=it("square",YE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],XE=it("upload",KE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZE=it("user",QE);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],WE=it("volume-2",$E);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],e_=it("volume-x",jE);var Tt=(e=>(e.HOME="HOME",e.LIVE="LIVE",e.SUMMARY="SUMMARY",e.FILE_OPTIONS="FILE_OPTIONS",e))(Tt||{});const t_=Object.prototype.toString,n_=e=>t_.call(e)==="[object Error]",i_=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function o_(e){if(!(e&&n_(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:i,stack:l}=e;return i==="Load failed"?l===void 0||"__sentry_captured__"in e:i.startsWith("error sending request for url")?!0:i_.has(i)}function l_(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Ca(e,t,{min:i=0,allowInfinity:l=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${e}\` to be a number${l?" or Infinity":""}.`);if(!l&&!Number.isFinite(t))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(t<i)throw new TypeError(`Expected \`${e}\` to be  ${i}.`)}}class c0 extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}function r_(e,t){const i=Math.max(1,e+1),l=t.randomize?Math.random()+1:1;let a=Math.round(l*t.minTimeout*t.factor**(i-1));return a=Math.min(a,t.maxTimeout),a}function Ym(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function a_({error:e,attemptNumber:t,retriesConsumed:i,startTime:l,options:a}){var _,b,I,N;const s=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(s instanceof c0)throw s.originalError;const c=Number.isFinite(a.retries)?Math.max(0,a.retries-i):a.retries,p=a.maxRetryTime??Number.POSITIVE_INFINITY,g=Object.freeze({error:s,attemptNumber:t,retriesLeft:c,retriesConsumed:i});if(await a.onFailedAttempt(g),Ym(l,p)<=0)throw s;const h=await a.shouldConsumeRetry(g),y=Ym(l,p);if(y<=0||c<=0)throw s;if(s instanceof TypeError&&!o_(s)){if(h)throw s;return(_=a.signal)==null||_.throwIfAborted(),!1}if(!await a.shouldRetry(g))throw s;if(!h)return(b=a.signal)==null||b.throwIfAborted(),!1;const S=r_(i,a),T=Math.min(S,y);return(I=a.signal)==null||I.throwIfAborted(),T>0&&await new Promise((D,B)=>{var j,M;const P=()=>{var Y;clearTimeout(X),(Y=a.signal)==null||Y.removeEventListener("abort",P),B(a.signal.reason)},X=setTimeout(()=>{var Y;(Y=a.signal)==null||Y.removeEventListener("abort",P),D()},T);a.unref&&((j=X.unref)==null||j.call(X)),(M=a.signal)==null||M.addEventListener("abort",P,{once:!0})}),(N=a.signal)==null||N.throwIfAborted(),!0}async function s_(e,t={}){var s,c,p;if(t={...t},l_(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),Ca("factor",t.factor,{min:0,allowInfinity:!1}),Ca("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Ca("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Ca("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(s=t.signal)==null||s.throwIfAborted();let i=0,l=0;const a=performance.now();for(;!Number.isFinite(t.retries)||l<=t.retries;){i++;try{(c=t.signal)==null||c.throwIfAborted();const g=await e(i);return(p=t.signal)==null||p.throwIfAborted(),g}catch(g){await a_({error:g,attemptNumber:i,retriesConsumed:l,startTime:a,options:t})&&l++}}throw new Error("Retry attempts exhausted without throwing an error.")}var u_={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let c_,f_;function d_(){return{geminiUrl:c_,vertexUrl:f_}}function p_(e,t,i,l){var a,s;if(!(e!=null&&e.baseUrl)){const c=d_();return t?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(s=c.geminiUrl)!==null&&s!==void 0?s:l}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn{}function se(e,t){const i=/\{([^}]+)\}/g;return e.replace(i,(l,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const s=t[a];return s!=null?String(s):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(e,t,i){for(let s=0;s<t.length-1;s++){const c=t[s];if(c.endsWith("[]")){const p=c.slice(0,-2);if(!(p in e))if(Array.isArray(i))e[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(e[p])){const g=e[p];if(Array.isArray(i))for(let h=0;h<g.length;h++){const y=g[h];d(y,t.slice(s+1),i[h])}else for(const h of g)d(h,t.slice(s+1),i)}return}else if(c.endsWith("[0]")){const p=c.slice(0,-3);p in e||(e[p]=[{}]);const g=e[p];d(g[0],t.slice(s+1),i);return}(!e[c]||typeof e[c]!="object")&&(e[c]={}),e=e[c]}const l=t[t.length-1],a=e[l];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(e,i):e[l]=i}function f(e,t,i=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let l=0;l<t.length;l++){if(typeof e!="object"||e===null)return i;const a=t[l];if(a.endsWith("[]")){const s=a.slice(0,-2);if(s in e){const c=e[s];return Array.isArray(c)?c.map(p=>f(p,t.slice(l+1),i)):i}else return i}else e=e[a]}return e}catch(l){if(l instanceof TypeError)return i;throw l}}function h_(e,t){for(const[i,l]of Object.entries(t)){const a=i.split("."),s=l.split("."),c=new Set;let p=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){p=g;break}if(p!==-1&&s.length>p)for(let g=p;g<s.length;g++){const h=s[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Pc(e,a,s,0,c)}}function Pc(e,t,i,l,a){if(l>=t.length||typeof e!="object"||e===null)return;const s=t[l];if(s.endsWith("[]")){const c=s.slice(0,-2),p=e;if(c in p&&Array.isArray(p[c]))for(const g of p[c])Pc(g,t,i,l+1,a)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const c=e,p=Object.keys(c).filter(h=>!h.startsWith("_")&&!a.has(h)),g={};for(const h of p)g[h]=c[h];for(const[h,y]of Object.entries(g)){const S=[];for(const T of i.slice(l))T==="*"?S.push(h):S.push(T);d(c,S,y)}for(const h of p)delete c[h]}}else{const c=e;s in c&&Pc(c[s],t,i,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cf(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m_(e){const t={},i=f(e,["operationName"]);i!=null&&d(t,["operationName"],i);const l=f(e,["resourceName"]);return l!=null&&d(t,["_url","resourceName"],l),t}function g_(e){const t={},i=f(e,["name"]);i!=null&&d(t,["name"],i);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const s=f(e,["error"]);s!=null&&d(t,["error"],s);const c=f(e,["response","generateVideoResponse"]);return c!=null&&d(t,["response"],v_(c)),t}function y_(e){const t={},i=f(e,["name"]);i!=null&&d(t,["name"],i);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const s=f(e,["error"]);s!=null&&d(t,["error"],s);const c=f(e,["response"]);return c!=null&&d(t,["response"],S_(c)),t}function v_(e){const t={},i=f(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>T_(c))),d(t,["generatedVideos"],s)}const l=f(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function S_(e){const t={},i=f(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>E_(c))),d(t,["generatedVideos"],s)}const l=f(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function T_(e){const t={},i=f(e,["video"]);return i!=null&&d(t,["video"],w_(i)),t}function E_(e){const t={},i=f(e,["_self"]);return i!=null&&d(t,["video"],R_(i)),t}function __(e){const t={},i=f(e,["operationName"]);return i!=null&&d(t,["_url","operationName"],i),t}function C_(e){const t={},i=f(e,["operationName"]);return i!=null&&d(t,["_url","operationName"],i),t}function A_(e){const t={},i=f(e,["name"]);i!=null&&d(t,["name"],i);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const s=f(e,["error"]);s!=null&&d(t,["error"],s);const c=f(e,["response"]);return c!=null&&d(t,["response"],x_(c)),t}function x_(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["parent"]);l!=null&&d(t,["parent"],l);const a=f(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function f0(e){const t={},i=f(e,["name"]);i!=null&&d(t,["name"],i);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const s=f(e,["error"]);s!=null&&d(t,["error"],s);const c=f(e,["response"]);return c!=null&&d(t,["response"],b_(c)),t}function b_(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["parent"]);l!=null&&d(t,["parent"],l);const a=f(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function w_(e){const t={},i=f(e,["uri"]);i!=null&&d(t,["uri"],i);const l=f(e,["encodedVideo"]);l!=null&&d(t,["videoBytes"],cf(l));const a=f(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function R_(e){const t={},i=f(e,["gcsUri"]);i!=null&&d(t,["uri"],i);const l=f(e,["bytesBase64Encoded"]);l!=null&&d(t,["videoBytes"],cf(l));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jm;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jm||(Jm={}));var Km;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Km||(Km={}));var Xm;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Xm||(Xm={}));var Ei;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ei||(Ei={}));var Qm;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qm||(Qm={}));var Zm;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Zm||(Zm={}));var $m;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($m||($m={}));var Wm;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Wm||(Wm={}));var jm;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(jm||(jm={}));var eg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(eg||(eg={}));var tg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(tg||(tg={}));var ng;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(ng||(ng={}));var ig;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ig||(ig={}));var og;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(og||(og={}));var lg;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(lg||(lg={}));var rg;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(rg||(rg={}));var ag;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ag||(ag={}));var sg;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sg||(sg={}));var ug;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ug||(ug={}));var cg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(cg||(cg={}));var fg;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fg||(fg={}));var jl;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(jl||(jl={}));var dg;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dg||(dg={}));var pg;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pg||(pg={}));var hg;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hg||(hg={}));var Hc;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hc||(Hc={}));var mg;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mg||(mg={}));var gg;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(gg||(gg={}));var Oc;(function(e){e.COLLECTION="COLLECTION"})(Oc||(Oc={}));var yg;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(yg||(yg={}));var vg;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vg||(vg={}));var Sg;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Sg||(Sg={}));var Tg;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Tg||(Tg={}));var Eg;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Eg||(Eg={}));var _g;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_g||(_g={}));var Cg;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Cg||(Cg={}));var Ag;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ag||(Ag={}));var xg;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xg||(xg={}));var bg;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(bg||(bg={}));var wg;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(wg||(wg={}));var Rg;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Rg||(Rg={}));var Mg;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Mg||(Mg={}));var Ng;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(Ng||(Ng={}));var Ig;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Ig||(Ig={}));var Dg;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Dg||(Dg={}));var kg;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(kg||(kg={}));var Ug;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ug||(Ug={}));var Lg;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Lg||(Lg={}));var zg;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zg||(zg={}));var Pg;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Pg||(Pg={}));var Hg;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Hg||(Hg={}));var Og;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Og||(Og={}));var Gg;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Gg||(Gg={}));var Vg;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Vg||(Vg={}));var qg;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qg||(qg={}));var Bg;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Bg||(Bg={}));var Po;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Po||(Po={}));class Gc{constructor(t){const i={};for(const l of t.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=t}json(){return this.responseInternal.json()}}class Bl{get text(){var t,i,l,a,s,c,p,g;if(((a=(l=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const S=[];for(const T of(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[_,b]of Object.entries(T))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(b!==null||b!==void 0)&&S.push(_);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,h+=T.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var t,i,l,a,s,c,p,g;if(((a=(l=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const S of(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[T,_]of Object.entries(S))T!=="inlineData"&&(_!==null||_!==void 0)&&y.push(T);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,i,l,a,s,c,p,g;if(((a=(l=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,i,l,a,s,c,p,g,h;if(((a=(l=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,i,l,a,s,c,p,g,h;if(((a=(l=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class Fg{}class Yg{}class M_{}class N_{}class I_{}class D_{}class Jg{}class Kg{}class Xg{}class k_{}class La{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const l=new La;let a;const s=t;return i?a=y_(s):a=g_(s),Object.assign(l,a),l}}class Qg{}class Zg{}class $g{}class Wg{}class U_{}class L_{}class z_{}class ff{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const l=new ff,s=A_(t);return Object.assign(l,s),l}}class P_{}class H_{}class O_{}class G_{}class jg{}class V_{get text(){var t,i,l;let a="",s=!1;const c=[];for(const p of(l=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[g,h]of Object.entries(p))g!=="text"&&g!=="thought"&&h!==null&&c.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;s=!0,a+=p.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?a:void 0}get data(){var t,i,l;let a="";const s=[];for(const c of(l=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(c))p!=="inlineData"&&g!==null&&s.push(p);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class q_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class df{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const l=new df,s=f0(t);return Object.assign(l,s),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const i=t.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function d0(e,t){const i=Pe(e,t);return i?i.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}`:i.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${i}`:i:""}function p0(e){return Array.isArray(e)?e.map(t=>za(t)):[za(e)]}function za(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function h0(e){const t=za(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function m0(e){const t=za(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ey(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function g0(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>ey(t)):[ey(e)]}function Vc(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function ty(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function ny(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Et(e){if(e==null)throw new Error("ContentUnion is required");return Vc(e)?e:{role:"user",parts:g0(e)}}function pf(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(i=>{const l=Et(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(e.isVertexAI()){const i=Et(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(t)?t.map(i=>Et(i)):[Et(t)]}function sn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(ty(e)||ny(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(e)]}const t=[],i=[],l=Vc(e[0]);for(const a of e){const s=Vc(a);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(a);else{if(ty(a)||ny(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return l||t.push({role:"user",parts:g0(i)}),t}function B_(e,t){e.includes("null")&&(t.nullable=!0);const i=e.filter(l=>l!=="null");if(i.length===1)t.type=Object.values(Ei).includes(i[0].toUpperCase())?i[0].toUpperCase():Ei.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of i)t.anyOf.push({type:Object.values(Ei).includes(l.toUpperCase())?l.toUpperCase():Ei.TYPE_UNSPECIFIED})}}function Oo(e){const t={},i=["items"],l=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&B_(e.type,t);for(const[c,p]of Object.entries(e))if(p!=null)if(c=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;t.type=Object.values(Ei).includes(p.toUpperCase())?p.toUpperCase():Ei.TYPE_UNSPECIFIED}else if(i.includes(c))t[c]=Oo(p);else if(l.includes(c)){const g=[];for(const h of p){if(h.type=="null"){t.nullable=!0;continue}g.push(Oo(h))}t[c]=g}else if(a.includes(c)){const g={};for(const[h,y]of Object.entries(p))g[h]=Oo(y);t[c]=g}else{if(c==="additionalProperties")continue;t[c]=p}return t}function hf(e){return Oo(e)}function mf(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function gf(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Bo(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Oo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Oo(t.response));return e}function Fo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function F_(e,t,i,l=1){const a=!t.startsWith(`${i}/`)&&t.split("/").length===l;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${i}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}/${t}`:t:a?`${i}/${t}`:t}function Kn(e,t){if(typeof t!="string")throw new Error("name must be a string");return F_(e,t,"cachedContents")}function y0(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function _i(e){return cf(e)}function Y_(e){return e!=null&&typeof e=="object"&&"name"in e}function J_(e){return e!=null&&typeof e=="object"&&"video"in e}function K_(e){return e!=null&&typeof e=="object"&&"uri"in e}function v0(e){var t;let i;if(Y_(e)&&(i=e.name),!(K_(e)&&(i=e.uri,i===void 0))&&!(J_(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function S0(e,t){let i;return e.isVertexAI()?i=t?"publishers/google/models":"models":i=t?"models":"tunedModels",i}function T0(e){for(const t of["models","tunedModels","publisherModels"])if(X_(e,t))return e[t];return[]}function X_(e,t){return e!==null&&typeof e=="object"&&t in e}function Q_(e,t={}){const i=e,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(l.responseJsonSchema=i.outputSchema),t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function Z_(e,t={}){const i=[],l=new Set;for(const a of e){const s=a.name;if(l.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);l.add(s);const c=Q_(a,t);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function E0(e,t){let i;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))i={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))i={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))i={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:t}}else i=t;const l=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function $_(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function _0(e){if(typeof e!="object"||e===null)return{};const t=e,i=t.inlinedResponses;if(typeof i!="object"||i===null)return e;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let s=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Yo(e,t){const i=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function C0(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(e){const t={},i=f(e,["responsesFile"]);i!=null&&d(t,["fileName"],i);const l=f(e,["inlinedResponses","inlinedResponses"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>DC(c))),d(t,["inlinedResponses"],s)}const a=f(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(t,["inlinedEmbedContentResponses"],s)}return t}function j_(e){const t={},i=f(e,["predictionsFormat"]);i!=null&&d(t,["format"],i);const l=f(e,["gcsDestination","outputUriPrefix"]);l!=null&&d(t,["gcsUri"],l);const a=f(e,["bigqueryDestination","outputUri"]);return a!=null&&d(t,["bigqueryUri"],a),t}function eC(e){const t={},i=f(e,["format"]);i!=null&&d(t,["predictionsFormat"],i);const l=f(e,["gcsUri"]);l!=null&&d(t,["gcsDestination","outputUriPrefix"],l);const a=f(e,["bigqueryUri"]);if(a!=null&&d(t,["bigqueryDestination","outputUri"],a),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Da(e){const t={},i=f(e,["name"]);i!=null&&d(t,["name"],i);const l=f(e,["metadata","displayName"]);l!=null&&d(t,["displayName"],l);const a=f(e,["metadata","state"]);a!=null&&d(t,["state"],C0(a));const s=f(e,["metadata","createTime"]);s!=null&&d(t,["createTime"],s);const c=f(e,["metadata","endTime"]);c!=null&&d(t,["endTime"],c);const p=f(e,["metadata","updateTime"]);p!=null&&d(t,["updateTime"],p);const g=f(e,["metadata","model"]);g!=null&&d(t,["model"],g);const h=f(e,["metadata","output"]);return h!=null&&d(t,["dest"],W_(_0(h))),t}function qc(e){const t={},i=f(e,["name"]);i!=null&&d(t,["name"],i);const l=f(e,["displayName"]);l!=null&&d(t,["displayName"],l);const a=f(e,["state"]);a!=null&&d(t,["state"],C0(a));const s=f(e,["error"]);s!=null&&d(t,["error"],s);const c=f(e,["createTime"]);c!=null&&d(t,["createTime"],c);const p=f(e,["startTime"]);p!=null&&d(t,["startTime"],p);const g=f(e,["endTime"]);g!=null&&d(t,["endTime"],g);const h=f(e,["updateTime"]);h!=null&&d(t,["updateTime"],h);const y=f(e,["model"]);y!=null&&d(t,["model"],y);const S=f(e,["inputConfig"]);S!=null&&d(t,["src"],tC(S));const T=f(e,["outputConfig"]);T!=null&&d(t,["dest"],j_(_0(T)));const _=f(e,["completionStats"]);return _!=null&&d(t,["completionStats"],_),t}function tC(e){const t={},i=f(e,["instancesFormat"]);i!=null&&d(t,["format"],i);const l=f(e,["gcsSource","uris"]);l!=null&&d(t,["gcsUri"],l);const a=f(e,["bigquerySource","inputUri"]);return a!=null&&d(t,["bigqueryUri"],a),t}function nC(e,t){const i={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=f(t,["fileName"]);l!=null&&d(i,["fileName"],l);const a=f(t,["inlinedRequests"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>IC(e,c))),d(i,["requests","requests"],s)}return i}function iC(e){const t={},i=f(e,["format"]);i!=null&&d(t,["instancesFormat"],i);const l=f(e,["gcsUri"]);l!=null&&d(t,["gcsSource","uris"],l);const a=f(e,["bigqueryUri"]);if(a!=null&&d(t,["bigquerySource","inputUri"],a),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function oC(e){const t={},i=f(e,["data"]);if(i!=null&&d(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function lC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Yo(e,l)),i}function rC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Yo(e,l)),i}function aC(e){const t={},i=f(e,["content"]);i!=null&&d(t,["content"],i);const l=f(e,["citationMetadata"]);l!=null&&d(t,["citationMetadata"],sC(l));const a=f(e,["tokenCount"]);a!=null&&d(t,["tokenCount"],a);const s=f(e,["finishReason"]);s!=null&&d(t,["finishReason"],s);const c=f(e,["avgLogprobs"]);c!=null&&d(t,["avgLogprobs"],c);const p=f(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const g=f(e,["index"]);g!=null&&d(t,["index"],g);const h=f(e,["logprobsResult"]);h!=null&&d(t,["logprobsResult"],h);const y=f(e,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(_=>_)),d(t,["safetyRatings"],T)}const S=f(e,["urlContextMetadata"]);return S!=null&&d(t,["urlContextMetadata"],S),t}function sC(e){const t={},i=f(e,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["citations"],l)}return t}function A0(e){const t={},i=f(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>OC(s))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function uC(e,t){const i={},l=f(e,["displayName"]);if(t!==void 0&&l!=null&&d(t,["batch","displayName"],l),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function cC(e,t){const i={},l=f(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const a=f(e,["dest"]);return t!==void 0&&a!=null&&d(t,["outputConfig"],eC($_(a))),i}function iy(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["_url","model"],Pe(e,l));const a=f(t,["src"]);a!=null&&d(i,["batch","inputConfig"],nC(e,E0(e,a)));const s=f(t,["config"]);return s!=null&&uC(s,i),i}function fC(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["model"],Pe(e,l));const a=f(t,["src"]);a!=null&&d(i,["inputConfig"],iC(E0(e,a)));const s=f(t,["config"]);return s!=null&&cC(s,i),i}function dC(e,t){const i={},l=f(e,["displayName"]);return t!==void 0&&l!=null&&d(t,["batch","displayName"],l),i}function pC(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["_url","model"],Pe(e,l));const a=f(t,["src"]);a!=null&&d(i,["batch","inputConfig"],TC(e,a));const s=f(t,["config"]);return s!=null&&dC(s,i),i}function hC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Yo(e,l)),i}function mC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Yo(e,l)),i}function gC(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const s=f(e,["error"]);return s!=null&&d(t,["error"],s),t}function yC(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const s=f(e,["error"]);return s!=null&&d(t,["error"],s),t}function vC(e,t){const i={},l=f(t,["contents"]);if(l!=null){let s=pf(e,l);Array.isArray(s)&&(s=s.map(c=>c)),d(i,["requests[]","request","content"],s)}const a=f(t,["config"]);return a!=null&&(d(i,["_self"],SC(a,i)),h_(i,{"requests[].*":"requests[].request.*"})),i}function SC(e,t){const i={},l=f(e,["taskType"]);t!==void 0&&l!=null&&d(t,["requests[]","taskType"],l);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["requests[]","title"],a);const s=f(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&d(t,["requests[]","outputDimensionality"],s),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function TC(e,t){const i={},l=f(t,["fileName"]);l!=null&&d(i,["file_name"],l);const a=f(t,["inlinedRequests"]);return a!=null&&d(i,["requests"],vC(e,a)),i}function EC(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function _C(e){const t={},i=f(e,["id"]);i!=null&&d(t,["id"],i);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CC(e){const t={},i=f(e,["allowedFunctionNames"]);i!=null&&d(t,["allowedFunctionNames"],i);const l=f(e,["mode"]);if(l!=null&&d(t,["mode"],l),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function AC(e,t,i){const l={},a=f(t,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],A0(Et(a)));const s=f(t,["temperature"]);s!=null&&d(l,["temperature"],s);const c=f(t,["topP"]);c!=null&&d(l,["topP"],c);const p=f(t,["topK"]);p!=null&&d(l,["topK"],p);const g=f(t,["candidateCount"]);g!=null&&d(l,["candidateCount"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const y=f(t,["stopSequences"]);y!=null&&d(l,["stopSequences"],y);const S=f(t,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const T=f(t,["logprobs"]);T!=null&&d(l,["logprobs"],T);const _=f(t,["presencePenalty"]);_!=null&&d(l,["presencePenalty"],_);const b=f(t,["frequencyPenalty"]);b!=null&&d(l,["frequencyPenalty"],b);const I=f(t,["seed"]);I!=null&&d(l,["seed"],I);const N=f(t,["responseMimeType"]);N!=null&&d(l,["responseMimeType"],N);const D=f(t,["responseSchema"]);D!=null&&d(l,["responseSchema"],hf(D));const B=f(t,["responseJsonSchema"]);if(B!=null&&d(l,["responseJsonSchema"],B),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(t,["safetySettings"]);if(i!==void 0&&P!=null){let he=P;Array.isArray(he)&&(he=he.map(le=>GC(le))),d(i,["safetySettings"],he)}const X=f(t,["tools"]);if(i!==void 0&&X!=null){let he=Fo(X);Array.isArray(he)&&(he=he.map(le=>qC(Bo(le)))),d(i,["tools"],he)}const j=f(t,["toolConfig"]);if(i!==void 0&&j!=null&&d(i,["toolConfig"],VC(j)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=f(t,["cachedContent"]);i!==void 0&&M!=null&&d(i,["cachedContent"],Kn(e,M));const Y=f(t,["responseModalities"]);Y!=null&&d(l,["responseModalities"],Y);const ue=f(t,["mediaResolution"]);ue!=null&&d(l,["mediaResolution"],ue);const $=f(t,["speechConfig"]);if($!=null&&d(l,["speechConfig"],mf($)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=f(t,["thinkingConfig"]);ae!=null&&d(l,["thinkingConfig"],ae);const ee=f(t,["imageConfig"]);ee!=null&&d(l,["imageConfig"],NC(ee));const ie=f(t,["enableEnhancedCivicAnswers"]);if(ie!=null&&d(l,["enableEnhancedCivicAnswers"],ie),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return l}function xC(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(h=>aC(h))),d(t,["candidates"],g)}const a=f(e,["modelVersion"]);a!=null&&d(t,["modelVersion"],a);const s=f(e,["promptFeedback"]);s!=null&&d(t,["promptFeedback"],s);const c=f(e,["responseId"]);c!=null&&d(t,["responseId"],c);const p=f(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function bC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Yo(e,l)),i}function wC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Yo(e,l)),i}function RC(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&d(t,["enableWidget"],i),t}function MC(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],i),t}function NC(e){const t={},i=f(e,["aspectRatio"]);i!=null&&d(t,["aspectRatio"],i);const l=f(e,["imageSize"]);if(l!=null&&d(t,["imageSize"],l),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function IC(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["request","model"],Pe(e,l));const a=f(t,["contents"]);if(a!=null){let p=sn(a);Array.isArray(p)&&(p=p.map(g=>A0(g))),d(i,["request","contents"],p)}const s=f(t,["metadata"]);s!=null&&d(i,["metadata"],s);const c=f(t,["config"]);return c!=null&&d(i,["request","generationConfig"],AC(e,c,f(i,["request"],{}))),i}function DC(e){const t={},i=f(e,["response"]);i!=null&&d(t,["response"],xC(i));const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["error"]);return a!=null&&d(t,["error"],a),t}function kC(e,t){const i={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);if(t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function UC(e,t){const i={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const s=f(e,["filter"]);return t!==void 0&&s!=null&&d(t,["_query","filter"],s),i}function LC(e){const t={},i=f(e,["config"]);return i!=null&&kC(i,t),t}function zC(e){const t={},i=f(e,["config"]);return i!=null&&UC(i,t),t}function PC(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["operations"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>Da(c))),d(t,["batchJobs"],s)}return t}function HC(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["batchPredictionJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>qc(c))),d(t,["batchJobs"],s)}return t}function OC(e){const t={},i=f(e,["mediaResolution"]);i!=null&&d(t,["mediaResolution"],i);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const s=f(e,["fileData"]);s!=null&&d(t,["fileData"],EC(s));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],_C(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],oC(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const S=f(e,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const T=f(e,["videoMetadata"]);return T!=null&&d(t,["videoMetadata"],T),t}function GC(e){const t={},i=f(e,["category"]);if(i!=null&&d(t,["category"],i),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=f(e,["threshold"]);return l!=null&&d(t,["threshold"],l),t}function VC(e){const t={},i=f(e,["retrievalConfig"]);i!=null&&d(t,["retrievalConfig"],i);const l=f(e,["functionCallingConfig"]);return l!=null&&d(t,["functionCallingConfig"],CC(l)),t}function qC(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const l=f(e,["fileSearch"]);l!=null&&d(t,["fileSearch"],l);const a=f(e,["codeExecution"]);if(a!=null&&d(t,["codeExecution"],a),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(e,["functionDeclarations"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(S=>S)),d(t,["functionDeclarations"],y)}const c=f(e,["googleMaps"]);c!=null&&d(t,["googleMaps"],RC(c));const p=f(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],MC(p));const g=f(e,["googleSearchRetrieval"]);g!=null&&d(t,["googleSearchRetrieval"],g);const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Yn||(Yn={}));class Bi{constructor(t,i,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(t,l,a)}init(t,i,l){var a,s;this.nameInternal=t,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!l||Object.keys(l).length===0?c={config:{}}:typeof l=="object"?c=Object.assign({},l):c=l,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(s=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Bi(Yn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(t){const i=iy(this.apiClient,t),l=i._url,a=se("{model}:batchGenerateContent",l),p=i.batch.inputConfig.requests,g=p.requests,h=[];for(const y of g){const S=Object.assign({},y);if(S.systemInstruction){const T=S.systemInstruction;delete S.systemInstruction;const _=S.request;_.systemInstruction=T,S.request=_}h.push(S)}return p.requests=h,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,i){const l=i?Object.assign({},i):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const s=this.getGcsUri(t),c=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?l.dest=`${s.slice(0,-6)}/dest`:l.dest=`${s}_dest_${a}`;else if(c)l.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=fC(this.apiClient,t);return p=se("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>qc(y))}else{const h=iy(this.apiClient,t);return p=se("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Da(y))}}async createEmbeddingsInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pC(this.apiClient,t);return s=se("{model}:asyncBatchEmbedContent",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>Da(g))}}async get(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=wC(this.apiClient,t);return p=se("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>qc(y))}else{const h=bC(this.apiClient,t);return p=se("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Da(y))}}async cancel(t){var i,l,a,s;let c="",p={};if(this.apiClient.isVertexAI()){const g=rC(this.apiClient,t);c=se("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const g=lC(this.apiClient,t);c=se("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=zC(t);return p=se("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=HC(y),T=new jg;return Object.assign(T,S),T})}else{const h=LC(t);return p=se("batches",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=PC(y),T=new jg;return Object.assign(T,S),T})}}async delete(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=mC(this.apiClient,t);return p=se("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>yC(y))}else{const h=hC(this.apiClient,t);return p=se("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>gC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(e){const t={},i=f(e,["data"]);if(i!=null&&d(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function oy(e){const t={},i=f(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>pA(s))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function YC(e,t){const i={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const s=f(e,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const c=f(e,["contents"]);if(t!==void 0&&c!=null){let y=sn(c);Array.isArray(y)&&(y=y.map(S=>oy(S))),d(t,["contents"],y)}const p=f(e,["systemInstruction"]);t!==void 0&&p!=null&&d(t,["systemInstruction"],oy(Et(p)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(S=>mA(S))),d(t,["tools"],y)}const h=f(e,["toolConfig"]);if(t!==void 0&&h!=null&&d(t,["toolConfig"],hA(h)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function JC(e,t){const i={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const s=f(e,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const c=f(e,["contents"]);if(t!==void 0&&c!=null){let S=sn(c);Array.isArray(S)&&(S=S.map(T=>T)),d(t,["contents"],S)}const p=f(e,["systemInstruction"]);t!==void 0&&p!=null&&d(t,["systemInstruction"],Et(p));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(T=>gA(T))),d(t,["tools"],S)}const h=f(e,["toolConfig"]);t!==void 0&&h!=null&&d(t,["toolConfig"],h);const y=f(e,["kmsKeyName"]);return t!==void 0&&y!=null&&d(t,["encryption_spec","kmsKeyName"],y),i}function KC(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["model"],d0(e,l));const a=f(t,["config"]);return a!=null&&YC(a,i),i}function XC(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["model"],d0(e,l));const a=f(t,["config"]);return a!=null&&JC(a,i),i}function QC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Kn(e,l)),i}function ZC(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Kn(e,l)),i}function $C(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&d(t,["sdkHttpResponse"],i),t}function WC(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&d(t,["sdkHttpResponse"],i),t}function jC(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function eA(e){const t={},i=f(e,["id"]);i!=null&&d(t,["id"],i);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tA(e){const t={},i=f(e,["allowedFunctionNames"]);i!=null&&d(t,["allowedFunctionNames"],i);const l=f(e,["mode"]);if(l!=null&&d(t,["mode"],l),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nA(e){const t={},i=f(e,["description"]);i!=null&&d(t,["description"],i);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const s=f(e,["parametersJsonSchema"]);s!=null&&d(t,["parametersJsonSchema"],s);const c=f(e,["response"]);c!=null&&d(t,["response"],c);const p=f(e,["responseJsonSchema"]);if(p!=null&&d(t,["responseJsonSchema"],p),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function iA(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Kn(e,l)),i}function oA(e,t){const i={},l=f(t,["name"]);return l!=null&&d(i,["_url","name"],Kn(e,l)),i}function lA(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&d(t,["enableWidget"],i),t}function rA(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],i),t}function aA(e,t){const i={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),i}function sA(e,t){const i={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),i}function uA(e){const t={},i=f(e,["config"]);return i!=null&&aA(i,t),t}function cA(e){const t={},i=f(e,["config"]);return i!=null&&sA(i,t),t}function fA(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(t,["cachedContents"],s)}return t}function dA(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(t,["cachedContents"],s)}return t}function pA(e){const t={},i=f(e,["mediaResolution"]);i!=null&&d(t,["mediaResolution"],i);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const s=f(e,["fileData"]);s!=null&&d(t,["fileData"],jC(s));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],eA(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],FC(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const S=f(e,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const T=f(e,["videoMetadata"]);return T!=null&&d(t,["videoMetadata"],T),t}function hA(e){const t={},i=f(e,["retrievalConfig"]);i!=null&&d(t,["retrievalConfig"],i);const l=f(e,["functionCallingConfig"]);return l!=null&&d(t,["functionCallingConfig"],tA(l)),t}function mA(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const l=f(e,["fileSearch"]);l!=null&&d(t,["fileSearch"],l);const a=f(e,["codeExecution"]);if(a!=null&&d(t,["codeExecution"],a),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(e,["functionDeclarations"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(S=>S)),d(t,["functionDeclarations"],y)}const c=f(e,["googleMaps"]);c!=null&&d(t,["googleMaps"],lA(c));const p=f(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],rA(p));const g=f(e,["googleSearchRetrieval"]);g!=null&&d(t,["googleSearchRetrieval"],g);const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}function gA(e){const t={},i=f(e,["retrieval"]);i!=null&&d(t,["retrieval"],i);const l=f(e,["computerUse"]);if(l!=null&&d(t,["computerUse"],l),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(e,["codeExecution"]);a!=null&&d(t,["codeExecution"],a);const s=f(e,["enterpriseWebSearch"]);s!=null&&d(t,["enterpriseWebSearch"],s);const c=f(e,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(T=>nA(T))),d(t,["functionDeclarations"],S)}const p=f(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],p);const g=f(e,["googleSearch"]);g!=null&&d(t,["googleSearch"],g);const h=f(e,["googleSearchRetrieval"]);h!=null&&d(t,["googleSearchRetrieval"],h);const y=f(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function yA(e,t){const i={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),i}function vA(e,t){const i={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),i}function SA(e,t){const i={},l=f(t,["name"]);l!=null&&d(i,["_url","name"],Kn(e,l));const a=f(t,["config"]);return a!=null&&yA(a,i),i}function TA(e,t){const i={},l=f(t,["name"]);l!=null&&d(i,["_url","name"],Kn(e,l));const a=f(t,["config"]);return a!=null&&vA(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EA extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Bi(Yn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=XC(this.apiClient,t);return p=se("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=KC(this.apiClient,t);return p=se("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=oA(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=iA(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=ZC(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=WC(y),T=new $g;return Object.assign(T,S),T})}else{const h=QC(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=$C(y),T=new $g;return Object.assign(T,S),T})}}async update(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=TA(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=SA(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=cA(t);return p=se("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=dA(y),T=new Wg;return Object.assign(T,S),T})}else{const h=uA(t);return p=se("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=fA(y),T=new Wg;return Object.assign(T,S),T})}}}function Pa(e,t){var i={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(i[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(i[l[a]]=e[l[a]]);return i}function ly(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],l=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(e){return this instanceof Te?(this.v=e,this):new Te(e)}function hn(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(_){return function(b){return Promise.resolve(b).then(_,S)}}function p(_,b){l[_]&&(a[_]=function(I){return new Promise(function(N,D){s.push([_,I,N,D])>1||g(_,I)})},b&&(a[_]=b(a[_])))}function g(_,b){try{h(l[_](b))}catch(I){T(s[0][3],I)}}function h(_){_.value instanceof Te?Promise.resolve(_.value.v).then(y,S):T(s[0][2],_)}function y(_){g("next",_)}function S(_){g("throw",_)}function T(_,b){_(b),s.shift(),s.length&&g(s[0][0],s[0][1])}}function mn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof ly=="function"?ly(e):e[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(s){i[s]=e[s]&&function(c){return new Promise(function(p,g){c=e[s](c),a(p,g,c.done,c.value)})}}function a(s,c,p,g){Promise.resolve(g).then(function(h){s({value:h,done:p})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _A(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const i=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return i===void 0?!1:x0(i)}function x0(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function CA(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function ry(e){if(e===void 0||e.length===0)return[];const t=[],i=e.length;let l=0;for(;l<i;)if(e[l].role==="user")t.push(e[l]),l++;else{const a=[];let s=!0;for(;l<i&&e[l].role==="model";)a.push(e[l]),s&&!x0(e[l])&&(s=!1),l++;s?t.push(...a):t.pop()}return t}class AA{constructor(t,i){this.modelsModule=t,this.apiClient=i}create(t){return new xA(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class xA{constructor(t,i,l,a={},s=[]){this.apiClient=t,this.modelsModule=i,this.model=l,this.config=a,this.history=s,this.sendPromise=Promise.resolve(),CA(s)}async sendMessage(t){var i;await this.sendPromise;const l=Et(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=t.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var s,c,p;const g=await a,h=(c=(s=g.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content,y=g.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let T=[];y!=null&&(T=(p=y.slice(S))!==null&&p!==void 0?p:[]);const _=h?[h]:[];this.recordHistory(l,_,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var i;await this.sendPromise;const l=Et(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=t.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const s=await a;return this.processStreamResponse(s,l)}getHistory(t=!1){const i=t?ry(this.history):this.history;return structuredClone(i)}processStreamResponse(t,i){return hn(this,arguments,function*(){var a,s,c,p,g,h;const y=[];try{for(var S=!0,T=mn(t),_;_=yield Te(T.next()),a=_.done,!a;S=!0){p=_.value,S=!1;const b=p;if(_A(b)){const I=(h=(g=b.candidates)===null||g===void 0?void 0:g[0])===null||h===void 0?void 0:h.content;I!==void 0&&y.push(I)}yield yield Te(b)}}catch(b){s={error:b}}finally{try{!S&&!a&&(c=T.return)&&(yield Te(c.call(T)))}finally{if(s)throw s.error}}this.recordHistory(i,y)})}recordHistory(t,i,l){let a=[];i.length>0&&i.every(s=>s.role!==void 0)?a=i:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...ry(l)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class er extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,er.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(e){const t={},i=f(e,["file"]);return i!=null&&d(t,["file"],i),t}function wA(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&d(t,["sdkHttpResponse"],i),t}function RA(e){const t={},i=f(e,["name"]);return i!=null&&d(t,["_url","file"],v0(i)),t}function MA(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&d(t,["sdkHttpResponse"],i),t}function NA(e){const t={},i=f(e,["name"]);return i!=null&&d(t,["_url","file"],v0(i)),t}function IA(e){const t={},i=f(e,["uris"]);return i!=null&&d(t,["uris"],i),t}function DA(e,t){const i={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),i}function kA(e){const t={},i=f(e,["config"]);return i!=null&&DA(i,t),t}function UA(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(t,["files"],s)}return t}function LA(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["files"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>s)),d(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zA extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Bi(Yn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(i=>i)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=kA(t);return s=se("files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=UA(g),y=new P_;return Object.assign(y,h),y})}}async createInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=bA(t);return s=se("upload/v1beta/files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=wA(g),y=new H_;return Object.assign(y,h),y})}}async get(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=NA(t);return s=se("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=RA(t);return s=se("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=MA(g),y=new O_;return Object.assign(y,h),y})}}async registerFilesInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=IA(t);return s=se("files:register",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=LA(g),y=new G_;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ka(e){const t={},i=f(e,["data"]);if(i!=null&&d(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function PA(e){const t={},i=f(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>jA(s))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function HA(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function OA(e){const t={},i=f(e,["id"]);i!=null&&d(t,["id"],i);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function GA(e){const t={},i=f(e,["description"]);i!=null&&d(t,["description"],i);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const s=f(e,["parametersJsonSchema"]);s!=null&&d(t,["parametersJsonSchema"],s);const c=f(e,["response"]);c!=null&&d(t,["response"],c);const p=f(e,["responseJsonSchema"]);if(p!=null&&d(t,["responseJsonSchema"],p),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function VA(e){const t={},i=f(e,["modelSelectionConfig"]);i!=null&&d(t,["modelConfig"],i);const l=f(e,["responseJsonSchema"]);l!=null&&d(t,["responseJsonSchema"],l);const a=f(e,["audioTimestamp"]);a!=null&&d(t,["audioTimestamp"],a);const s=f(e,["candidateCount"]);s!=null&&d(t,["candidateCount"],s);const c=f(e,["enableAffectiveDialog"]);c!=null&&d(t,["enableAffectiveDialog"],c);const p=f(e,["frequencyPenalty"]);p!=null&&d(t,["frequencyPenalty"],p);const g=f(e,["logprobs"]);g!=null&&d(t,["logprobs"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(t,["maxOutputTokens"],h);const y=f(e,["mediaResolution"]);y!=null&&d(t,["mediaResolution"],y);const S=f(e,["presencePenalty"]);S!=null&&d(t,["presencePenalty"],S);const T=f(e,["responseLogprobs"]);T!=null&&d(t,["responseLogprobs"],T);const _=f(e,["responseMimeType"]);_!=null&&d(t,["responseMimeType"],_);const b=f(e,["responseModalities"]);b!=null&&d(t,["responseModalities"],b);const I=f(e,["responseSchema"]);I!=null&&d(t,["responseSchema"],I);const N=f(e,["routingConfig"]);N!=null&&d(t,["routingConfig"],N);const D=f(e,["seed"]);D!=null&&d(t,["seed"],D);const B=f(e,["speechConfig"]);B!=null&&d(t,["speechConfig"],B);const P=f(e,["stopSequences"]);P!=null&&d(t,["stopSequences"],P);const X=f(e,["temperature"]);X!=null&&d(t,["temperature"],X);const j=f(e,["thinkingConfig"]);j!=null&&d(t,["thinkingConfig"],j);const M=f(e,["topK"]);M!=null&&d(t,["topK"],M);const Y=f(e,["topP"]);if(Y!=null&&d(t,["topP"],Y),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qA(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&d(t,["enableWidget"],i),t}function BA(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],i),t}function FA(e,t){const i={},l=f(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const s=f(e,["temperature"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","temperature"],s);const c=f(e,["topP"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topP"],c);const p=f(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],gf(S));const T=f(e,["thinkingConfig"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","thinkingConfig"],T);const _=f(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(e,["systemInstruction"]);t!==void 0&&b!=null&&d(t,["setup","systemInstruction"],PA(Et(b)));const I=f(e,["tools"]);if(t!==void 0&&I!=null){let M=Fo(I);Array.isArray(M)&&(M=M.map(Y=>tx(Bo(Y)))),d(t,["setup","tools"],M)}const N=f(e,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],ex(N));const D=f(e,["inputAudioTranscription"]);t!==void 0&&D!=null&&d(t,["setup","inputAudioTranscription"],D);const B=f(e,["outputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","outputAudioTranscription"],B);const P=f(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&d(t,["setup","realtimeInputConfig"],P);const X=f(e,["contextWindowCompression"]);t!==void 0&&X!=null&&d(t,["setup","contextWindowCompression"],X);const j=f(e,["proactivity"]);if(t!==void 0&&j!=null&&d(t,["setup","proactivity"],j),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function YA(e,t){const i={},l=f(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],VA(l));const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const s=f(e,["temperature"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","temperature"],s);const c=f(e,["topP"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topP"],c);const p=f(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],gf(S));const T=f(e,["thinkingConfig"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","thinkingConfig"],T);const _=f(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(e,["systemInstruction"]);t!==void 0&&b!=null&&d(t,["setup","systemInstruction"],Et(b));const I=f(e,["tools"]);if(t!==void 0&&I!=null){let Y=Fo(I);Array.isArray(Y)&&(Y=Y.map(ue=>nx(Bo(ue)))),d(t,["setup","tools"],Y)}const N=f(e,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],N);const D=f(e,["inputAudioTranscription"]);t!==void 0&&D!=null&&d(t,["setup","inputAudioTranscription"],D);const B=f(e,["outputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","outputAudioTranscription"],B);const P=f(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&d(t,["setup","realtimeInputConfig"],P);const X=f(e,["contextWindowCompression"]);t!==void 0&&X!=null&&d(t,["setup","contextWindowCompression"],X);const j=f(e,["proactivity"]);t!==void 0&&j!=null&&d(t,["setup","proactivity"],j);const M=f(e,["explicitVadSignal"]);return t!==void 0&&M!=null&&d(t,["setup","explicitVadSignal"],M),i}function JA(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["setup","model"],Pe(e,l));const a=f(t,["config"]);return a!=null&&d(i,["config"],FA(a,i)),i}function KA(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["setup","model"],Pe(e,l));const a=f(t,["config"]);return a!=null&&d(i,["config"],YA(a,i)),i}function XA(e){const t={},i=f(e,["musicGenerationConfig"]);return i!=null&&d(t,["musicGenerationConfig"],i),t}function QA(e){const t={},i=f(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["weightedPrompts"],l)}return t}function ZA(e){const t={},i=f(e,["media"]);if(i!=null){let h=p0(i);Array.isArray(h)&&(h=h.map(y=>ka(y))),d(t,["mediaChunks"],h)}const l=f(e,["audio"]);l!=null&&d(t,["audio"],ka(m0(l)));const a=f(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const s=f(e,["video"]);s!=null&&d(t,["video"],ka(h0(s)));const c=f(e,["text"]);c!=null&&d(t,["text"],c);const p=f(e,["activityStart"]);p!=null&&d(t,["activityStart"],p);const g=f(e,["activityEnd"]);return g!=null&&d(t,["activityEnd"],g),t}function $A(e){const t={},i=f(e,["media"]);if(i!=null){let h=p0(i);Array.isArray(h)&&(h=h.map(y=>y)),d(t,["mediaChunks"],h)}const l=f(e,["audio"]);l!=null&&d(t,["audio"],m0(l));const a=f(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const s=f(e,["video"]);s!=null&&d(t,["video"],h0(s));const c=f(e,["text"]);c!=null&&d(t,["text"],c);const p=f(e,["activityStart"]);p!=null&&d(t,["activityStart"],p);const g=f(e,["activityEnd"]);return g!=null&&d(t,["activityEnd"],g),t}function WA(e){const t={},i=f(e,["setupComplete"]);i!=null&&d(t,["setupComplete"],i);const l=f(e,["serverContent"]);l!=null&&d(t,["serverContent"],l);const a=f(e,["toolCall"]);a!=null&&d(t,["toolCall"],a);const s=f(e,["toolCallCancellation"]);s!=null&&d(t,["toolCallCancellation"],s);const c=f(e,["usageMetadata"]);c!=null&&d(t,["usageMetadata"],ix(c));const p=f(e,["goAway"]);p!=null&&d(t,["goAway"],p);const g=f(e,["sessionResumptionUpdate"]);g!=null&&d(t,["sessionResumptionUpdate"],g);const h=f(e,["voiceActivityDetectionSignal"]);h!=null&&d(t,["voiceActivityDetectionSignal"],h);const y=f(e,["voiceActivity"]);return y!=null&&d(t,["voiceActivity"],ox(y)),t}function jA(e){const t={},i=f(e,["mediaResolution"]);i!=null&&d(t,["mediaResolution"],i);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const s=f(e,["fileData"]);s!=null&&d(t,["fileData"],HA(s));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],OA(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],ka(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const S=f(e,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const T=f(e,["videoMetadata"]);return T!=null&&d(t,["videoMetadata"],T),t}function ex(e){const t={},i=f(e,["handle"]);if(i!=null&&d(t,["handle"],i),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function tx(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const l=f(e,["fileSearch"]);l!=null&&d(t,["fileSearch"],l);const a=f(e,["codeExecution"]);if(a!=null&&d(t,["codeExecution"],a),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(e,["functionDeclarations"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(S=>S)),d(t,["functionDeclarations"],y)}const c=f(e,["googleMaps"]);c!=null&&d(t,["googleMaps"],qA(c));const p=f(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],BA(p));const g=f(e,["googleSearchRetrieval"]);g!=null&&d(t,["googleSearchRetrieval"],g);const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}function nx(e){const t={},i=f(e,["retrieval"]);i!=null&&d(t,["retrieval"],i);const l=f(e,["computerUse"]);if(l!=null&&d(t,["computerUse"],l),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(e,["codeExecution"]);a!=null&&d(t,["codeExecution"],a);const s=f(e,["enterpriseWebSearch"]);s!=null&&d(t,["enterpriseWebSearch"],s);const c=f(e,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(T=>GA(T))),d(t,["functionDeclarations"],S)}const p=f(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],p);const g=f(e,["googleSearch"]);g!=null&&d(t,["googleSearch"],g);const h=f(e,["googleSearchRetrieval"]);h!=null&&d(t,["googleSearchRetrieval"],h);const y=f(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function ix(e){const t={},i=f(e,["promptTokenCount"]);i!=null&&d(t,["promptTokenCount"],i);const l=f(e,["cachedContentTokenCount"]);l!=null&&d(t,["cachedContentTokenCount"],l);const a=f(e,["candidatesTokenCount"]);a!=null&&d(t,["responseTokenCount"],a);const s=f(e,["toolUsePromptTokenCount"]);s!=null&&d(t,["toolUsePromptTokenCount"],s);const c=f(e,["thoughtsTokenCount"]);c!=null&&d(t,["thoughtsTokenCount"],c);const p=f(e,["totalTokenCount"]);p!=null&&d(t,["totalTokenCount"],p);const g=f(e,["promptTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(b=>b)),d(t,["promptTokensDetails"],_)}const h=f(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(b=>b)),d(t,["cacheTokensDetails"],_)}const y=f(e,["candidatesTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(b=>b)),d(t,["responseTokensDetails"],_)}const S=f(e,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(b=>b)),d(t,["toolUsePromptTokensDetails"],_)}const T=f(e,["trafficType"]);return T!=null&&d(t,["trafficType"],T),t}function ox(e){const t={},i=f(e,["type"]);return i!=null&&d(t,["voiceActivityType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lx(e,t){const i={},l=f(e,["data"]);if(l!=null&&d(i,["data"],l),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(e,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function rx(e,t){const i={},l=f(e,["content"]);l!=null&&d(i,["content"],l);const a=f(e,["citationMetadata"]);a!=null&&d(i,["citationMetadata"],ax(a));const s=f(e,["tokenCount"]);s!=null&&d(i,["tokenCount"],s);const c=f(e,["finishReason"]);c!=null&&d(i,["finishReason"],c);const p=f(e,["avgLogprobs"]);p!=null&&d(i,["avgLogprobs"],p);const g=f(e,["groundingMetadata"]);g!=null&&d(i,["groundingMetadata"],g);const h=f(e,["index"]);h!=null&&d(i,["index"],h);const y=f(e,["logprobsResult"]);y!=null&&d(i,["logprobsResult"],y);const S=f(e,["safetyRatings"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(b=>b)),d(i,["safetyRatings"],_)}const T=f(e,["urlContextMetadata"]);return T!=null&&d(i,["urlContextMetadata"],T),i}function ax(e,t){const i={},l=f(e,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>s)),d(i,["citations"],a)}return i}function sx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["contents"]);if(s!=null){let c=sn(s);Array.isArray(c)&&(c=c.map(p=>p)),d(l,["contents"],c)}return l}function ux(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["tokensInfo"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(i,["tokensInfo"],s)}return i}function cx(e,t){const i={},l=f(e,["values"]);l!=null&&d(i,["values"],l);const a=f(e,["statistics"]);return a!=null&&d(i,["statistics"],fx(a)),i}function fx(e,t){const i={},l=f(e,["truncated"]);l!=null&&d(i,["truncated"],l);const a=f(e,["token_count"]);return a!=null&&d(i,["tokenCount"],a),i}function Ba(e,t){const i={},l=f(e,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>T1(c))),d(i,["parts"],s)}const a=f(e,["role"]);return a!=null&&d(i,["role"],a),i}function dx(e,t){const i={},l=f(e,["controlType"]);l!=null&&d(i,["controlType"],l);const a=f(e,["enableControlImageComputation"]);return a!=null&&d(i,["computeControl"],a),i}function px(e,t){const i={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function hx(e,t,i){const l={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&d(t,["systemInstruction"],Et(a));const s=f(e,["tools"]);if(t!==void 0&&s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>M0(g))),d(t,["tools"],p)}const c=f(e,["generationConfig"]);return t!==void 0&&c!=null&&d(t,["generationConfig"],l1(c)),l}function mx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["contents"]);if(s!=null){let p=sn(s);Array.isArray(p)&&(p=p.map(g=>Ba(g))),d(l,["contents"],p)}const c=f(t,["config"]);return c!=null&&px(c),l}function gx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["contents"]);if(s!=null){let p=sn(s);Array.isArray(p)&&(p=p.map(g=>g)),d(l,["contents"],p)}const c=f(t,["config"]);return c!=null&&hx(c,l),l}function yx(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["totalTokens"]);a!=null&&d(i,["totalTokens"],a);const s=f(e,["cachedContentTokenCount"]);return s!=null&&d(i,["cachedContentTokenCount"],s),i}function vx(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["totalTokens"]);return a!=null&&d(i,["totalTokens"],a),i}function Sx(e,t,i){const l={},a=f(t,["model"]);return a!=null&&d(l,["_url","name"],Pe(e,a)),l}function Tx(e,t,i){const l={},a=f(t,["model"]);return a!=null&&d(l,["_url","name"],Pe(e,a)),l}function Ex(e,t){const i={},l=f(e,["sdkHttpResponse"]);return l!=null&&d(i,["sdkHttpResponse"],l),i}function _x(e,t){const i={},l=f(e,["sdkHttpResponse"]);return l!=null&&d(i,["sdkHttpResponse"],l),i}function Cx(e,t,i){const l={},a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&d(t,["parameters","storageUri"],a);const s=f(e,["negativePrompt"]);t!==void 0&&s!=null&&d(t,["parameters","negativePrompt"],s);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const p=f(e,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const g=f(e,["guidanceScale"]);t!==void 0&&g!=null&&d(t,["parameters","guidanceScale"],g);const h=f(e,["seed"]);t!==void 0&&h!=null&&d(t,["parameters","seed"],h);const y=f(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&d(t,["parameters","safetySetting"],y);const S=f(e,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const T=f(e,["includeSafetyAttributes"]);t!==void 0&&T!=null&&d(t,["parameters","includeSafetyAttributes"],T);const _=f(e,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const b=f(e,["language"]);t!==void 0&&b!=null&&d(t,["parameters","language"],b);const I=f(e,["outputMimeType"]);t!==void 0&&I!=null&&d(t,["parameters","outputOptions","mimeType"],I);const N=f(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const D=f(e,["addWatermark"]);t!==void 0&&D!=null&&d(t,["parameters","addWatermark"],D);const B=f(e,["labels"]);t!==void 0&&B!=null&&d(t,["labels"],B);const P=f(e,["editMode"]);t!==void 0&&P!=null&&d(t,["parameters","editMode"],P);const X=f(e,["baseSteps"]);return t!==void 0&&X!=null&&d(t,["parameters","editConfig","baseSteps"],X),l}function Ax(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["prompt"]);s!=null&&d(l,["instances[0]","prompt"],s);const c=f(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(h=>b1(h))),d(l,["instances[0]","referenceImages"],g)}const p=f(t,["config"]);return p!=null&&Cx(p,l),l}function xx(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>Fa(c))),d(i,["generatedImages"],s)}return i}function bx(e,t,i){const l={},a=f(e,["taskType"]);t!==void 0&&a!=null&&d(t,["requests[]","taskType"],a);const s=f(e,["title"]);t!==void 0&&s!=null&&d(t,["requests[]","title"],s);const c=f(e,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function wx(e,t,i){const l={},a=f(e,["taskType"]);t!==void 0&&a!=null&&d(t,["instances[]","task_type"],a);const s=f(e,["title"]);t!==void 0&&s!=null&&d(t,["instances[]","title"],s);const c=f(e,["outputDimensionality"]);t!==void 0&&c!=null&&d(t,["parameters","outputDimensionality"],c);const p=f(e,["mimeType"]);t!==void 0&&p!=null&&d(t,["instances[]","mimeType"],p);const g=f(e,["autoTruncate"]);return t!==void 0&&g!=null&&d(t,["parameters","autoTruncate"],g),l}function Rx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["contents"]);if(s!=null){let g=pf(e,s);Array.isArray(g)&&(g=g.map(h=>h)),d(l,["requests[]","content"],g)}const c=f(t,["config"]);c!=null&&bx(c,l);const p=f(t,["model"]);return p!==void 0&&d(l,["requests[]","model"],Pe(e,p)),l}function Mx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["contents"]);if(s!=null){let p=pf(e,s);Array.isArray(p)&&(p=p.map(g=>g)),d(l,["instances[]","content"],p)}const c=f(t,["config"]);return c!=null&&wx(c,l),l}function Nx(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),d(i,["embeddings"],c)}const s=f(e,["metadata"]);return s!=null&&d(i,["metadata"],s),i}function Ix(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>cx(p))),d(i,["embeddings"],c)}const s=f(e,["metadata"]);return s!=null&&d(i,["metadata"],s),i}function Dx(e,t){const i={},l=f(e,["endpoint"]);l!=null&&d(i,["name"],l);const a=f(e,["deployedModelId"]);return a!=null&&d(i,["deployedModelId"],a),i}function kx(e,t){const i={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["fileUri"]);l!=null&&d(i,["fileUri"],l);const a=f(e,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function Ux(e,t){const i={},l=f(e,["id"]);l!=null&&d(i,["id"],l);const a=f(e,["args"]);a!=null&&d(i,["args"],a);const s=f(e,["name"]);if(s!=null&&d(i,["name"],s),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function Lx(e,t){const i={},l=f(e,["allowedFunctionNames"]);l!=null&&d(i,["allowedFunctionNames"],l);const a=f(e,["mode"]);if(a!=null&&d(i,["mode"],a),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function zx(e,t){const i={},l=f(e,["description"]);l!=null&&d(i,["description"],l);const a=f(e,["name"]);a!=null&&d(i,["name"],a);const s=f(e,["parameters"]);s!=null&&d(i,["parameters"],s);const c=f(e,["parametersJsonSchema"]);c!=null&&d(i,["parametersJsonSchema"],c);const p=f(e,["response"]);p!=null&&d(i,["response"],p);const g=f(e,["responseJsonSchema"]);if(g!=null&&d(i,["responseJsonSchema"],g),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function Px(e,t,i,l){const a={},s=f(t,["systemInstruction"]);i!==void 0&&s!=null&&d(i,["systemInstruction"],Ba(Et(s)));const c=f(t,["temperature"]);c!=null&&d(a,["temperature"],c);const p=f(t,["topP"]);p!=null&&d(a,["topP"],p);const g=f(t,["topK"]);g!=null&&d(a,["topK"],g);const h=f(t,["candidateCount"]);h!=null&&d(a,["candidateCount"],h);const y=f(t,["maxOutputTokens"]);y!=null&&d(a,["maxOutputTokens"],y);const S=f(t,["stopSequences"]);S!=null&&d(a,["stopSequences"],S);const T=f(t,["responseLogprobs"]);T!=null&&d(a,["responseLogprobs"],T);const _=f(t,["logprobs"]);_!=null&&d(a,["logprobs"],_);const b=f(t,["presencePenalty"]);b!=null&&d(a,["presencePenalty"],b);const I=f(t,["frequencyPenalty"]);I!=null&&d(a,["frequencyPenalty"],I);const N=f(t,["seed"]);N!=null&&d(a,["seed"],N);const D=f(t,["responseMimeType"]);D!=null&&d(a,["responseMimeType"],D);const B=f(t,["responseSchema"]);B!=null&&d(a,["responseSchema"],hf(B));const P=f(t,["responseJsonSchema"]);if(P!=null&&d(a,["responseJsonSchema"],P),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=f(t,["safetySettings"]);if(i!==void 0&&X!=null){let le=X;Array.isArray(le)&&(le=le.map(W=>w1(W))),d(i,["safetySettings"],le)}const j=f(t,["tools"]);if(i!==void 0&&j!=null){let le=Fo(j);Array.isArray(le)&&(le=le.map(W=>U1(Bo(W)))),d(i,["tools"],le)}const M=f(t,["toolConfig"]);if(i!==void 0&&M!=null&&d(i,["toolConfig"],k1(M)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=f(t,["cachedContent"]);i!==void 0&&Y!=null&&d(i,["cachedContent"],Kn(e,Y));const ue=f(t,["responseModalities"]);ue!=null&&d(a,["responseModalities"],ue);const $=f(t,["mediaResolution"]);$!=null&&d(a,["mediaResolution"],$);const ae=f(t,["speechConfig"]);if(ae!=null&&d(a,["speechConfig"],mf(ae)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=f(t,["thinkingConfig"]);ee!=null&&d(a,["thinkingConfig"],ee);const ie=f(t,["imageConfig"]);ie!=null&&d(a,["imageConfig"],c1(ie));const he=f(t,["enableEnhancedCivicAnswers"]);if(he!=null&&d(a,["enableEnhancedCivicAnswers"],he),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function Hx(e,t,i,l){const a={},s=f(t,["systemInstruction"]);i!==void 0&&s!=null&&d(i,["systemInstruction"],Et(s));const c=f(t,["temperature"]);c!=null&&d(a,["temperature"],c);const p=f(t,["topP"]);p!=null&&d(a,["topP"],p);const g=f(t,["topK"]);g!=null&&d(a,["topK"],g);const h=f(t,["candidateCount"]);h!=null&&d(a,["candidateCount"],h);const y=f(t,["maxOutputTokens"]);y!=null&&d(a,["maxOutputTokens"],y);const S=f(t,["stopSequences"]);S!=null&&d(a,["stopSequences"],S);const T=f(t,["responseLogprobs"]);T!=null&&d(a,["responseLogprobs"],T);const _=f(t,["logprobs"]);_!=null&&d(a,["logprobs"],_);const b=f(t,["presencePenalty"]);b!=null&&d(a,["presencePenalty"],b);const I=f(t,["frequencyPenalty"]);I!=null&&d(a,["frequencyPenalty"],I);const N=f(t,["seed"]);N!=null&&d(a,["seed"],N);const D=f(t,["responseMimeType"]);D!=null&&d(a,["responseMimeType"],D);const B=f(t,["responseSchema"]);B!=null&&d(a,["responseSchema"],hf(B));const P=f(t,["responseJsonSchema"]);P!=null&&d(a,["responseJsonSchema"],P);const X=f(t,["routingConfig"]);X!=null&&d(a,["routingConfig"],X);const j=f(t,["modelSelectionConfig"]);j!=null&&d(a,["modelConfig"],j);const M=f(t,["safetySettings"]);if(i!==void 0&&M!=null){let re=M;Array.isArray(re)&&(re=re.map(ve=>ve)),d(i,["safetySettings"],re)}const Y=f(t,["tools"]);if(i!==void 0&&Y!=null){let re=Fo(Y);Array.isArray(re)&&(re=re.map(ve=>M0(Bo(ve)))),d(i,["tools"],re)}const ue=f(t,["toolConfig"]);i!==void 0&&ue!=null&&d(i,["toolConfig"],ue);const $=f(t,["labels"]);i!==void 0&&$!=null&&d(i,["labels"],$);const ae=f(t,["cachedContent"]);i!==void 0&&ae!=null&&d(i,["cachedContent"],Kn(e,ae));const ee=f(t,["responseModalities"]);ee!=null&&d(a,["responseModalities"],ee);const ie=f(t,["mediaResolution"]);ie!=null&&d(a,["mediaResolution"],ie);const he=f(t,["speechConfig"]);he!=null&&d(a,["speechConfig"],mf(he));const le=f(t,["audioTimestamp"]);le!=null&&d(a,["audioTimestamp"],le);const W=f(t,["thinkingConfig"]);W!=null&&d(a,["thinkingConfig"],W);const z=f(t,["imageConfig"]);if(z!=null&&d(a,["imageConfig"],f1(z)),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Z=f(t,["modelArmorConfig"]);return i!==void 0&&Z!=null&&d(i,["modelArmorConfig"],Z),a}function ay(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["contents"]);if(s!=null){let p=sn(s);Array.isArray(p)&&(p=p.map(g=>Ba(g))),d(l,["contents"],p)}const c=f(t,["config"]);return c!=null&&d(l,["generationConfig"],Px(e,c,l)),l}function sy(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["contents"]);if(s!=null){let p=sn(s);Array.isArray(p)&&(p=p.map(g=>g)),d(l,["contents"],p)}const c=f(t,["config"]);return c!=null&&d(l,["generationConfig"],Hx(e,c,l)),l}function uy(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>rx(y))),d(i,["candidates"],h)}const s=f(e,["modelVersion"]);s!=null&&d(i,["modelVersion"],s);const c=f(e,["promptFeedback"]);c!=null&&d(i,["promptFeedback"],c);const p=f(e,["responseId"]);p!=null&&d(i,["responseId"],p);const g=f(e,["usageMetadata"]);return g!=null&&d(i,["usageMetadata"],g),i}function cy(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(S=>S)),d(i,["candidates"],y)}const s=f(e,["createTime"]);s!=null&&d(i,["createTime"],s);const c=f(e,["modelVersion"]);c!=null&&d(i,["modelVersion"],c);const p=f(e,["promptFeedback"]);p!=null&&d(i,["promptFeedback"],p);const g=f(e,["responseId"]);g!=null&&d(i,["responseId"],g);const h=f(e,["usageMetadata"]);return h!=null&&d(i,["usageMetadata"],h),i}function Ox(e,t,i){const l={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&d(t,["parameters","sampleCount"],a);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&d(t,["parameters","aspectRatio"],s);const c=f(e,["guidanceScale"]);if(t!==void 0&&c!=null&&d(t,["parameters","guidanceScale"],c),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=f(e,["safetyFilterLevel"]);t!==void 0&&p!=null&&d(t,["parameters","safetySetting"],p);const g=f(e,["personGeneration"]);t!==void 0&&g!=null&&d(t,["parameters","personGeneration"],g);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&d(t,["parameters","includeSafetyAttributes"],h);const y=f(e,["includeRaiReason"]);t!==void 0&&y!=null&&d(t,["parameters","includeRaiReason"],y);const S=f(e,["language"]);t!==void 0&&S!=null&&d(t,["parameters","language"],S);const T=f(e,["outputMimeType"]);t!==void 0&&T!=null&&d(t,["parameters","outputOptions","mimeType"],T);const _=f(e,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&d(t,["parameters","outputOptions","compressionQuality"],_),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=f(e,["imageSize"]);if(t!==void 0&&b!=null&&d(t,["parameters","sampleImageSize"],b),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function Gx(e,t,i){const l={},a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&d(t,["parameters","storageUri"],a);const s=f(e,["negativePrompt"]);t!==void 0&&s!=null&&d(t,["parameters","negativePrompt"],s);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const p=f(e,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const g=f(e,["guidanceScale"]);t!==void 0&&g!=null&&d(t,["parameters","guidanceScale"],g);const h=f(e,["seed"]);t!==void 0&&h!=null&&d(t,["parameters","seed"],h);const y=f(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&d(t,["parameters","safetySetting"],y);const S=f(e,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const T=f(e,["includeSafetyAttributes"]);t!==void 0&&T!=null&&d(t,["parameters","includeSafetyAttributes"],T);const _=f(e,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const b=f(e,["language"]);t!==void 0&&b!=null&&d(t,["parameters","language"],b);const I=f(e,["outputMimeType"]);t!==void 0&&I!=null&&d(t,["parameters","outputOptions","mimeType"],I);const N=f(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const D=f(e,["addWatermark"]);t!==void 0&&D!=null&&d(t,["parameters","addWatermark"],D);const B=f(e,["labels"]);t!==void 0&&B!=null&&d(t,["labels"],B);const P=f(e,["imageSize"]);t!==void 0&&P!=null&&d(t,["parameters","sampleImageSize"],P);const X=f(e,["enhancePrompt"]);return t!==void 0&&X!=null&&d(t,["parameters","enhancePrompt"],X),l}function Vx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["prompt"]);s!=null&&d(l,["instances[0]","prompt"],s);const c=f(t,["config"]);return c!=null&&Ox(c,l),l}function qx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["prompt"]);s!=null&&d(l,["instances[0]","prompt"],s);const c=f(t,["config"]);return c!=null&&Gx(c,l),l}function Bx(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>t1(p))),d(i,["generatedImages"],c)}const s=f(e,["positivePromptSafetyAttributes"]);return s!=null&&d(i,["positivePromptSafetyAttributes"],w0(s)),i}function Fx(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>Fa(p))),d(i,["generatedImages"],c)}const s=f(e,["positivePromptSafetyAttributes"]);return s!=null&&d(i,["positivePromptSafetyAttributes"],R0(s)),i}function Yx(e,t,i){const l={},a=f(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&d(t,["parameters","sampleCount"],a),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=f(e,["durationSeconds"]);if(t!==void 0&&s!=null&&d(t,["parameters","durationSeconds"],s),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(e,["aspectRatio"]);t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c);const p=f(e,["resolution"]);t!==void 0&&p!=null&&d(t,["parameters","resolution"],p);const g=f(e,["personGeneration"]);if(t!==void 0&&g!=null&&d(t,["parameters","personGeneration"],g),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(e,["negativePrompt"]);t!==void 0&&h!=null&&d(t,["parameters","negativePrompt"],h);const y=f(e,["enhancePrompt"]);if(t!==void 0&&y!=null&&d(t,["parameters","enhancePrompt"],y),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=f(e,["lastFrame"]);t!==void 0&&S!=null&&d(t,["instances[0]","lastFrame"],Ya(S));const T=f(e,["referenceImages"]);if(t!==void 0&&T!=null){let _=T;Array.isArray(_)&&(_=_.map(b=>K1(b))),d(t,["instances[0]","referenceImages"],_)}if(f(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function Jx(e,t,i){const l={},a=f(e,["numberOfVideos"]);t!==void 0&&a!=null&&d(t,["parameters","sampleCount"],a);const s=f(e,["outputGcsUri"]);t!==void 0&&s!=null&&d(t,["parameters","storageUri"],s);const c=f(e,["fps"]);t!==void 0&&c!=null&&d(t,["parameters","fps"],c);const p=f(e,["durationSeconds"]);t!==void 0&&p!=null&&d(t,["parameters","durationSeconds"],p);const g=f(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const h=f(e,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const y=f(e,["resolution"]);t!==void 0&&y!=null&&d(t,["parameters","resolution"],y);const S=f(e,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const T=f(e,["pubsubTopic"]);t!==void 0&&T!=null&&d(t,["parameters","pubsubTopic"],T);const _=f(e,["negativePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","negativePrompt"],_);const b=f(e,["enhancePrompt"]);t!==void 0&&b!=null&&d(t,["parameters","enhancePrompt"],b);const I=f(e,["generateAudio"]);t!==void 0&&I!=null&&d(t,["parameters","generateAudio"],I);const N=f(e,["lastFrame"]);t!==void 0&&N!=null&&d(t,["instances[0]","lastFrame"],gn(N));const D=f(e,["referenceImages"]);if(t!==void 0&&D!=null){let X=D;Array.isArray(X)&&(X=X.map(j=>X1(j))),d(t,["instances[0]","referenceImages"],X)}const B=f(e,["mask"]);t!==void 0&&B!=null&&d(t,["instances[0]","mask"],J1(B));const P=f(e,["compressionQuality"]);return t!==void 0&&P!=null&&d(t,["parameters","compressionQuality"],P),l}function Kx(e,t){const i={},l=f(e,["name"]);l!=null&&d(i,["name"],l);const a=f(e,["metadata"]);a!=null&&d(i,["metadata"],a);const s=f(e,["done"]);s!=null&&d(i,["done"],s);const c=f(e,["error"]);c!=null&&d(i,["error"],c);const p=f(e,["response","generateVideoResponse"]);return p!=null&&d(i,["response"],$x(p)),i}function Xx(e,t){const i={},l=f(e,["name"]);l!=null&&d(i,["name"],l);const a=f(e,["metadata"]);a!=null&&d(i,["metadata"],a);const s=f(e,["done"]);s!=null&&d(i,["done"],s);const c=f(e,["error"]);c!=null&&d(i,["error"],c);const p=f(e,["response"]);return p!=null&&d(i,["response"],Wx(p)),i}function Qx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["prompt"]);s!=null&&d(l,["instances[0]","prompt"],s);const c=f(t,["image"]);c!=null&&d(l,["instances[0]","image"],Ya(c));const p=f(t,["video"]);p!=null&&d(l,["instances[0]","video"],N0(p));const g=f(t,["source"]);g!=null&&jx(g,l);const h=f(t,["config"]);return h!=null&&Yx(h,l),l}function Zx(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["prompt"]);s!=null&&d(l,["instances[0]","prompt"],s);const c=f(t,["image"]);c!=null&&d(l,["instances[0]","image"],gn(c));const p=f(t,["video"]);p!=null&&d(l,["instances[0]","video"],I0(p));const g=f(t,["source"]);g!=null&&e1(g,l);const h=f(t,["config"]);return h!=null&&Jx(h,l),l}function $x(e,t){const i={},l=f(e,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>i1(p))),d(i,["generatedVideos"],c)}const a=f(e,["raiMediaFilteredCount"]);a!=null&&d(i,["raiMediaFilteredCount"],a);const s=f(e,["raiMediaFilteredReasons"]);return s!=null&&d(i,["raiMediaFilteredReasons"],s),i}function Wx(e,t){const i={},l=f(e,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>o1(p))),d(i,["generatedVideos"],c)}const a=f(e,["raiMediaFilteredCount"]);a!=null&&d(i,["raiMediaFilteredCount"],a);const s=f(e,["raiMediaFilteredReasons"]);return s!=null&&d(i,["raiMediaFilteredReasons"],s),i}function jx(e,t,i){const l={},a=f(e,["prompt"]);t!==void 0&&a!=null&&d(t,["instances[0]","prompt"],a);const s=f(e,["image"]);t!==void 0&&s!=null&&d(t,["instances[0]","image"],Ya(s));const c=f(e,["video"]);return t!==void 0&&c!=null&&d(t,["instances[0]","video"],N0(c)),l}function e1(e,t,i){const l={},a=f(e,["prompt"]);t!==void 0&&a!=null&&d(t,["instances[0]","prompt"],a);const s=f(e,["image"]);t!==void 0&&s!=null&&d(t,["instances[0]","image"],gn(s));const c=f(e,["video"]);return t!==void 0&&c!=null&&d(t,["instances[0]","video"],I0(c)),l}function t1(e,t){const i={},l=f(e,["_self"]);l!=null&&d(i,["image"],d1(l));const a=f(e,["raiFilteredReason"]);a!=null&&d(i,["raiFilteredReason"],a);const s=f(e,["_self"]);return s!=null&&d(i,["safetyAttributes"],w0(s)),i}function Fa(e,t){const i={},l=f(e,["_self"]);l!=null&&d(i,["image"],b0(l));const a=f(e,["raiFilteredReason"]);a!=null&&d(i,["raiFilteredReason"],a);const s=f(e,["_self"]);s!=null&&d(i,["safetyAttributes"],R0(s));const c=f(e,["prompt"]);return c!=null&&d(i,["enhancedPrompt"],c),i}function n1(e,t){const i={},l=f(e,["_self"]);l!=null&&d(i,["mask"],b0(l));const a=f(e,["labels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(i,["labels"],s)}return i}function i1(e,t){const i={},l=f(e,["video"]);return l!=null&&d(i,["video"],F1(l)),i}function o1(e,t){const i={},l=f(e,["_self"]);return l!=null&&d(i,["video"],Y1(l)),i}function l1(e,t){const i={},l=f(e,["modelSelectionConfig"]);l!=null&&d(i,["modelConfig"],l);const a=f(e,["responseJsonSchema"]);a!=null&&d(i,["responseJsonSchema"],a);const s=f(e,["audioTimestamp"]);s!=null&&d(i,["audioTimestamp"],s);const c=f(e,["candidateCount"]);c!=null&&d(i,["candidateCount"],c);const p=f(e,["enableAffectiveDialog"]);p!=null&&d(i,["enableAffectiveDialog"],p);const g=f(e,["frequencyPenalty"]);g!=null&&d(i,["frequencyPenalty"],g);const h=f(e,["logprobs"]);h!=null&&d(i,["logprobs"],h);const y=f(e,["maxOutputTokens"]);y!=null&&d(i,["maxOutputTokens"],y);const S=f(e,["mediaResolution"]);S!=null&&d(i,["mediaResolution"],S);const T=f(e,["presencePenalty"]);T!=null&&d(i,["presencePenalty"],T);const _=f(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const b=f(e,["responseMimeType"]);b!=null&&d(i,["responseMimeType"],b);const I=f(e,["responseModalities"]);I!=null&&d(i,["responseModalities"],I);const N=f(e,["responseSchema"]);N!=null&&d(i,["responseSchema"],N);const D=f(e,["routingConfig"]);D!=null&&d(i,["routingConfig"],D);const B=f(e,["seed"]);B!=null&&d(i,["seed"],B);const P=f(e,["speechConfig"]);P!=null&&d(i,["speechConfig"],P);const X=f(e,["stopSequences"]);X!=null&&d(i,["stopSequences"],X);const j=f(e,["temperature"]);j!=null&&d(i,["temperature"],j);const M=f(e,["thinkingConfig"]);M!=null&&d(i,["thinkingConfig"],M);const Y=f(e,["topK"]);Y!=null&&d(i,["topK"],Y);const ue=f(e,["topP"]);if(ue!=null&&d(i,["topP"],ue),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function r1(e,t,i){const l={},a=f(t,["model"]);return a!=null&&d(l,["_url","name"],Pe(e,a)),l}function a1(e,t,i){const l={},a=f(t,["model"]);return a!=null&&d(l,["_url","name"],Pe(e,a)),l}function s1(e,t){const i={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=f(e,["enableWidget"]);return l!=null&&d(i,["enableWidget"],l),i}function u1(e,t){const i={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=f(e,["timeRangeFilter"]);return l!=null&&d(i,["timeRangeFilter"],l),i}function c1(e,t){const i={},l=f(e,["aspectRatio"]);l!=null&&d(i,["aspectRatio"],l);const a=f(e,["imageSize"]);if(a!=null&&d(i,["imageSize"],a),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function f1(e,t){const i={},l=f(e,["aspectRatio"]);l!=null&&d(i,["aspectRatio"],l);const a=f(e,["imageSize"]);a!=null&&d(i,["imageSize"],a);const s=f(e,["personGeneration"]);s!=null&&d(i,["personGeneration"],s);const c=f(e,["outputMimeType"]);c!=null&&d(i,["imageOutputOptions","mimeType"],c);const p=f(e,["outputCompressionQuality"]);return p!=null&&d(i,["imageOutputOptions","compressionQuality"],p),i}function d1(e,t){const i={},l=f(e,["bytesBase64Encoded"]);l!=null&&d(i,["imageBytes"],_i(l));const a=f(e,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function b0(e,t){const i={},l=f(e,["gcsUri"]);l!=null&&d(i,["gcsUri"],l);const a=f(e,["bytesBase64Encoded"]);a!=null&&d(i,["imageBytes"],_i(a));const s=f(e,["mimeType"]);return s!=null&&d(i,["mimeType"],s),i}function Ya(e,t){const i={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=f(e,["imageBytes"]);l!=null&&d(i,["bytesBase64Encoded"],_i(l));const a=f(e,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function gn(e,t){const i={},l=f(e,["gcsUri"]);l!=null&&d(i,["gcsUri"],l);const a=f(e,["imageBytes"]);a!=null&&d(i,["bytesBase64Encoded"],_i(a));const s=f(e,["mimeType"]);return s!=null&&d(i,["mimeType"],s),i}function p1(e,t,i,l){const a={},s=f(t,["pageSize"]);i!==void 0&&s!=null&&d(i,["_query","pageSize"],s);const c=f(t,["pageToken"]);i!==void 0&&c!=null&&d(i,["_query","pageToken"],c);const p=f(t,["filter"]);i!==void 0&&p!=null&&d(i,["_query","filter"],p);const g=f(t,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],S0(e,g)),a}function h1(e,t,i,l){const a={},s=f(t,["pageSize"]);i!==void 0&&s!=null&&d(i,["_query","pageSize"],s);const c=f(t,["pageToken"]);i!==void 0&&c!=null&&d(i,["_query","pageToken"],c);const p=f(t,["filter"]);i!==void 0&&p!=null&&d(i,["_query","filter"],p);const g=f(t,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],S0(e,g)),a}function m1(e,t,i){const l={},a=f(t,["config"]);return a!=null&&p1(e,a,l),l}function g1(e,t,i){const l={},a=f(t,["config"]);return a!=null&&h1(e,a,l),l}function y1(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const s=f(e,["_self"]);if(s!=null){let c=T0(s);Array.isArray(c)&&(c=c.map(p=>Bc(p))),d(i,["models"],c)}return i}function v1(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const s=f(e,["_self"]);if(s!=null){let c=T0(s);Array.isArray(c)&&(c=c.map(p=>Fc(p))),d(i,["models"],c)}return i}function S1(e,t){const i={},l=f(e,["maskMode"]);l!=null&&d(i,["maskMode"],l);const a=f(e,["segmentationClasses"]);a!=null&&d(i,["maskClasses"],a);const s=f(e,["maskDilation"]);return s!=null&&d(i,["dilation"],s),i}function Bc(e,t){const i={},l=f(e,["name"]);l!=null&&d(i,["name"],l);const a=f(e,["displayName"]);a!=null&&d(i,["displayName"],a);const s=f(e,["description"]);s!=null&&d(i,["description"],s);const c=f(e,["version"]);c!=null&&d(i,["version"],c);const p=f(e,["_self"]);p!=null&&d(i,["tunedModelInfo"],L1(p));const g=f(e,["inputTokenLimit"]);g!=null&&d(i,["inputTokenLimit"],g);const h=f(e,["outputTokenLimit"]);h!=null&&d(i,["outputTokenLimit"],h);const y=f(e,["supportedGenerationMethods"]);y!=null&&d(i,["supportedActions"],y);const S=f(e,["temperature"]);S!=null&&d(i,["temperature"],S);const T=f(e,["maxTemperature"]);T!=null&&d(i,["maxTemperature"],T);const _=f(e,["topP"]);_!=null&&d(i,["topP"],_);const b=f(e,["topK"]);b!=null&&d(i,["topK"],b);const I=f(e,["thinking"]);return I!=null&&d(i,["thinking"],I),i}function Fc(e,t){const i={},l=f(e,["name"]);l!=null&&d(i,["name"],l);const a=f(e,["displayName"]);a!=null&&d(i,["displayName"],a);const s=f(e,["description"]);s!=null&&d(i,["description"],s);const c=f(e,["versionId"]);c!=null&&d(i,["version"],c);const p=f(e,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(_=>Dx(_))),d(i,["endpoints"],T)}const g=f(e,["labels"]);g!=null&&d(i,["labels"],g);const h=f(e,["_self"]);h!=null&&d(i,["tunedModelInfo"],z1(h));const y=f(e,["defaultCheckpointId"]);y!=null&&d(i,["defaultCheckpointId"],y);const S=f(e,["checkpoints"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(_=>_)),d(i,["checkpoints"],T)}return i}function T1(e,t){const i={},l=f(e,["mediaResolution"]);l!=null&&d(i,["mediaResolution"],l);const a=f(e,["codeExecutionResult"]);a!=null&&d(i,["codeExecutionResult"],a);const s=f(e,["executableCode"]);s!=null&&d(i,["executableCode"],s);const c=f(e,["fileData"]);c!=null&&d(i,["fileData"],kx(c));const p=f(e,["functionCall"]);p!=null&&d(i,["functionCall"],Ux(p));const g=f(e,["functionResponse"]);g!=null&&d(i,["functionResponse"],g);const h=f(e,["inlineData"]);h!=null&&d(i,["inlineData"],lx(h));const y=f(e,["text"]);y!=null&&d(i,["text"],y);const S=f(e,["thought"]);S!=null&&d(i,["thought"],S);const T=f(e,["thoughtSignature"]);T!=null&&d(i,["thoughtSignature"],T);const _=f(e,["videoMetadata"]);return _!=null&&d(i,["videoMetadata"],_),i}function E1(e,t){const i={},l=f(e,["productImage"]);return l!=null&&d(i,["image"],gn(l)),i}function _1(e,t,i){const l={},a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&d(t,["parameters","sampleCount"],a);const s=f(e,["baseSteps"]);t!==void 0&&s!=null&&d(t,["parameters","baseSteps"],s);const c=f(e,["outputGcsUri"]);t!==void 0&&c!=null&&d(t,["parameters","storageUri"],c);const p=f(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const g=f(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&d(t,["parameters","personGeneration"],h);const y=f(e,["addWatermark"]);t!==void 0&&y!=null&&d(t,["parameters","addWatermark"],y);const S=f(e,["outputMimeType"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","mimeType"],S);const T=f(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&d(t,["parameters","outputOptions","compressionQuality"],T);const _=f(e,["enhancePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","enhancePrompt"],_);const b=f(e,["labels"]);return t!==void 0&&b!=null&&d(t,["labels"],b),l}function C1(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["source"]);s!=null&&x1(s,l);const c=f(t,["config"]);return c!=null&&_1(c,l),l}function A1(e,t){const i={},l=f(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>Fa(s))),d(i,["generatedImages"],a)}return i}function x1(e,t,i){const l={},a=f(e,["prompt"]);t!==void 0&&a!=null&&d(t,["instances[0]","prompt"],a);const s=f(e,["personImage"]);t!==void 0&&s!=null&&d(t,["instances[0]","personImage","image"],gn(s));const c=f(e,["productImages"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>E1(g))),d(t,["instances[0]","productImages"],p)}return l}function b1(e,t){const i={},l=f(e,["referenceImage"]);l!=null&&d(i,["referenceImage"],gn(l));const a=f(e,["referenceId"]);a!=null&&d(i,["referenceId"],a);const s=f(e,["referenceType"]);s!=null&&d(i,["referenceType"],s);const c=f(e,["maskImageConfig"]);c!=null&&d(i,["maskImageConfig"],S1(c));const p=f(e,["controlImageConfig"]);p!=null&&d(i,["controlImageConfig"],dx(p));const g=f(e,["styleImageConfig"]);g!=null&&d(i,["styleImageConfig"],g);const h=f(e,["subjectImageConfig"]);return h!=null&&d(i,["subjectImageConfig"],h),i}function w0(e,t){const i={},l=f(e,["safetyAttributes","categories"]);l!=null&&d(i,["categories"],l);const a=f(e,["safetyAttributes","scores"]);a!=null&&d(i,["scores"],a);const s=f(e,["contentType"]);return s!=null&&d(i,["contentType"],s),i}function R0(e,t){const i={},l=f(e,["safetyAttributes","categories"]);l!=null&&d(i,["categories"],l);const a=f(e,["safetyAttributes","scores"]);a!=null&&d(i,["scores"],a);const s=f(e,["contentType"]);return s!=null&&d(i,["contentType"],s),i}function w1(e,t){const i={},l=f(e,["category"]);if(l!=null&&d(i,["category"],l),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=f(e,["threshold"]);return a!=null&&d(i,["threshold"],a),i}function R1(e,t){const i={},l=f(e,["image"]);return l!=null&&d(i,["image"],gn(l)),i}function M1(e,t,i){const l={},a=f(e,["mode"]);t!==void 0&&a!=null&&d(t,["parameters","mode"],a);const s=f(e,["maxPredictions"]);t!==void 0&&s!=null&&d(t,["parameters","maxPredictions"],s);const c=f(e,["confidenceThreshold"]);t!==void 0&&c!=null&&d(t,["parameters","confidenceThreshold"],c);const p=f(e,["maskDilation"]);t!==void 0&&p!=null&&d(t,["parameters","maskDilation"],p);const g=f(e,["binaryColorThreshold"]);t!==void 0&&g!=null&&d(t,["parameters","binaryColorThreshold"],g);const h=f(e,["labels"]);return t!==void 0&&h!=null&&d(t,["labels"],h),l}function N1(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["source"]);s!=null&&D1(s,l);const c=f(t,["config"]);return c!=null&&M1(c,l),l}function I1(e,t){const i={},l=f(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>n1(s))),d(i,["generatedMasks"],a)}return i}function D1(e,t,i){const l={},a=f(e,["prompt"]);t!==void 0&&a!=null&&d(t,["instances[0]","prompt"],a);const s=f(e,["image"]);t!==void 0&&s!=null&&d(t,["instances[0]","image"],gn(s));const c=f(e,["scribbleImage"]);return t!==void 0&&c!=null&&d(t,["instances[0]","scribble"],R1(c)),l}function k1(e,t){const i={},l=f(e,["retrievalConfig"]);l!=null&&d(i,["retrievalConfig"],l);const a=f(e,["functionCallingConfig"]);return a!=null&&d(i,["functionCallingConfig"],Lx(a)),i}function U1(e,t){const i={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=f(e,["computerUse"]);l!=null&&d(i,["computerUse"],l);const a=f(e,["fileSearch"]);a!=null&&d(i,["fileSearch"],a);const s=f(e,["codeExecution"]);if(s!=null&&d(i,["codeExecution"],s),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=f(e,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(T=>T)),d(i,["functionDeclarations"],S)}const p=f(e,["googleMaps"]);p!=null&&d(i,["googleMaps"],s1(p));const g=f(e,["googleSearch"]);g!=null&&d(i,["googleSearch"],u1(g));const h=f(e,["googleSearchRetrieval"]);h!=null&&d(i,["googleSearchRetrieval"],h);const y=f(e,["urlContext"]);return y!=null&&d(i,["urlContext"],y),i}function M0(e,t){const i={},l=f(e,["retrieval"]);l!=null&&d(i,["retrieval"],l);const a=f(e,["computerUse"]);if(a!=null&&d(i,["computerUse"],a),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=f(e,["codeExecution"]);s!=null&&d(i,["codeExecution"],s);const c=f(e,["enterpriseWebSearch"]);c!=null&&d(i,["enterpriseWebSearch"],c);const p=f(e,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(_=>zx(_))),d(i,["functionDeclarations"],T)}const g=f(e,["googleMaps"]);g!=null&&d(i,["googleMaps"],g);const h=f(e,["googleSearch"]);h!=null&&d(i,["googleSearch"],h);const y=f(e,["googleSearchRetrieval"]);y!=null&&d(i,["googleSearchRetrieval"],y);const S=f(e,["urlContext"]);return S!=null&&d(i,["urlContext"],S),i}function L1(e,t){const i={},l=f(e,["baseModel"]);l!=null&&d(i,["baseModel"],l);const a=f(e,["createTime"]);a!=null&&d(i,["createTime"],a);const s=f(e,["updateTime"]);return s!=null&&d(i,["updateTime"],s),i}function z1(e,t){const i={},l=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&d(i,["baseModel"],l);const a=f(e,["createTime"]);a!=null&&d(i,["createTime"],a);const s=f(e,["updateTime"]);return s!=null&&d(i,["updateTime"],s),i}function P1(e,t,i){const l={},a=f(e,["displayName"]);t!==void 0&&a!=null&&d(t,["displayName"],a);const s=f(e,["description"]);t!==void 0&&s!=null&&d(t,["description"],s);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),l}function H1(e,t,i){const l={},a=f(e,["displayName"]);t!==void 0&&a!=null&&d(t,["displayName"],a);const s=f(e,["description"]);t!==void 0&&s!=null&&d(t,["description"],s);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),l}function O1(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","name"],Pe(e,a));const s=f(t,["config"]);return s!=null&&P1(s,l),l}function G1(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["config"]);return s!=null&&H1(s,l),l}function V1(e,t,i){const l={},a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&d(t,["parameters","storageUri"],a);const s=f(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&d(t,["parameters","safetySetting"],s);const c=f(e,["personGeneration"]);t!==void 0&&c!=null&&d(t,["parameters","personGeneration"],c);const p=f(e,["includeRaiReason"]);t!==void 0&&p!=null&&d(t,["parameters","includeRaiReason"],p);const g=f(e,["outputMimeType"]);t!==void 0&&g!=null&&d(t,["parameters","outputOptions","mimeType"],g);const h=f(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&d(t,["parameters","outputOptions","compressionQuality"],h);const y=f(e,["enhanceInputImage"]);t!==void 0&&y!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],y);const S=f(e,["imagePreservationFactor"]);t!==void 0&&S!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const T=f(e,["labels"]);t!==void 0&&T!=null&&d(t,["labels"],T);const _=f(e,["numberOfImages"]);t!==void 0&&_!=null&&d(t,["parameters","sampleCount"],_);const b=f(e,["mode"]);return t!==void 0&&b!=null&&d(t,["parameters","mode"],b),l}function q1(e,t,i){const l={},a=f(t,["model"]);a!=null&&d(l,["_url","model"],Pe(e,a));const s=f(t,["image"]);s!=null&&d(l,["instances[0]","image"],gn(s));const c=f(t,["upscaleFactor"]);c!=null&&d(l,["parameters","upscaleConfig","upscaleFactor"],c);const p=f(t,["config"]);return p!=null&&V1(p,l),l}function B1(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>Fa(c))),d(i,["generatedImages"],s)}return i}function F1(e,t){const i={},l=f(e,["uri"]);l!=null&&d(i,["uri"],l);const a=f(e,["encodedVideo"]);a!=null&&d(i,["videoBytes"],_i(a));const s=f(e,["encoding"]);return s!=null&&d(i,["mimeType"],s),i}function Y1(e,t){const i={},l=f(e,["gcsUri"]);l!=null&&d(i,["uri"],l);const a=f(e,["bytesBase64Encoded"]);a!=null&&d(i,["videoBytes"],_i(a));const s=f(e,["mimeType"]);return s!=null&&d(i,["mimeType"],s),i}function J1(e,t){const i={},l=f(e,["image"]);l!=null&&d(i,["_self"],gn(l));const a=f(e,["maskMode"]);return a!=null&&d(i,["maskMode"],a),i}function K1(e,t){const i={},l=f(e,["image"]);l!=null&&d(i,["image"],Ya(l));const a=f(e,["referenceType"]);return a!=null&&d(i,["referenceType"],a),i}function X1(e,t){const i={},l=f(e,["image"]);l!=null&&d(i,["image"],gn(l));const a=f(e,["referenceType"]);return a!=null&&d(i,["referenceType"],a),i}function N0(e,t){const i={},l=f(e,["uri"]);l!=null&&d(i,["uri"],l);const a=f(e,["videoBytes"]);a!=null&&d(i,["encodedVideo"],_i(a));const s=f(e,["mimeType"]);return s!=null&&d(i,["encoding"],s),i}function I0(e,t){const i={},l=f(e,["uri"]);l!=null&&d(i,["gcsUri"],l);const a=f(e,["videoBytes"]);a!=null&&d(i,["bytesBase64Encoded"],_i(a));const s=f(e,["mimeType"]);return s!=null&&d(i,["mimeType"],s),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q1(e,t){const i={},l=f(e,["displayName"]);return t!==void 0&&l!=null&&d(t,["displayName"],l),i}function Z1(e){const t={},i=f(e,["config"]);return i!=null&&Q1(i,t),t}function $1(e,t){const i={},l=f(e,["force"]);return t!==void 0&&l!=null&&d(t,["_query","force"],l),i}function W1(e){const t={},i=f(e,["name"]);i!=null&&d(t,["_url","name"],i);const l=f(e,["config"]);return l!=null&&$1(l,t),t}function j1(e){const t={},i=f(e,["name"]);return i!=null&&d(t,["_url","name"],i),t}function eb(e,t){const i={},l=f(e,["customMetadata"]);if(t!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),d(t,["customMetadata"],s)}const a=f(e,["chunkingConfig"]);return t!==void 0&&a!=null&&d(t,["chunkingConfig"],a),i}function tb(e){const t={},i=f(e,["name"]);i!=null&&d(t,["name"],i);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const s=f(e,["error"]);s!=null&&d(t,["error"],s);const c=f(e,["response"]);return c!=null&&d(t,["response"],ib(c)),t}function nb(e){const t={},i=f(e,["fileSearchStoreName"]);i!=null&&d(t,["_url","file_search_store_name"],i);const l=f(e,["fileName"]);l!=null&&d(t,["fileName"],l);const a=f(e,["config"]);return a!=null&&eb(a,t),t}function ib(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["parent"]);l!=null&&d(t,["parent"],l);const a=f(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function ob(e,t){const i={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),i}function lb(e){const t={},i=f(e,["config"]);return i!=null&&ob(i,t),t}function rb(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["fileSearchStores"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(t,["fileSearchStores"],s)}return t}function D0(e,t){const i={},l=f(e,["mimeType"]);t!==void 0&&l!=null&&d(t,["mimeType"],l);const a=f(e,["displayName"]);t!==void 0&&a!=null&&d(t,["displayName"],a);const s=f(e,["customMetadata"]);if(t!==void 0&&s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>g)),d(t,["customMetadata"],p)}const c=f(e,["chunkingConfig"]);return t!==void 0&&c!=null&&d(t,["chunkingConfig"],c),i}function ab(e){const t={},i=f(e,["fileSearchStoreName"]);i!=null&&d(t,["_url","file_search_store_name"],i);const l=f(e,["config"]);return l!=null&&D0(l,t),t}function sb(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&d(t,["sdkHttpResponse"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ub="Content-Type",cb="X-Server-Timeout",fb="User-Agent",Yc="x-goog-api-client",db="1.41.0",pb=`google-genai-sdk/${db}`,hb="v1beta1",mb="v1beta",gb=5,yb=[408,429,500,502,503,504];class vb{constructor(t){var i,l,a;this.clientOptions=Object.assign({},t),this.customBaseUrl=(i=t.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const p=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!p?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:hb}else{if(!this.clientOptions.apiKey)throw new er({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:mb,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),i=new URL(t);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,i,l){const a=[this.getRequestUrlInternal(i)];return l&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t,i){return!(i.baseUrl&&i.baseUrlResourceScope===Oc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t,i),a=this.constructUrl(t.path,i,l);if(t.queryParams)for(const[c,p]of Object.entries(t.queryParams))a.searchParams.append(c,String(p));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,i,a.toString(),t.abortSignal),this.unaryApiCall(a,s,t.httpMethod)}patchHttpOptions(t,i){const l=JSON.parse(JSON.stringify(t));for(const[a,s]of Object.entries(i))typeof s=="object"?l[a]=Object.assign(Object.assign({},l[a]),s):s!==void 0&&(l[a]=s);return l}async requestStream(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t,i),a=this.constructUrl(t.path,i,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,i,a.toString(),t.abortSignal),this.streamApiCall(a,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,i,l,a){if(i&&i.timeout||a){const s=new AbortController,c=s.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>s.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{s.abort()}),t.signal=c}return i&&i.extraBody!==null&&Sb(t,i.extraBody),t.headers=await this.getHeadersInternal(i,l),t}async unaryApiCall(t,i,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await fy(a),new Gc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,i,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await fy(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return hn(this,arguments,function*(){var l;const a=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),s=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const p="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield Te(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=s.decode(y,{stream:!0});try{const b=JSON.parse(S);if("error"in b){const I=JSON.parse(JSON.stringify(b.error)),N=I.status,D=I.code,B=`got status: ${N}. ${JSON.stringify(b)}`;if(D>=400&&D<600)throw new er({message:B,status:D})}}catch(b){if(b.name==="ApiError")throw b}c+=S;let T=-1,_=0;for(;;){T=-1,_=0;for(const N of g){const D=c.indexOf(N);D!==-1&&(T===-1||D<T)&&(T=D,_=N.length)}if(T===-1)break;const b=c.substring(0,T);c=c.substring(T+_);const I=b.trim();if(I.startsWith(p)){const N=I.substring(p.length).trim();try{const D=new Response(N,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Te(new Gc(D))}catch(D){throw new Error(`exception parsing stream chunk ${N}. ${D}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,i){var l;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,i);const a=this.clientOptions.httpOptions.retryOptions;return s_(async()=>{const c=await fetch(t,i);if(c.ok)return c;throw yb.includes(c.status)?new Error(`Retryable HTTP Error: ${c.statusText}`):new c0(`Non-retryable exception ${c.statusText} sending request`)},{retries:((l=a.attempts)!==null&&l!==void 0?l:gb)-1})}getDefaultHeaders(){const t={},i=pb+" "+this.clientOptions.userAgentExtra;return t[fb]=i,t[Yc]=i,t[ub]="application/json",t}async getHeadersInternal(t,i){const l=new Headers;if(t&&t.headers){for(const[a,s]of Object.entries(t.headers))l.append(a,s);t.timeout&&t.timeout>0&&l.append(cb,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,i),l}getFileName(t){var i;let l="";return typeof t=="string"&&(l=t.replace(/[/\\]+$/,""),l=(i=l.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),l}async uploadFile(t,i){var l;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const s=this.clientOptions.uploader,c=await s.stat(t);a.sizeBytes=String(c.size);const p=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const g={file:a},h=this.getFileName(t),y=se("upload/v1beta/files",g._url),S=await this.fetchUploadUrl(y,a.sizeBytes,a.mimeType,h,g,i==null?void 0:i.httpOptions);return s.upload(t,S,this)}async uploadFileToFileSearchStore(t,i,l){var a;const s=this.clientOptions.uploader,c=await s.stat(i),p=String(c.size),g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(i),S={};l!=null&&D0(l,S);const T=await this.fetchUploadUrl(h,p,g,y,S,l==null?void 0:l.httpOptions);return s.uploadToFileSearchStore(i,T,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,i,l,a,s,c){var p;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:g});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(p=h==null?void 0:h.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function fy(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const i=e.status;let l;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?l=await e.json():l={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(l);throw i>=400&&i<600?new er({message:a,status:i}):new Error(a)}}function Sb(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))i=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(s,c){const p=Object.assign({},s);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const h=c[g],y=p[g];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?p[g]=l(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),p[g]=h)}return p}const a=l(i,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tb="mcp_used/unknown";let Eb=!1;function k0(e){for(const t of e)if(_b(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Eb}function U0(e){var t;const i=(t=e[Yc])!==null&&t!==void 0?t:"";e[Yc]=(i+` ${Tb}`).trimStart()}function _b(e){return e!==null&&typeof e=="object"&&e instanceof yf}function Cb(e){return hn(this,arguments,function*(i,l=100){let a,s=0;for(;s<l;){const c=yield Te(i.listTools({cursor:a}));for(const p of c.tools)yield yield Te(p),s++;if(!c.nextCursor)break;a=c.nextCursor}})}class yf{constructor(t=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=i}static create(t,i){return new yf(t,i)}async initialize(){var t,i,l,a;if(this.mcpTools.length>0)return;const s={},c=[];for(const y of this.mcpClients)try{for(var p=!0,g=(i=void 0,mn(Cb(y))),h;h=await g.next(),t=h.done,!t;p=!0){a=h.value,p=!1;const S=a;c.push(S);const T=S.name;if(s[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);s[T]=y}}catch(S){i={error:S}}finally{try{!p&&!t&&(l=g.return)&&await l.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Z_(this.mcpTools,this.config)}async callTool(t){await this.initialize();const i=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const c=await a.callTool({name:l.name,arguments:l.args},void 0,s);i.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ab(e,t,i){const l=new q_;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(l,a),t(l)}class xb{constructor(t,i,l){this.apiClient=t,this.auth=i,this.webSocketFactory=l}async connect(t){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),c=Rb(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${p}`;let h=()=>{};const y=new Promise(P=>{h=P}),S=t.callbacks,T=function(){h({})},_=this.apiClient,b={onopen:T,onmessage:P=>{Ab(_,S.onmessage,P)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(P){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(P){}},I=this.webSocketFactory.create(g,wb(c),b);I.connect(),await y;const B={setup:{model:Pe(this.apiClient,t.model)}};return I.send(JSON.stringify(B)),new bb(I,this.apiClient)}}class bb{constructor(t,i){this.conn=t,this.apiClient=i}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=QA(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const i=XA(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const i={playbackControl:t};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Po.PLAY)}pause(){this.sendPlaybackControl(Po.PAUSE)}stop(){this.sendPlaybackControl(Po.STOP)}resetContext(){this.sendPlaybackControl(Po.RESET_CONTEXT)}close(){this.conn.close()}}function wb(e){const t={};return e.forEach((i,l)=>{t[l]=i}),t}function Rb(e){const t=new Headers;for(const[i,l]of Object.entries(e))t.append(i,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Nb(e,t,i){const l=new V_;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const s=JSON.parse(a);if(e.isVertexAI()){const c=WA(s);Object.assign(l,c)}else Object.assign(l,s);t(l)}class Ib{constructor(t,i,l){this.apiClient=t,this.auth=i,this.webSocketFactory=l,this.music=new xb(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var i,l,a,s,c,p;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&k0(t.config.tools)&&U0(S);const T=Lb(S);if(this.apiClient.isVertexAI()){const $=this.apiClient.getProject(),ae=this.apiClient.getLocation(),ee=this.apiClient.getApiKey(),ie=!!$&&!!ae||!!ee;this.apiClient.getCustomBaseUrl()&&!ie?y=g:(y=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,y))}else{const $=this.apiClient.getApiKey();let ae="BidiGenerateContent",ee="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",ee="access_token"),y=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ae}?${ee}=${$}`}let _=()=>{};const b=new Promise($=>{_=$}),I=t.callbacks,N=function(){var $;($=I==null?void 0:I.onopen)===null||$===void 0||$.call(I),_({})},D=this.apiClient,B={onopen:N,onmessage:$=>{Nb(D,I.onmessage,$)},onerror:(i=I==null?void 0:I.onerror)!==null&&i!==void 0?i:function($){},onclose:(l=I==null?void 0:I.onclose)!==null&&l!==void 0?l:function($){}},P=this.webSocketFactory.create(y,Ub(T),B);P.connect(),await b;let X=Pe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const $=this.apiClient.getProject(),ae=this.apiClient.getLocation();$&&ae&&(X=`projects/${$}/locations/${ae}/`+X)}let j={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[jl.AUDIO]}:t.config.responseModalities=[jl.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(p=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[],Y=[];for(const $ of M)if(this.isCallableTool($)){const ae=$;Y.push(await ae.tool())}else Y.push($);Y.length>0&&(t.config.tools=Y);const ue={model:X,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=KA(this.apiClient,ue):j=JA(this.apiClient,ue),delete j.config,P.send(JSON.stringify(j)),new kb(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Db={turnComplete:!0};class kb{constructor(t,i){this.conn=t,this.apiClient=i}tLiveClientContent(t,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=sn(i.turns),t.isVertexAI()||(l=l.map(a=>Ba(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(t,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const s of l){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(Mb)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},Db),t);const i=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendRealtimeInput(t){let i={};this.apiClient.isVertexAI()?i={realtimeInput:$A(t)}:i={realtimeInput:ZA(t)},this.conn.send(JSON.stringify(i))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Ub(e){const t={};return e.forEach((i,l)=>{t[l]=i}),t}function Lb(e){const t=new Headers;for(const[i,l]of Object.entries(e))t.append(i,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dy=10;function py(e){var t,i,l;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const c of(i=e==null?void 0:e.tools)!==null&&i!==void 0?i:[])if(Go(c)){a=!0;break}if(!a)return!0;const s=(l=e==null?void 0:e.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Go(e){return"callTool"in e&&typeof e.callTool=="function"}function zb(e){var t,i,l;return(l=(i=(t=e.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(a=>Go(a)))!==null&&l!==void 0?l:!1}function hy(e){var t;const i=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((l,a)=>{if(Go(l))return;const s=l;s.functionDeclarations&&s.functionDeclarations.length>0&&i.push(a)}),i}function my(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pb extends Jn{constructor(t){super(),this.apiClient=t,this.generateContent=async i=>{var l,a,s,c,p;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!zb(i)||py(i.config))return await this.generateContentInternal(g);const h=hy(i);if(h.length>0){const I=h.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let y,S;const T=sn(g.contents),_=(s=(a=(l=g.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:dy;let b=0;for(;b<_&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const I=y.candidates[0].content,N=[];for(const D of(p=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[])if(Go(D)){const P=await D.callTool(y.functionCalls);N.push(...P)}b++,S={role:"user",parts:N},g.contents=sn(g.contents),g.contents.push(I),g.contents.push(S),my(g.config)&&(T.push(I),T.push(S))}return my(g.config)&&(y.automaticFunctionCallingHistory=T),y},this.generateContentStream=async i=>{var l,a,s,c,p;if(this.maybeMoveToResponseJsonSchem(i),py(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const g=hy(i);if(g.length>0){const S=g.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(a=(l=i==null?void 0:i.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,y=(p=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var a;let s;const c=[];if(l!=null&&l.generatedImages)for(const g of l.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?s=g==null?void 0:g.safetyAttributes:c.push(g);let p;return s?p={generatedImages:c,positivePromptSafetyAttributes:s,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:c,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async i=>{var l;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((l=c.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Bi(Yn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(c),c)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var l,a,s,c,p,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=i.video)===null||l===void 0)&&l.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(s=i.source)===null||s===void 0?void 0:s.video)===null||c===void 0)&&c.uri&&(!((g=(p=i.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var i,l,a;const s=(i=t.config)===null||i===void 0?void 0:i.tools;if(!s)return t;const c=await Promise.all(s.map(async g=>Go(g)?await g.tool():g)),p={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:c})};if(p.config.tools=c,t.config&&t.config.tools&&k0(t.config.tools)){const g=(a=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),U0(h),p.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return p}async initAfcToolsMap(t){var i,l,a;const s=new Map;for(const c of(l=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(Go(c)){const p=c,g=await p.tool();for(const h of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,p)}}return s}async processAfcStream(t){var i,l,a;const s=(a=(l=(i=t.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:dy;let c=!1,p=0;const g=await this.initAfcToolsMap(t);return(function(h,y,S){return hn(this,arguments,function*(){for(var T,_,b,I,N,D;p<s;){c&&(p++,c=!1);const j=yield Te(h.processParamsMaybeAddMcpUsage(S)),M=yield Te(h.generateContentStreamInternal(j)),Y=[],ue=[];try{for(var B=!0,P=(_=void 0,mn(M)),X;X=yield Te(P.next()),T=X.done,!T;B=!0){I=X.value,B=!1;const $=I;if(yield yield Te($),$.candidates&&(!((N=$.candidates[0])===null||N===void 0)&&N.content)){ue.push($.candidates[0].content);for(const ae of(D=$.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(p<s&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ae.functionCall.name)){const ee=yield Te(y.get(ae.functionCall.name).callTool([ae.functionCall]));Y.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch($){_={error:$}}finally{try{!B&&!T&&(b=P.return)&&(yield Te(b.call(P)))}finally{if(_)throw _.error}}if(Y.length>0){c=!0;const $=new Bl;$.candidates=[{content:{role:"user",parts:Y}}],yield yield Te($);const ae=[];ae.push(...ue),ae.push({role:"user",parts:Y});const ee=sn(S.contents).concat(ae);S.contents=ee}else break}})})(this,g,t)}async generateContentInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=sy(this.apiClient,t);return p=se("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=cy(y),T=new Bl;return Object.assign(T,S),T})}else{const h=ay(this.apiClient,t);return p=se("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=uy(y),T=new Bl;return Object.assign(T,S),T})}}async generateContentStreamInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=sy(this.apiClient,t);return p=se("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(S){return hn(this,arguments,function*(){var T,_,b,I;try{for(var N=!0,D=mn(S),B;B=yield Te(D.next()),T=B.done,!T;N=!0){I=B.value,N=!1;const P=I,X=cy(yield Te(P.json()),t);X.sdkHttpResponse={headers:P.headers};const j=new Bl;Object.assign(j,X),yield yield Te(j)}}catch(P){_={error:P}}finally{try{!N&&!T&&(b=D.return)&&(yield Te(b.call(D)))}finally{if(_)throw _.error}}})})}else{const h=ay(this.apiClient,t);return p=se("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return hn(this,arguments,function*(){var T,_,b,I;try{for(var N=!0,D=mn(S),B;B=yield Te(D.next()),T=B.done,!T;N=!0){I=B.value,N=!1;const P=I,X=uy(yield Te(P.json()),t);X.sdkHttpResponse={headers:P.headers};const j=new Bl;Object.assign(j,X),yield yield Te(j)}}catch(P){_={error:P}}finally{try{!N&&!T&&(b=D.return)&&(yield Te(b.call(D)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Mx(this.apiClient,t);return p=se("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=Ix(y),T=new Fg;return Object.assign(T,S),T})}else{const h=Rx(this.apiClient,t);return p=se("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=Nx(y),T=new Fg;return Object.assign(T,S),T})}}async generateImagesInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=qx(this.apiClient,t);return p=se("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=Fx(y),T=new Yg;return Object.assign(T,S),T})}else{const h=Vx(this.apiClient,t);return p=se("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=Bx(y),T=new Yg;return Object.assign(T,S),T})}}async editImageInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=Ax(this.apiClient,t);return s=se("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=xx(g),y=new M_;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=q1(this.apiClient,t);return s=se("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=B1(g),y=new N_;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=C1(this.apiClient,t);return s=se("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=A1(g),y=new I_;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=N1(this.apiClient,t);return s=se("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=I1(g),y=new D_;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=a1(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Fc(y))}else{const h=r1(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Bc(y))}}async listInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=g1(this.apiClient,t);return p=se("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=v1(y),T=new Jg;return Object.assign(T,S),T})}else{const h=m1(this.apiClient,t);return p=se("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=y1(y),T=new Jg;return Object.assign(T,S),T})}}async update(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=G1(this.apiClient,t);return p=se("{model}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Fc(y))}else{const h=O1(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Bc(y))}}async delete(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Tx(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=_x(y),T=new Kg;return Object.assign(T,S),T})}else{const h=Sx(this.apiClient,t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=Ex(y),T=new Kg;return Object.assign(T,S),T})}}async countTokens(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=gx(this.apiClient,t);return p=se("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=vx(y),T=new Xg;return Object.assign(T,S),T})}else{const h=mx(this.apiClient,t);return p=se("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=yx(y),T=new Xg;return Object.assign(T,S),T})}}async computeTokens(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=sx(this.apiClient,t);return s=se("{model}:computeTokens",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=ux(g),y=new k_;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Zx(this.apiClient,t);return p=se("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const S=Xx(y),T=new La;return Object.assign(T,S),T})}else{const h=Qx(this.apiClient,t);return p=se("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const S=Kx(y),T=new La;return Object.assign(T,S),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hb extends Jn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const i=t.operation,l=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let s;l&&"httpOptions"in l&&(s=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:s}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const i=t.operation,l=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let s;l&&"httpOptions"in l&&(s=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:s}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=C_(t);return p=se("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}else{const h=__(t);return p=se("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=m_(t);return s=se("{resourceName}:fetchPredictOperation",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ob(e){const t={},i=f(e,["data"]);if(i!=null&&d(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Gb(e){const t={},i=f(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Qb(s))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function Vb(e,t,i){const l={},a=f(t,["expireTime"]);i!==void 0&&a!=null&&d(i,["expireTime"],a);const s=f(t,["newSessionExpireTime"]);i!==void 0&&s!=null&&d(i,["newSessionExpireTime"],s);const c=f(t,["uses"]);i!==void 0&&c!=null&&d(i,["uses"],c);const p=f(t,["liveConnectConstraints"]);i!==void 0&&p!=null&&d(i,["bidiGenerateContentSetup"],Xb(e,p));const g=f(t,["lockAdditionalFields"]);return i!==void 0&&g!=null&&d(i,["fieldMask"],g),l}function qb(e,t){const i={},l=f(t,["config"]);return l!=null&&d(i,["config"],Vb(e,l,i)),i}function Bb(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Fb(e){const t={},i=f(e,["id"]);i!=null&&d(t,["id"],i);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Yb(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&d(t,["enableWidget"],i),t}function Jb(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],i),t}function Kb(e,t){const i={},l=f(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const s=f(e,["temperature"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","temperature"],s);const c=f(e,["topP"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topP"],c);const p=f(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],gf(S));const T=f(e,["thinkingConfig"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","thinkingConfig"],T);const _=f(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(e,["systemInstruction"]);t!==void 0&&b!=null&&d(t,["setup","systemInstruction"],Gb(Et(b)));const I=f(e,["tools"]);if(t!==void 0&&I!=null){let M=Fo(I);Array.isArray(M)&&(M=M.map(Y=>$b(Bo(Y)))),d(t,["setup","tools"],M)}const N=f(e,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],Zb(N));const D=f(e,["inputAudioTranscription"]);t!==void 0&&D!=null&&d(t,["setup","inputAudioTranscription"],D);const B=f(e,["outputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","outputAudioTranscription"],B);const P=f(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&d(t,["setup","realtimeInputConfig"],P);const X=f(e,["contextWindowCompression"]);t!==void 0&&X!=null&&d(t,["setup","contextWindowCompression"],X);const j=f(e,["proactivity"]);if(t!==void 0&&j!=null&&d(t,["setup","proactivity"],j),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function Xb(e,t){const i={},l=f(t,["model"]);l!=null&&d(i,["setup","model"],Pe(e,l));const a=f(t,["config"]);return a!=null&&d(i,["config"],Kb(a,i)),i}function Qb(e){const t={},i=f(e,["mediaResolution"]);i!=null&&d(t,["mediaResolution"],i);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const s=f(e,["fileData"]);s!=null&&d(t,["fileData"],Bb(s));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],Fb(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],Ob(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const S=f(e,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const T=f(e,["videoMetadata"]);return T!=null&&d(t,["videoMetadata"],T),t}function Zb(e){const t={},i=f(e,["handle"]);if(i!=null&&d(t,["handle"],i),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function $b(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const l=f(e,["fileSearch"]);l!=null&&d(t,["fileSearch"],l);const a=f(e,["codeExecution"]);if(a!=null&&d(t,["codeExecution"],a),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(e,["functionDeclarations"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(S=>S)),d(t,["functionDeclarations"],y)}const c=f(e,["googleMaps"]);c!=null&&d(t,["googleMaps"],Yb(c));const p=f(e,["googleSearch"]);p!=null&&d(t,["googleSearch"],Jb(p));const g=f(e,["googleSearchRetrieval"]);g!=null&&d(t,["googleSearchRetrieval"],g);const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wb(e){const t=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const l=e[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(s=>`${i}.${s}`);t.push(...a)}else t.push(i)}return t.join(",")}function jb(e,t){let i=null;const l=e.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const s=l.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,i=s):delete e.bidiGenerateContentSetup}else l!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(i){const s=Wb(i);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(h=>c.includes(h)?`generationConfig.${h}`:h));const g=[];s&&g.push(s),p.length>0&&g.push(...p),g.length>0?e.fieldMask=g.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class ew extends Jn{constructor(t){super(),this.apiClient=t}async create(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=qb(this.apiClient,t);s=se("auth_tokens",p._url),c=p._query,delete p.config,delete p._url,delete p._query;const g=jb(p,t.config);return a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tw(e,t){const i={},l=f(e,["force"]);return t!==void 0&&l!=null&&d(t,["_query","force"],l),i}function nw(e){const t={},i=f(e,["name"]);i!=null&&d(t,["_url","name"],i);const l=f(e,["config"]);return l!=null&&tw(l,t),t}function iw(e){const t={},i=f(e,["name"]);return i!=null&&d(t,["_url","name"],i),t}function ow(e,t){const i={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),i}function lw(e){const t={},i=f(e,["parent"]);i!=null&&d(t,["_url","parent"],i);const l=f(e,["config"]);return l!=null&&ow(l,t),t}function rw(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&d(t,["sdkHttpResponse"],i);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["documents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aw extends Jn{constructor(t){super(),this.apiClient=t,this.list=async i=>new Bi(Yn.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:i.parent,config:l.config}),await this.listInternal(i),i)}async get(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iw(t);return s=se("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(t){var i,l;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nw(t);a=se("{name}",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lw(t);return s=se("{parent}/documents",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=rw(g),y=new U_;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sw extends Jn{constructor(t,i=new aw(t)){super(),this.apiClient=t,this.documents=i,this.list=async(l={})=>new Bi(Yn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Z1(t);return s=se("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=j1(t);return s=se("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(t){var i,l;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=W1(t);a=se("{name}",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lb(t);return s=se("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=rb(g),y=new L_;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ab(t);return s=se("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=sb(g),y=new z_;return Object.assign(y,h),y})}}async importFile(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=nb(t);return s=se("{file_search_store_name}:importFile",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=tb(g),y=new ff;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let L0=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return L0=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),i=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^i()&15>>+l/4).toString(16))};const uw=()=>L0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jc(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Kc=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class un extends Error{}class wt extends un{constructor(t,i,l,a){super(`${wt.makeMessage(t,i,l)}`),this.status=t,this.headers=a,this.error=i}static makeMessage(t,i,l){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):l;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,i,l,a){if(!t||!a)return new Ja({message:l,cause:Kc(i)});const s=i;return t===400?new P0(t,s,l,a):t===401?new H0(t,s,l,a):t===403?new O0(t,s,l,a):t===404?new G0(t,s,l,a):t===409?new V0(t,s,l,a):t===422?new q0(t,s,l,a):t===429?new B0(t,s,l,a):t>=500?new F0(t,s,l,a):new wt(t,s,l,a)}}class Xc extends wt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ja extends wt{constructor({message:t,cause:i}){super(void 0,void 0,t||"Connection error.",void 0),i&&(this.cause=i)}}class z0 extends Ja{constructor({message:t}={}){super({message:t??"Request timed out."})}}class P0 extends wt{}class H0 extends wt{}class O0 extends wt{}class G0 extends wt{}class V0 extends wt{}class q0 extends wt{}class B0 extends wt{}class F0 extends wt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cw=/^[a-z][a-z0-9+.-]*:/i,fw=e=>cw.test(e);let Qc=e=>(Qc=Array.isArray,Qc(e));const dw=Qc;let pw=dw;const gy=pw;function hw(e){if(!e)return!0;for(const t in e)return!1;return!0}function mw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const gw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new un(`${e} must be an integer`);if(t<0)throw new un(`${e} must be a positive integer`);return t},yw=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vw=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Tw=()=>{var e,t,i,l,a;const s=Sw();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":vy(Deno.build.os),"X-Stainless-Arch":yy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":vy((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":yy((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=Ew();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ew(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:i}of e){const l=i.exec(navigator.userAgent);if(l){const a=l[1]||0,s=l[2]||0,c=l[3]||0;return{browser:t,version:`${a}.${s}.${c}`}}}return null}const yy=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",vy=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Aa;const _w=()=>Aa??(Aa=Tw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Y0(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Aw(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Y0({start(){},async pull(i){const{done:l,value:a}=await t.next();l?i.close():i.enqueue(a)},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}function J0(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const i=await t.read();return i!=null&&i.done&&t.releaseLock(),i}catch(i){throw t.releaseLock(),i}},async return(){const i=t.cancel();return t.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xw(e){var t,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(t=e[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(t));return}const l=e.getReader(),a=l.cancel();l.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bw=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K0=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,i=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ec(e,t,i){return K0(),new File(e,t??"unknown_file",i)}function ww(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Rw=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X0=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Mw=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&X0(e),Nw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Iw(e,t,i){if(K0(),e=await e,Mw(e))return e instanceof File?e:Ec([await e.arrayBuffer()],e.name);if(Nw(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ec(await Zc(a),t,i)}const l=await Zc(e);if(t||(t=ww(e)),!(i!=null&&i.type)){const a=l.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return Ec(l,t,i)}async function Zc(e){var t,i,l,a,s;let c=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)c.push(e);else if(X0(e))c.push(e instanceof Blob?e:await e.arrayBuffer());else if(Rw(e))try{for(var p=!0,g=mn(e),h;h=await g.next(),t=h.done,!t;p=!0){a=h.value,p=!1;const y=a;c.push(...await Zc(y))}}catch(y){i={error:y}}finally{try{!p&&!t&&(l=g.return)&&await l.call(g)}finally{if(i)throw i.error}}else{const y=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${y?`; constructor: ${y}`:""}${Dw(e)}`)}return c}function Dw(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q0{constructor(t){this._client=t}}Q0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z0(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Sy=Object.freeze(Object.create(null)),kw=(e=Z0)=>(function(i,...l){if(i.length===1)return i[0];let a=!1;const s=[],c=i.reduce((y,S,T)=>{var _,b,I;/[?#]/.test(S)&&(a=!0);const N=l[T];let D=(a?encodeURIComponent:e)(""+N);return T!==l.length&&(N==null||typeof N=="object"&&N.toString===((I=Object.getPrototypeOf((b=Object.getPrototypeOf((_=N.hasOwnProperty)!==null&&_!==void 0?_:Sy))!==null&&b!==void 0?b:Sy))===null||I===void 0?void 0:I.toString))&&(D=N+"",s.push({start:y.length+S.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),y+S+(T===l.length?"":D)},""),p=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=g.exec(p))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((y,S)=>y.start-S.start),s.length>0){let y=0;const S=s.reduce((T,_)=>{const b=" ".repeat(_.start-y),I="^".repeat(_.length);return y=_.start+_.length,T+b+I},"");throw new un(`Path parameters result in path with invalid segments:
${s.map(T=>T.error).join(`
`)}
${c}
${S}`)}return c}),xa=kw(Z0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $0 extends Q0{create(t,i){var l;const{api_version:a=this._client.apiVersion}=t,s=Pa(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new un("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new un("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xa`/${a}/interactions`,Object.assign(Object.assign({body:s},i),{stream:(l=t.stream)!==null&&l!==void 0?l:!1}))}delete(t,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(xa`/${a}/interactions/${t}`,l)}cancel(t,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(xa`/${a}/interactions/${t}/cancel`,l)}get(t,i={},l){var a;const s=i??{},{api_version:c=this._client.apiVersion}=s,p=Pa(s,["api_version"]);return this._client.get(xa`/${c}/interactions/${t}`,Object.assign(Object.assign({query:p},l),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}$0._key=Object.freeze(["interactions"]);class W0 extends $0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uw(e){let t=0;for(const a of e)t+=a.length;const i=new Uint8Array(t);let l=0;for(const a of e)i.set(a,l),l+=a.length;return i}let ba;function vf(e){let t;return(ba??(t=new globalThis.TextEncoder,ba=t.encode.bind(t)))(e)}let wa;function Ty(e){let t;return(wa??(t=new globalThis.TextDecoder,wa=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ka{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const i=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?vf(t):t;this.buffer=Uw([this.buffer,i]);const l=[];let a;for(;(a=Lw(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){l.push(Ty(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=Ty(this.buffer.subarray(0,s));l.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Ka.NEWLINE_CHARS=new Set([`
`,"\r"]);Ka.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Lw(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function zw(e){for(let l=0;l<e.length-1;l++){if(e[l]===10&&e[l+1]===10||e[l]===13&&e[l+1]===13)return l+2;if(e[l]===13&&e[l+1]===10&&l+3<e.length&&e[l+2]===13&&e[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ha={off:0,error:200,warn:300,info:400,debug:500},Ey=(e,t,i)=>{if(e){if(mw(Ha,e))return e;bt(i).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Ha))}`)}};function Ql(){}function Ra(e,t,i){return!t||Ha[e]>Ha[i]?Ql:t[e].bind(t)}const Pw={error:Ql,warn:Ql,info:Ql,debug:Ql};let _y=new WeakMap;function bt(e){var t;const i=e.logger,l=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!i)return Pw;const a=_y.get(i);if(a&&a[0]===l)return a[1];const s={error:Ra("error",i,l),warn:Ra("warn",i,l),info:Ra("info",i,l),debug:Ra("debug",i,l)};return _y.set(i,[l,s]),s}const qi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,i])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ho{constructor(t,i,l){this.iterator=t,this.controller=i,this.client=l}static fromSSEResponse(t,i,l){let a=!1;const s=l?bt(l):console;function c(){return hn(this,arguments,function*(){var g,h,y,S;if(a)throw new un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var _=!0,b=mn(Hw(t,i)),I;I=yield Te(b.next()),g=I.done,!g;_=!0){S=I.value,_=!1;const N=S;if(!T)if(N.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Te(JSON.parse(N.data))}catch(D){throw s.error("Could not parse message into JSON:",N.data),s.error("From chunk:",N.raw),D}}}catch(N){h={error:N}}finally{try{!_&&!g&&(y=b.return)&&(yield Te(y.call(b)))}finally{if(h)throw h.error}}T=!0}catch(N){if(Jc(N))return yield Te(void 0);throw N}finally{T||i.abort()}})}return new Ho(c,i,l)}static fromReadableStream(t,i,l){let a=!1;function s(){return hn(this,arguments,function*(){var g,h,y,S;const T=new Ka,_=J0(t);try{for(var b=!0,I=mn(_),N;N=yield Te(I.next()),g=N.done,!g;b=!0){S=N.value,b=!1;const D=S;for(const B of T.decode(D))yield yield Te(B)}}catch(D){h={error:D}}finally{try{!b&&!g&&(y=I.return)&&(yield Te(y.call(I)))}finally{if(h)throw h.error}}for(const D of T.flush())yield yield Te(D)})}function c(){return hn(this,arguments,function*(){var g,h,y,S;if(a)throw new un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var _=!0,b=mn(s()),I;I=yield Te(b.next()),g=I.done,!g;_=!0){S=I.value,_=!1;const N=S;T||N&&(yield yield Te(JSON.parse(N)))}}catch(N){h={error:N}}finally{try{!_&&!g&&(y=b.return)&&(yield Te(y.call(b)))}finally{if(h)throw h.error}}T=!0}catch(N){if(Jc(N))return yield Te(void 0);throw N}finally{T||i.abort()}})}return new Ho(c,i,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],i=[],l=this.iterator(),a=s=>({next:()=>{if(s.length===0){const c=l.next();t.push(c),i.push(c)}return s.shift()}});return[new Ho(()=>a(t),this.controller,this.client),new Ho(()=>a(i),this.controller,this.client)]}toReadableStream(){const t=this;let i;return Y0({async start(){i=t[Symbol.asyncIterator]()},async pull(l){try{const{value:a,done:s}=await i.next();if(s)return l.close();const c=vf(JSON.stringify(a)+`
`);l.enqueue(c)}catch(a){l.error(a)}},async cancel(){var l;await((l=i.return)===null||l===void 0?void 0:l.call(i))}})}}function Hw(e,t){return hn(this,arguments,function*(){var l,a,s,c;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new un("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new un("Attempted to iterate over a response with no body");const p=new Gw,g=new Ka,h=J0(e.body);try{for(var y=!0,S=mn(Ow(h)),T;T=yield Te(S.next()),l=T.done,!l;y=!0){c=T.value,y=!1;const _=c;for(const b of g.decode(_)){const I=p.decode(b);I&&(yield yield Te(I))}}}catch(_){a={error:_}}finally{try{!y&&!l&&(s=S.return)&&(yield Te(s.call(S)))}finally{if(a)throw a.error}}for(const _ of g.flush()){const b=p.decode(_);b&&(yield yield Te(b))}})}function Ow(e){return hn(this,arguments,function*(){var i,l,a,s;let c=new Uint8Array;try{for(var p=!0,g=mn(e),h;h=yield Te(g.next()),i=h.done,!i;p=!0){s=h.value,p=!1;const y=s;if(y==null)continue;const S=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?vf(y):y;let T=new Uint8Array(c.length+S.length);T.set(c),T.set(S,c.length),c=T;let _;for(;(_=zw(c))!==-1;)yield yield Te(c.slice(0,_)),c=c.slice(_)}}catch(y){l={error:y}}finally{try{!p&&!i&&(a=g.return)&&(yield Te(a.call(g)))}finally{if(l)throw l.error}}c.length>0&&(yield yield Te(c))})}class Gw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[i,l,a]=Vw(t,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function Vw(e,t){const i=e.indexOf(t);return i!==-1?[e.substring(0,i),t,e.substring(i+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qw(e,t){const{response:i,requestLogID:l,retryOfRequestLogID:a,startTime:s}=t,c=await(async()=>{var p;if(t.options.stream)return bt(e).debug("response",i.status,i.url,i.headers,i.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(i,t.controller,e):Ho.fromSSEResponse(i,t.controller,e);if(i.status===204)return null;if(t.options.__binaryResponse)return i;const g=i.headers.get("content-type"),h=(p=g==null?void 0:g.split(";")[0])===null||p===void 0?void 0:p.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return bt(e).debug(`[${l}] response parsed`,qi({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-s})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sf extends Promise{constructor(t,i,l=qw){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=l,this.client=t}_thenUnwrap(t){return new Sf(this.client,this.responsePromise,async(i,l)=>t(await this.parseResponse(i,l),l))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,i){return this.parse().then(t,i)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j0=Symbol("brand.privateNullableHeaders");function*Bw(e){if(!e)return;if(j0 in e){const{values:l,nulls:a}=e;yield*l.entries();for(const s of a)yield[s,null];return}let t=!1,i;e instanceof Headers?i=e.entries():gy(e)?i=e:(t=!0,i=Object.entries(e??{}));for(let l of i){const a=l[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const s=gy(l[1])?l[1]:[l[1]];let c=!1;for(const p of s)p!==void 0&&(t&&!c&&(c=!0,yield[a,null]),yield[a,p])}}const Fl=e=>{const t=new Headers,i=new Set;for(const l of e){const a=new Set;for(const[s,c]of Bw(l)){const p=s.toLowerCase();a.has(p)||(t.delete(s),a.add(p)),c===null?(t.delete(s),i.add(p)):(t.append(s,c),i.delete(p))}}return{[j0]:!0,values:t,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _c=e=>{var t,i,l,a,s,c;if(typeof globalThis.process<"u")return(l=(i=(t=u_)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(c=(s=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||s===void 0?void 0:s.call(a,e))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ev;class Xa{constructor(t){var i,l,a,s,c,p,g,{baseURL:h=_c("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=_c("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=t,T=Pa(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:y,apiVersion:S},T),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(l=_.timeout)!==null&&l!==void 0?l:Xa.DEFAULT_TIMEOUT,this.logger=(a=_.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(c=(s=Ey(_.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:Ey(_c("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:b,this.fetchOptions=_.fetchOptions,this.maxRetries=(p=_.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(g=_.fetch)!==null&&g!==void 0?g:Cw(),this.encoder=bw,this._options=_,this.apiKey=y,this.apiVersion=S,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:i}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const i=Fl([t.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Fl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Fl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([i,l])=>typeof l<"u").map(([i,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(i)}=`;throw new un(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${zo}`}defaultIdempotencyKey(){return`stainless-node-retry-${uw()}`}makeStatusError(t,i,l,a){return wt.generate(t,i,l,a)}buildURL(t,i,l){const a=!this.baseURLOverridden()&&l||this.baseURL,s=fw(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),c=this.defaultQuery();return hw(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(s.search=this.stringifyQuery(i)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const i=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(t,{url:i,options:l}){}get(t,i){return this.methodRequest("get",t,i)}post(t,i){return this.methodRequest("post",t,i)}patch(t,i){return this.methodRequest("patch",t,i)}put(t,i){return this.methodRequest("put",t,i)}delete(t,i){return this.methodRequest("delete",t,i)}methodRequest(t,i,l){return this.request(Promise.resolve(l).then(a=>Object.assign({method:t,path:i},a)))}request(t,i=null){return new Sf(this,this.makeRequest(t,i,void 0))}async makeRequest(t,i,l){var a,s,c;const p=await t,g=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(p);const{req:h,url:y,timeout:S}=await this.buildRequest(p,{retryCount:g-i});await this.prepareRequest(h,{url:y,options:p});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=l===void 0?"":`, retryOf: ${l}`,b=Date.now();if(bt(this).debug(`[${T}] sending request`,qi({retryOfRequestLogID:l,method:p.method,url:y,options:p,headers:h.headers})),!((s=p.signal)===null||s===void 0)&&s.aborted)throw new Xc;const I=new AbortController,N=await this.fetchWithTimeout(y,h,S,I).catch(Kc),D=Date.now();if(N instanceof globalThis.Error){const P=`retrying, ${i} attempts remaining`;if(!((c=p.signal)===null||c===void 0)&&c.aborted)throw new Xc;const X=Jc(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(i)return bt(this).info(`[${T}] connection ${X?"timed out":"failed"} - ${P}`),bt(this).debug(`[${T}] connection ${X?"timed out":"failed"} (${P})`,qi({retryOfRequestLogID:l,url:y,durationMs:D-b,message:N.message})),this.retryRequest(p,i,l??T);throw bt(this).info(`[${T}] connection ${X?"timed out":"failed"} - error; no more retries left`),bt(this).debug(`[${T}] connection ${X?"timed out":"failed"} (error; no more retries left)`,qi({retryOfRequestLogID:l,url:y,durationMs:D-b,message:N.message})),X?new z0:new Ja({cause:N})}const B=`[${T}${_}] ${h.method} ${y} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${D-b}ms`;if(!N.ok){const P=await this.shouldRetry(N);if(i&&P){const $=`retrying, ${i} attempts remaining`;return await xw(N.body),bt(this).info(`${B} - ${$}`),bt(this).debug(`[${T}] response error (${$})`,qi({retryOfRequestLogID:l,url:N.url,status:N.status,headers:N.headers,durationMs:D-b})),this.retryRequest(p,i,l??T,N.headers)}const X=P?"error; no more retries left":"error; not retryable";bt(this).info(`${B} - ${X}`);const j=await N.text().catch($=>Kc($).message),M=yw(j),Y=M?void 0:j;throw bt(this).debug(`[${T}] response error (${X})`,qi({retryOfRequestLogID:l,url:N.url,status:N.status,headers:N.headers,message:Y,durationMs:Date.now()-b})),this.makeStatusError(N.status,M,Y,N.headers)}return bt(this).info(B),bt(this).debug(`[${T}] response start`,qi({retryOfRequestLogID:l,url:N.url,status:N.status,headers:N.headers,durationMs:D-b})),{response:N,options:p,controller:I,requestLogID:T,retryOfRequestLogID:l,startTime:b}}async fetchWithTimeout(t,i,l,a){const s=i||{},{signal:c,method:p}=s,g=Pa(s,["signal","method"]),h=this._makeAbort(a);c&&c.addEventListener("abort",h,{once:!0});const y=setTimeout(h,l),S=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,T=Object.assign(Object.assign(Object.assign({signal:a.signal},S?{duplex:"half"}:{}),{method:"GET"}),g);p&&(T.method=p.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(y)}}async shouldRetry(t){const i=t.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,i,l,a){var s;let c;const p=a==null?void 0:a.get("retry-after-ms");if(p){const h=parseFloat(p);Number.isNaN(h)||(c=h)}const g=a==null?void 0:a.get("retry-after");if(g&&!c){const h=parseFloat(g);Number.isNaN(h)?c=Date.parse(g)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,h)}return await vw(c),this.makeRequest(t,i-1,l)}calculateDefaultRetryTimeoutMillis(t,i){const s=i-t,c=Math.min(.5*Math.pow(2,s),8),p=1-Math.random()*.25;return c*p*1e3}async buildRequest(t,{retryCount:i=0}={}){var l,a,s;const c=Object.assign({},t),{method:p,path:g,query:h,defaultBaseURL:y}=c,S=this.buildURL(g,h,y);"timeout"in c&&gw("timeout",c.timeout),c.timeout=(l=c.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:T,body:_}=this.buildBody({options:c}),b=await this.buildHeaders({options:t,method:p,bodyHeaders:T,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:b},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(s=c.fetchOptions)!==null&&s!==void 0?s:{}),url:S,timeout:c.timeout}}async buildHeaders({options:t,method:i,bodyHeaders:l,retryCount:a}){let s={};this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const c=await this.authHeaders(t);let p=Fl([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),_w()),this._options.defaultHeaders,l,t.headers,c]);return this.validateHeaders(p),p.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:i}}){if(!t)return{bodyHeaders:void 0,body:void 0};const l=Fl([i]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&l.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Aw(t)}:this.encoder({body:t,headers:l})}}Xa.DEFAULT_TIMEOUT=6e4;class pt extends Xa{constructor(){super(...arguments),this.interactions=new W0(this)}}ev=pt;pt.GeminiNextGenAPIClient=ev;pt.GeminiNextGenAPIClientError=un;pt.APIError=wt;pt.APIConnectionError=Ja;pt.APIConnectionTimeoutError=z0;pt.APIUserAbortError=Xc;pt.NotFoundError=G0;pt.ConflictError=V0;pt.RateLimitError=B0;pt.BadRequestError=P0;pt.AuthenticationError=H0;pt.InternalServerError=F0;pt.PermissionDeniedError=O0;pt.UnprocessableEntityError=q0;pt.toFile=Iw;pt.Interactions=W0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(e,t){const i={},l=f(e,["name"]);return l!=null&&d(i,["_url","name"],l),i}function Yw(e,t){const i={},l=f(e,["name"]);return l!=null&&d(i,["_url","name"],l),i}function Jw(e,t){const i={},l=f(e,["sdkHttpResponse"]);return l!=null&&d(i,["sdkHttpResponse"],l),i}function Kw(e,t){const i={},l=f(e,["sdkHttpResponse"]);return l!=null&&d(i,["sdkHttpResponse"],l),i}function Xw(e,t,i){const l={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=f(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&d(t,["displayName"],a),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=f(e,["epochCount"]);t!==void 0&&s!=null&&d(t,["tuningTask","hyperparameters","epochCount"],s);const c=f(e,["learningRateMultiplier"]);if(c!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const p=f(e,["batchSize"]);t!==void 0&&p!=null&&d(t,["tuningTask","hyperparameters","batchSize"],p);const g=f(e,["learningRate"]);if(t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","learningRate"],g),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(f(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return l}function Qw(e,t,i){const l={};let a=f(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const M=f(e,["validationDataset"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec"],Cc(M))}else if(a==="PREFERENCE_TUNING"){const M=f(e,["validationDataset"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec"],Cc(M))}else if(a==="DISTILLATION"){const M=f(e,["validationDataset"]);t!==void 0&&M!=null&&d(t,["distillationSpec"],Cc(M))}const s=f(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&d(t,["tunedModelDisplayName"],s);const c=f(e,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);let p=f(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const M=f(e,["epochCount"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],M)}else if(p==="PREFERENCE_TUNING"){const M=f(e,["epochCount"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],M)}else if(p==="DISTILLATION"){const M=f(e,["epochCount"]);t!==void 0&&M!=null&&d(t,["distillationSpec","hyperParameters","epochCount"],M)}let g=f(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const M=f(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],M)}else if(g==="PREFERENCE_TUNING"){const M=f(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],M)}else if(g==="DISTILLATION"){const M=f(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&d(t,["distillationSpec","hyperParameters","learningRateMultiplier"],M)}let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const M=f(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],M)}else if(h==="PREFERENCE_TUNING"){const M=f(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],M)}else if(h==="DISTILLATION"){const M=f(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&d(t,["distillationSpec","exportLastCheckpointOnly"],M)}let y=f(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const M=f(e,["adapterSize"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],M)}else if(y==="PREFERENCE_TUNING"){const M=f(e,["adapterSize"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],M)}else if(y==="DISTILLATION"){const M=f(e,["adapterSize"]);t!==void 0&&M!=null&&d(t,["distillationSpec","hyperParameters","adapterSize"],M)}let S=f(i,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const M=f(e,["tuningMode"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","tuningMode"],M)}const T=f(e,["customBaseModel"]);t!==void 0&&T!=null&&d(t,["customBaseModel"],T);let _=f(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const M=f(e,["batchSize"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","batchSize"],M)}let b=f(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const M=f(e,["learningRate"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRate"],M)}const I=f(e,["labels"]);t!==void 0&&I!=null&&d(t,["labels"],I);const N=f(e,["beta"]);t!==void 0&&N!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],N);const D=f(e,["baseTeacherModel"]);t!==void 0&&D!=null&&d(t,["distillationSpec","baseTeacherModel"],D);const B=f(e,["tunedTeacherModelSource"]);t!==void 0&&B!=null&&d(t,["distillationSpec","tunedTeacherModelSource"],B);const P=f(e,["sftLossWeightMultiplier"]);t!==void 0&&P!=null&&d(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],P);const X=f(e,["outputUri"]);t!==void 0&&X!=null&&d(t,["outputUri"],X);const j=f(e,["encryptionSpec"]);return t!==void 0&&j!=null&&d(t,["encryptionSpec"],j),l}function Zw(e,t){const i={},l=f(e,["baseModel"]);l!=null&&d(i,["baseModel"],l);const a=f(e,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const s=f(e,["trainingDataset"]);s!=null&&aR(s);const c=f(e,["config"]);return c!=null&&Xw(c,i),i}function $w(e,t){const i={},l=f(e,["baseModel"]);l!=null&&d(i,["baseModel"],l);const a=f(e,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const s=f(e,["trainingDataset"]);s!=null&&sR(s,i,t);const c=f(e,["config"]);return c!=null&&Qw(c,i,t),i}function Ww(e,t){const i={},l=f(e,["name"]);return l!=null&&d(i,["_url","name"],l),i}function jw(e,t){const i={},l=f(e,["name"]);return l!=null&&d(i,["_url","name"],l),i}function eR(e,t,i){const l={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const s=f(e,["pageToken"]);t!==void 0&&s!=null&&d(t,["_query","pageToken"],s);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),l}function tR(e,t,i){const l={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const s=f(e,["pageToken"]);t!==void 0&&s!=null&&d(t,["_query","pageToken"],s);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),l}function nR(e,t){const i={},l=f(e,["config"]);return l!=null&&eR(l,i),i}function iR(e,t){const i={},l=f(e,["config"]);return l!=null&&tR(l,i),i}function oR(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const s=f(e,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>tv(p))),d(i,["tuningJobs"],c)}return i}function lR(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const s=f(e,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>$c(p))),d(i,["tuningJobs"],c)}return i}function rR(e,t){const i={},l=f(e,["name"]);l!=null&&d(i,["model"],l);const a=f(e,["name"]);return a!=null&&d(i,["endpoint"],a),i}function aR(e,t){const i={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=f(e,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>s)),d(i,["examples","examples"],a)}return i}function sR(e,t,i){const l={};let a=f(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(a==="DISTILLATION"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&d(t,["distillationSpec","promptDatasetUri"],c)}let s=f(i,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(s==="PREFERENCE_TUNING"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(s==="DISTILLATION"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&d(t,["distillationSpec","promptDatasetUri"],c)}if(f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function tv(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["name"]);a!=null&&d(i,["name"],a);const s=f(e,["state"]);s!=null&&d(i,["state"],y0(s));const c=f(e,["createTime"]);c!=null&&d(i,["createTime"],c);const p=f(e,["tuningTask","startTime"]);p!=null&&d(i,["startTime"],p);const g=f(e,["tuningTask","completeTime"]);g!=null&&d(i,["endTime"],g);const h=f(e,["updateTime"]);h!=null&&d(i,["updateTime"],h);const y=f(e,["description"]);y!=null&&d(i,["description"],y);const S=f(e,["baseModel"]);S!=null&&d(i,["baseModel"],S);const T=f(e,["_self"]);return T!=null&&d(i,["tunedModel"],rR(T)),i}function $c(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["name"]);a!=null&&d(i,["name"],a);const s=f(e,["state"]);s!=null&&d(i,["state"],y0(s));const c=f(e,["createTime"]);c!=null&&d(i,["createTime"],c);const p=f(e,["startTime"]);p!=null&&d(i,["startTime"],p);const g=f(e,["endTime"]);g!=null&&d(i,["endTime"],g);const h=f(e,["updateTime"]);h!=null&&d(i,["updateTime"],h);const y=f(e,["error"]);y!=null&&d(i,["error"],y);const S=f(e,["description"]);S!=null&&d(i,["description"],S);const T=f(e,["baseModel"]);T!=null&&d(i,["baseModel"],T);const _=f(e,["tunedModel"]);_!=null&&d(i,["tunedModel"],_);const b=f(e,["preTunedModel"]);b!=null&&d(i,["preTunedModel"],b);const I=f(e,["supervisedTuningSpec"]);I!=null&&d(i,["supervisedTuningSpec"],I);const N=f(e,["preferenceOptimizationSpec"]);N!=null&&d(i,["preferenceOptimizationSpec"],N);const D=f(e,["distillationSpec"]);D!=null&&d(i,["distillationSpec"],D);const B=f(e,["tuningDataStats"]);B!=null&&d(i,["tuningDataStats"],B);const P=f(e,["encryptionSpec"]);P!=null&&d(i,["encryptionSpec"],P);const X=f(e,["partnerModelTuningSpec"]);X!=null&&d(i,["partnerModelTuningSpec"],X);const j=f(e,["customBaseModel"]);j!=null&&d(i,["customBaseModel"],j);const M=f(e,["experiment"]);M!=null&&d(i,["experiment"],M);const Y=f(e,["labels"]);Y!=null&&d(i,["labels"],Y);const ue=f(e,["outputUri"]);ue!=null&&d(i,["outputUri"],ue);const $=f(e,["pipelineJob"]);$!=null&&d(i,["pipelineJob"],$);const ae=f(e,["serviceAccount"]);ae!=null&&d(i,["serviceAccount"],ae);const ee=f(e,["tunedModelDisplayName"]);ee!=null&&d(i,["tunedModelDisplayName"],ee);const ie=f(e,["veoTuningSpec"]);return ie!=null&&d(i,["veoTuningSpec"],ie),i}function uR(e,t){const i={},l=f(e,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const a=f(e,["name"]);a!=null&&d(i,["name"],a);const s=f(e,["metadata"]);s!=null&&d(i,["metadata"],s);const c=f(e,["done"]);c!=null&&d(i,["done"],c);const p=f(e,["error"]);return p!=null&&d(i,["error"],p),i}function Cc(e,t){const i={},l=f(e,["gcsUri"]);l!=null&&d(i,["validationDatasetUri"],l);const a=f(e,["vertexDatasetResource"]);return a!=null&&d(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cR extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Bi(Yn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var l;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((l=i.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},i),{preTunedModel:a});return s.baseModel=void 0,await this.tuneInternal(s)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),s=await this.tuneMldevInternal(a);let c="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?c=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(c=s.name.split("/operations/")[0]),{name:c,state:Hc.JOB_STATE_QUEUED}}}}async getInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=jw(t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>$c(y))}else{const h=Ww(t);return p=se("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>tv(y))}}async listInternal(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=iR(t);return p=se("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=lR(y),T=new Qg;return Object.assign(T,S),T})}else{const h=nR(t);return p=se("tunedModels",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=oR(y),T=new Qg;return Object.assign(T,S),T})}}async cancel(t){var i,l,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Yw(t);return p=se("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=Kw(y),T=new Zg;return Object.assign(T,S),T})}else{const h=Fw(t);return p=se("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),c.then(y=>{const S=Jw(y),T=new Zg;return Object.assign(T,S),T})}}async tuneInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=$w(t,t);return s=se("tuningJobs",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>$c(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var i,l;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Zw(t);return s=se("tunedModels",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>uR(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fR{async download(t,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const dR=1024*1024*8,pR=3,hR=1e3,mR=2,Oa="x-goog-upload-status";async function gR(e,t,i){var l;const a=await nv(e,t,i),s=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function yR(e,t,i){var l;const a=await nv(e,t,i),s=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=f0(s),p=new df;return Object.assign(p,c),p}async function nv(e,t,i){var l,a;let s=0,c=0,p=new Gc(new Response),g="upload";for(s=e.size;c<s;){const h=Math.min(dR,s-c),y=e.slice(c,c+h);c+h>=s&&(g+=", finalize");let S=0,T=hR;for(;S<pR&&(p=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[Oa]));)S++,await SR(T),T=T*mR;if(c+=h,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[Oa])!=="active")break;if(s<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function vR(e){return{size:e.size,type:e.type}}function SR(e){return new Promise(t=>setTimeout(t,e))}class TR{async upload(t,i,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gR(t,i,l)}async uploadToFileSearchStore(t,i,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await yR(t,i,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ER{create(t,i,l){return new _R(t,i,l)}}class _R{constructor(t,i,l){this.url=t,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cy="x-goog-api-key";class CR{constructor(t){this.apiKey=t}async addAuthHeaders(t,i){if(t.get(Cy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Cy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR="gl-node/";class iv{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const i=this.httpOptions;i!=null&&i.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new pt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:i==null?void 0:i.timeout,maxRetries:(t=i==null?void 0:i.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=l.interactions,this._interactions}constructor(t){var i;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=t.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=t.apiKey;const l=p_(t.httpOptions,t.vertexai,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new CR(this.apiKey);this.apiClient=new vb({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:AR+"web",uploader:new TR,downloader:new fR}),this.models=new Pb(this.apiClient),this.live=new Ib(this.apiClient,a,new ER),this.batches=new BC(this.apiClient),this.chats=new AA(this.models,this.apiClient),this.caches=new EA(this.apiClient),this.files=new zA(this.apiClient),this.operations=new Hb(this.apiClient),this.authTokens=new ew(this.apiClient),this.tunings=new cR(this.apiClient),this.fileSearchStores=new sw(this.apiClient)}}function xR(e){const t=atob(e),i=t.length,l=new Uint8Array(i);for(let a=0;a<i;a++)l[a]=t.charCodeAt(a);return l}function bR(e){let t="";const i=new Uint8Array(e),l=i.byteLength;for(let a=0;a<l;a++)t+=String.fromCharCode(i[a]);return btoa(t)}async function wR(e,t,i,l){const a=new Int16Array(e.buffer),s=a.length/l,c=t.createBuffer(l,s,i);for(let p=0;p<l;p++){const g=c.getChannelData(p);for(let h=0;h<s;h++)g[h]=a[h*l+p]/32768}return c}function RR(e){const t=e.length,i=new Int16Array(t);for(let l=0;l<t;l++)i[l]=e[l]*32768;return{data:bR(i.buffer),mimeType:"audio/pcm;rate=16000"}}function MR(e){return new Promise((t,i)=>{const l=new FileReader;l.onloadend=()=>{const s=l.result.split(",")[1];t(s)},l.onerror=i,l.readAsDataURL(e)})}const NR=({onTranscriptUpdate:e,isAudioMuted:t})=>{const[i,l]=be.useState(!1),[a,s]=be.useState(null),[c,p]=be.useState(0),g=be.useRef(null),h=be.useRef(null),y=be.useRef(null),S=be.useRef(null),T=be.useRef(null),_=be.useRef(null),b=be.useRef(0),I=be.useRef(""),N=be.useRef(""),D=be.useCallback(async P=>{try{if(!P)throw new Error("API Key is required");if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Microphone access is not supported. Please ensure you are using HTTPS or localhost.");const X=new iv({apiKey:P}),j=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1}});S.current=j;const M=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3});h.current=M;const Y=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});y.current=Y;const ue=M.createMediaStreamSource(j);_.current=ue;const $=M.createAnalyser();$.fftSize=256,ue.connect($);const ae=new Uint8Array($.frequencyBinCount),ee=()=>{if(!i&&!S.current)return;$.getByteFrequencyData(ae);let W=0;for(let Z=0;Z<ae.length;Z++)W+=ae[Z];const z=W/ae.length;p(z),requestAnimationFrame(ee)};ee();const ie=M.createScriptProcessor(4096,1,1);T.current=ie,ie.onaudioprocess=W=>{const z=W.inputBuffer.getChannelData(0),Z=RR(z);g.current&&g.current.then(re=>{re.sendRealtimeInput({media:Z})}).catch(re=>console.error("Send input error:",re))},ue.connect(ie),ie.connect(M.destination);const he={model:"gemini-2.5-flash-native-audio-preview-12-2025",config:{responseModalities:[jl.AUDIO],inputAudioTranscription:{model:"gemini-2.5-flash-native-audio-preview-12-2025"},outputAudioTranscription:{model:"gemini-2.5-flash-native-audio-preview-12-2025"},systemInstruction:`You are Smart Translate. 
          1. Listen to the user.
          2. Translate speech to Traditional Chinese () immediately.
          3. Keep output concise and accurate.
          4. Do not engage in conversation, just translate.`}},le=X.live.connect({...he,callbacks:{onopen:()=>{l(!0),s(null)},onmessage:async W=>{var re,ve,w,x;const z=W.serverContent;if(z!=null&&z.inputTranscription){const V=z.inputTranscription.text;V&&(I.current+=V,e({id:"input-curr",speaker:"user",text:I.current,timestamp:Date.now(),isPartial:!0}))}if(z!=null&&z.outputTranscription){const V=z.outputTranscription.text;V&&(N.current+=V,e({id:"output-curr",speaker:"model",text:N.current,timestamp:Date.now(),isPartial:!0}))}z!=null&&z.turnComplete&&(I.current&&(e({id:`user-${Date.now()}`,speaker:"user",text:I.current,timestamp:Date.now(),isPartial:!1}),I.current=""),N.current&&(e({id:`model-${Date.now()}`,speaker:"model",text:N.current,timestamp:Date.now(),isPartial:!1}),N.current=""));const Z=(x=(w=(ve=(re=z==null?void 0:z.modelTurn)==null?void 0:re.parts)==null?void 0:ve[0])==null?void 0:w.inlineData)==null?void 0:x.data;if(Z&&!t&&Y)try{const V=xR(Z),A=await wR(V,Y,24e3,1),te=Y.createBufferSource();te.buffer=A,te.connect(Y.destination);const fe=Y.currentTime,de=Math.max(fe,b.current);te.start(de),b.current=de+A.duration}catch(V){console.error("Audio decode error",V)}},onclose:()=>{l(!1)},onerror:W=>{s(W.message||"Connection error"),l(!1)}}});g.current=le}catch(X){console.error(X),s(X.message),l(!1)}},[e,t]),B=be.useCallback(()=>{S.current&&(S.current.getTracks().forEach(P=>P.stop()),S.current=null),_.current&&(_.current.disconnect(),_.current=null),T.current&&(T.current.disconnect(),T.current=null),h.current&&(h.current.close(),h.current=null),y.current&&(y.current.close(),y.current=null),l(!1),b.current=0},[]);return be.useEffect(()=>()=>{B()},[B]),{connect:D,disconnect:B,isConnected:i,error:a,micVolume:c}},Qa=e=>new iv({apiKey:e}),IR=async(e,t)=>{if(!t)return"Error: API Key is missing.";const i=Qa(t),a=`
    Based on the following full transcript, please generate a comprehensive final study guide in Traditional Chinese ().
    
    Structure your response using Markdown strictly as follows:
    
    #  (Executive Summary)
    [Provide a summary paragraph]

    #  (Key Takeaways)
    * [Key point 1]
    * [Key point 2]
    * [Key point 3]
    * [Key point 4]

    #  (Terminology)
    * **[Term 1]**: [Definition]
    * **[Term 2]**: [Definition]

    #  (Action Items)
    * [Action 1]
    * [Action 2]

    Transcript:
    ${e.filter(s=>s.text.trim().length>2).map(s=>`${s.speaker==="user"?"Source":"Translator"}: ${s.text}`).join(`
`)}
  `;try{return(await i.models.generateContent({model:"gemini-3-pro-preview",contents:a,config:{thinkingConfig:{thinkingBudget:1024}}})).text||"No summary generated."}catch(s){return console.error("Summary generation failed:",s),"Failed to generate summary."}},DR=async(e,t,i)=>{if(!t)return"Error: API Key missing";if(e.length<5)return"Not enough content to analyze yet.";const l=Qa(t),a=e.slice(-50).map(c=>`[${new Date(c.timestamp).toLocaleTimeString()}] ${c.speaker}: ${c.text}`).join(`
`),s=`
    You are an intelligent analyst assistant. 
    Analyze the recent transcript (Time: ${i}).
    
    Provide a concise "Pulse Check" in Traditional Chinese ().
    Use the following format exactly:
    
    #  (Current Topic)
    [One sentence summary]

    #  (Key Insights)
    * [Insight 1]
    * [Insight 2]
    
    Recent Context:
    ${a}
  `;try{return(await l.models.generateContent({model:"gemini-3-flash-preview",contents:s})).text||"Analysis unavailable."}catch(c){return console.error("Interval analysis failed",c),"Analysis failed."}},kR=async(e,t,i)=>{if(!t)return"Error: API Key missing";const l=Qa(t),a=e.map(c=>`[${new Date(c.timestamp).toLocaleTimeString()}] ${c.speaker}: ${c.text}`).join(`
`),s=`
      You are an expert academic summarizer.
      Analyze the transcript so far (${i}).
      
      Create a "Stage Summary" () in Traditional Chinese ().
      
      #  (Learning Path)
      [Brief paragraph on the flow of the lecture]

      #  (Core Concepts)
      * **[Concept 1]**: [Explanation]
      * **[Concept 2]**: [Explanation]
      * **[Concept 3]**: [Explanation]

      #  (Conclusion)
      [Brief conclusion]
      
      Full Transcript:
      ${a}
    `;try{return(await l.models.generateContent({model:"gemini-3-pro-preview",contents:s})).text||"Stage summary unavailable."}catch(c){return console.error("Stage summary failed",c),"Stage summary failed."}},UR=async(e,t,i,l="summary")=>{if(!i)return"Error: API Key is missing.";const a=Qa(i);let s="";l==="transcript"?s=`
          You are a professional transcriber. 
          Task: Listen to the attached audio and provide a highly accurate, verbatim transcript.
          
          Language rules:
          - If the audio is in a foreign language (English, Japanese, etc.), transcribe it and then provide a Traditional Chinese () translation for each section.
          - If the audio is already in Chinese, just provide the Traditional Chinese transcript.
          
          Format: 
          Use clear paragraph breaks. Label speakers if possible.
          
          Start with a Title: "# Audio Transcript / "
        `:s=`
          You are Smart Translate. Analyze the attached audio file.
          
          Generate a comprehensive study guide in Traditional Chinese () using this Markdown format:

          #  (Summary)
          [Overview paragraph]

          #  (Key Points)
          * [Point 1]
          * [Point 2]
          * [Point 3]

          #  (Detailed Notes)
          * **[Topic]**: [Details]
          * **[Topic]**: [Details]
        `;try{return(await a.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{mimeType:t,data:e}},{text:s}]}})).text||"Could not analyze audio file."}catch(c){return console.error("Audio analysis failed:",c),`Failed to analyze audio file. Error: ${c instanceof Error?c.message:String(c)}`}},LR=({volume:e})=>{const t=Math.min(Math.max(e/50,.1),1.5);return U.jsxs("div",{className:"flex items-center justify-center h-24 w-full relative overflow-hidden",children:[U.jsx("div",{className:"absolute rounded-full bg-indigo-500/10 blur-xl transition-all duration-300 ease-out",style:{width:`${12*t}rem`,height:`${12*t}rem`}}),U.jsx("div",{className:"absolute rounded-full bg-indigo-500/20 transition-all duration-100 ease-out border border-indigo-500/10",style:{width:`${8*t}rem`,height:`${8*t}rem`}}),U.jsx("div",{className:"absolute rounded-full bg-indigo-500/40 transition-all duration-75 ease-out backdrop-blur-sm",style:{width:`${5.5*t}rem`,height:`${5.5*t}rem`}}),U.jsx("div",{className:"z-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full w-16 h-16 flex items-center justify-center shadow-2xl shadow-indigo-500/50 animate-pulse ring-4 ring-white/20",children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white drop-shadow-md",children:[U.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),U.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),U.jsx("line",{x1:"12",x2:"12",y1:"19",y2:"22"})]})})]})};function ov(e){var t,i,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(i=ov(e[t]))&&(l&&(l+=" "),l+=i)}else for(i in e)e[i]&&(l&&(l+=" "),l+=i);return l}function Ti(){for(var e,t,i=0,l="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=ov(e))&&(l&&(l+=" "),l+=t);return l}const zR=({items:e})=>{const t=be.useRef(null);return be.useEffect(()=>{var i;(i=t.current)==null||i.scrollIntoView({behavior:"smooth"})},[e]),U.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 scrollbar-hide pb-32 md:pb-32",children:[e.length===0&&U.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-slate-400 mt-10 md:mt-0",children:[U.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:U.jsx(Bm,{size:32,className:"text-slate-300"})}),U.jsx("p",{className:"font-medium text-lg",children:"Listening for lecture audio..."}),U.jsx("p",{className:"text-sm mt-2 max-w-xs mx-auto",children:"Speak or play audio to begin real-time translation and transcription."})]}),e.map(i=>U.jsxs("div",{className:Ti("flex gap-4 group",i.speaker==="user"?"flex-row-reverse":"flex-row"),children:[i.speaker==="model"&&U.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg shadow-indigo-200 mt-1 ring-2 ring-white",children:U.jsx(Bm,{size:20,className:"text-white"})}),U.jsxs("div",{className:Ti("max-w-[85%] md:max-w-2xl px-6 py-4 text-sm md:text-base leading-relaxed shadow-sm transition-all duration-300 hover:shadow-md",i.speaker==="user"?"bg-gradient-to-br from-indigo-600 to-indigo-700 text-white rounded-2xl rounded-tr-sm":"bg-white/80 backdrop-blur-sm border border-indigo-50 text-slate-700 rounded-2xl rounded-tl-sm shadow-indigo-100",i.isPartial&&"opacity-80 animate-pulse"),children:[i.speaker==="model"&&U.jsx("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-indigo-50/50",children:U.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full font-bold uppercase tracking-wider border border-indigo-100",children:"AI Translation"})}),i.text]}),i.speaker==="user"&&U.jsx("div",{className:"w-10 h-10 rounded-2xl bg-slate-200 flex items-center justify-center flex-shrink-0 mt-1 shadow-inner",children:U.jsx(ZE,{size:20,className:"text-slate-500"})})]},i.id)),U.jsx("div",{ref:t})]})};function PR(e,t){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const HR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GR={};function Ay(e,t){return(GR.jsx?OR:HR).test(e)}const VR=/[ \t\n\f\r]/g;function qR(e){return typeof e=="object"?e.type==="text"?xy(e.value):!1:xy(e)}function xy(e){return e.replace(VR,"")===""}class nr{constructor(t,i,l){this.normal=i,this.property=t,l&&(this.space=l)}}nr.prototype.normal={};nr.prototype.property={};nr.prototype.space=void 0;function lv(e,t){const i={},l={};for(const a of e)Object.assign(i,a.property),Object.assign(l,a.normal);return new nr(i,l,t)}function Wc(e){return e.toLowerCase()}class Ht{constructor(t,i){this.attribute=i,this.property=t}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let BR=0;const xe=Fi(),st=Fi(),jc=Fi(),ne=Fi(),Xe=Fi(),Vo=Fi(),Kt=Fi();function Fi(){return 2**++BR}const ef=Object.freeze(Object.defineProperty({__proto__:null,boolean:xe,booleanish:st,commaOrSpaceSeparated:Kt,commaSeparated:Vo,number:ne,overloadedBoolean:jc,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),Ac=Object.keys(ef);class Tf extends Ht{constructor(t,i,l,a){let s=-1;if(super(t,i),by(this,"space",a),typeof l=="number")for(;++s<Ac.length;){const c=Ac[s];by(this,Ac[s],(l&ef[c])===ef[c])}}}Tf.prototype.defined=!0;function by(e,t,i){i&&(e[t]=i)}function Jo(e){const t={},i={};for(const[l,a]of Object.entries(e.properties)){const s=new Tf(l,e.transform(e.attributes||{},l),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(l)&&(s.mustUseProperty=!0),t[l]=s,i[Wc(l)]=l,i[Wc(s.attribute)]=l}return new nr(t,i,e.space)}const rv=Jo({properties:{ariaActiveDescendant:null,ariaAtomic:st,ariaAutoComplete:null,ariaBusy:st,ariaChecked:st,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:st,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:st,ariaFlowTo:Xe,ariaGrabbed:st,ariaHasPopup:null,ariaHidden:st,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:ne,ariaLive:null,ariaModal:st,ariaMultiLine:st,ariaMultiSelectable:st,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:st,ariaReadOnly:st,ariaRelevant:null,ariaRequired:st,ariaRoleDescription:Xe,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:st,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function av(e,t){return t in e?e[t]:t}function sv(e,t){return av(e,t.toLowerCase())}const FR=Jo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vo,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:xe,allowPaymentRequest:xe,allowUserMedia:xe,alt:null,as:null,async:xe,autoCapitalize:null,autoComplete:Xe,autoFocus:xe,autoPlay:xe,blocking:Xe,capture:null,charSet:null,checked:xe,cite:null,className:Xe,cols:ne,colSpan:null,content:null,contentEditable:st,controls:xe,controlsList:Xe,coords:ne|Vo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xe,defer:xe,dir:null,dirName:null,disabled:xe,download:jc,draggable:st,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xe,formTarget:null,headers:Xe,height:ne,hidden:jc,high:ne,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:xe,inputMode:null,integrity:null,is:null,isMap:xe,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:xe,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xe,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:xe,muted:xe,name:null,nonce:null,noModule:xe,noValidate:xe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xe,optimum:ne,pattern:null,ping:Xe,placeholder:null,playsInline:xe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xe,referrerPolicy:null,rel:Xe,required:xe,reversed:xe,rows:ne,rowSpan:ne,sandbox:Xe,scope:null,scoped:xe,seamless:xe,selected:xe,shadowRootClonable:xe,shadowRootDelegatesFocus:xe,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:st,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:xe,useMap:null,value:st,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xe,declare:xe,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:xe,noHref:xe,noShade:xe,noWrap:xe,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:st,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xe,disableRemotePlayback:xe,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:sv}),YR=Jo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kt,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:xe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vo,g2:Vo,glyphName:Vo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:Kt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kt,rev:Kt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kt,requiredFeatures:Kt,requiredFonts:Kt,requiredFormats:Kt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:Kt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kt,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:av}),uv=Jo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),cv=Jo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sv}),fv=Jo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),JR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},KR=/[A-Z]/g,wy=/-[a-z]/g,XR=/^data[-\w.:]+$/i;function QR(e,t){const i=Wc(t);let l=t,a=Ht;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&XR.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(wy,$R);l="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!wy.test(s)){let c=s.replace(KR,ZR);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}a=Tf}return new a(l,t)}function ZR(e){return"-"+e.toLowerCase()}function $R(e){return e.charAt(1).toUpperCase()}const WR=lv([rv,FR,uv,cv,fv],"html"),Ef=lv([rv,YR,uv,cv,fv],"svg");function jR(e){return e.join(" ").trim()}var Uo={},xc,Ry;function eM(){if(Ry)return xc;Ry=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,p=/^\s+|\s+$/g,g=`
`,h="/",y="*",S="",T="comment",_="declaration";function b(N,D){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];D=D||{};var B=1,P=1;function X(le){var W=le.match(t);W&&(B+=W.length);var z=le.lastIndexOf(g);P=~z?le.length-z:P+le.length}function j(){var le={line:B,column:P};return function(W){return W.position=new M(le),$(),W}}function M(le){this.start=le,this.end={line:B,column:P},this.source=D.source}M.prototype.content=N;function Y(le){var W=new Error(D.source+":"+B+":"+P+": "+le);if(W.reason=le,W.filename=D.source,W.line=B,W.column=P,W.source=N,!D.silent)throw W}function ue(le){var W=le.exec(N);if(W){var z=W[0];return X(z),N=N.slice(z.length),W}}function $(){ue(i)}function ae(le){var W;for(le=le||[];W=ee();)W!==!1&&le.push(W);return le}function ee(){var le=j();if(!(h!=N.charAt(0)||y!=N.charAt(1))){for(var W=2;S!=N.charAt(W)&&(y!=N.charAt(W)||h!=N.charAt(W+1));)++W;if(W+=2,S===N.charAt(W-1))return Y("End of comment missing");var z=N.slice(2,W-2);return P+=2,X(z),N=N.slice(W),P+=2,le({type:T,comment:z})}}function ie(){var le=j(),W=ue(l);if(W){if(ee(),!ue(a))return Y("property missing ':'");var z=ue(s),Z=le({type:_,property:I(W[0].replace(e,S)),value:z?I(z[0].replace(e,S)):S});return ue(c),Z}}function he(){var le=[];ae(le);for(var W;W=ie();)W!==!1&&(le.push(W),ae(le));return le}return $(),he()}function I(N){return N?N.replace(p,S):S}return xc=b,xc}var My;function tM(){if(My)return Uo;My=1;var e=Uo&&Uo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.default=i;const t=e(eM());function i(l,a){let s=null;if(!l||typeof l!="string")return s;const c=(0,t.default)(l),p=typeof a=="function";return c.forEach(g=>{if(g.type!=="declaration")return;const{property:h,value:y}=g;p?a(h,y,g):y&&(s=s||{},s[h]=y)}),s}return Uo}var Yl={},Ny;function nM(){if(Ny)return Yl;Ny=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(h){return!h||i.test(h)||e.test(h)},c=function(h,y){return y.toUpperCase()},p=function(h,y){return"".concat(y,"-")},g=function(h,y){return y===void 0&&(y={}),s(h)?h:(h=h.toLowerCase(),y.reactCompat?h=h.replace(a,p):h=h.replace(l,p),h.replace(t,c))};return Yl.camelCase=g,Yl}var Jl,Iy;function iM(){if(Iy)return Jl;Iy=1;var e=Jl&&Jl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(tM()),i=nM();function l(a,s){var c={};return!a||typeof a!="string"||(0,t.default)(a,function(p,g){p&&g&&(c[(0,i.camelCase)(p,s)]=g)}),c}return l.default=l,Jl=l,Jl}var oM=iM();const lM=qa(oM),dv=pv("end"),_f=pv("start");function pv(e){return t;function t(i){const l=i&&i.position&&i.position[e]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function rM(e){const t=_f(e),i=dv(e);if(t&&i)return{start:t,end:i}}function Zl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Dy(e.position):"start"in e||"end"in e?Dy(e):"line"in e||"column"in e?tf(e):""}function tf(e){return ky(e&&e.line)+":"+ky(e&&e.column)}function Dy(e){return tf(e&&e.start)+"-"+tf(e&&e.end)}function ky(e){return e&&typeof e=="number"?e:1}class _t extends Error{constructor(t,i,l){super(),typeof i=="string"&&(l=i,i=void 0);let a="",s={},c=!1;if(i&&("line"in i&&"column"in i?s={place:i}:"start"in i&&"end"in i?s={place:i}:"type"in i?s={ancestors:[i],place:i.position}:s={...i}),typeof t=="string"?a=t:!s.cause&&t&&(c=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof l=="string"){const g=l.indexOf(":");g===-1?s.ruleId=l:(s.source=l.slice(0,g),s.ruleId=l.slice(g+1))}if(!s.place&&s.ancestors&&s.ancestors){const g=s.ancestors[s.ancestors.length-1];g&&(s.place=g.position)}const p=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=p?p.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=p?p.line:void 0,this.name=Zl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=c&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_t.prototype.file="";_t.prototype.name="";_t.prototype.reason="";_t.prototype.message="";_t.prototype.stack="";_t.prototype.column=void 0;_t.prototype.line=void 0;_t.prototype.ancestors=void 0;_t.prototype.cause=void 0;_t.prototype.fatal=void 0;_t.prototype.place=void 0;_t.prototype.ruleId=void 0;_t.prototype.source=void 0;const Cf={}.hasOwnProperty,aM=new Map,sM=/[A-Z]/g,uM=new Set(["table","tbody","thead","tfoot","tr"]),cM=new Set(["td","th"]),hv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fM(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let l;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=SM(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=vM(i,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:l,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ef:WR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=mv(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function mv(e,t,i){if(t.type==="element")return dM(e,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return pM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mM(e,t,i);if(t.type==="mdxjsEsm")return hM(e,t);if(t.type==="root")return gM(e,t,i);if(t.type==="text")return yM(e,t)}function dM(e,t,i){const l=e.schema;let a=l;t.tagName.toLowerCase()==="svg"&&l.space==="html"&&(a=Ef,e.schema=a),e.ancestors.push(t);const s=yv(e,t.tagName,!1),c=TM(e,t);let p=xf(e,t);return uM.has(t.tagName)&&(p=p.filter(function(g){return typeof g=="string"?!qR(g):!0})),gv(e,c,s,t),Af(c,p),e.ancestors.pop(),e.schema=l,e.create(t,s,c,i)}function pM(e,t){if(t.data&&t.data.estree&&e.evaluater){const l=t.data.estree.body[0];return l.type,e.evaluater.evaluateExpression(l.expression)}tr(e,t.position)}function hM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);tr(e,t.position)}function mM(e,t,i){const l=e.schema;let a=l;t.name==="svg"&&l.space==="html"&&(a=Ef,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:yv(e,t.name,!0),c=EM(e,t),p=xf(e,t);return gv(e,c,s,t),Af(c,p),e.ancestors.pop(),e.schema=l,e.create(t,s,c,i)}function gM(e,t,i){const l={};return Af(l,xf(e,t)),e.create(t,e.Fragment,l,i)}function yM(e,t){return t.value}function gv(e,t,i,l){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(t.node=l)}function Af(e,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(e.children=i)}}function vM(e,t,i){return l;function l(a,s,c,p){const h=Array.isArray(c.children)?i:t;return p?h(s,c,p):h(s,c)}}function SM(e,t){return i;function i(l,a,s,c){const p=Array.isArray(s.children),g=_f(l);return t(a,s,c,p,{columnNumber:g?g.column-1:void 0,fileName:e,lineNumber:g?g.line:void 0},void 0)}}function TM(e,t){const i={};let l,a;for(a in t.properties)if(a!=="children"&&Cf.call(t.properties,a)){const s=_M(e,a,t.properties[a]);if(s){const[c,p]=s;e.tableCellAlignToStyle&&c==="align"&&typeof p=="string"&&cM.has(t.tagName)?l=p:i[c]=p}}if(l){const s=i.style||(i.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return i}function EM(e,t){const i={};for(const l of t.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&e.evaluater){const s=l.data.estree.body[0];s.type;const c=s.expression;c.type;const p=c.properties[0];p.type,Object.assign(i,e.evaluater.evaluateExpression(p.argument))}else tr(e,t.position);else{const a=l.name;let s;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&e.evaluater){const p=l.value.data.estree.body[0];p.type,s=e.evaluater.evaluateExpression(p.expression)}else tr(e,t.position);else s=l.value===null?!0:l.value;i[a]=s}return i}function xf(e,t){const i=[];let l=-1;const a=e.passKeys?new Map:aM;for(;++l<t.children.length;){const s=t.children[l];let c;if(e.passKeys){const g=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(g){const h=a.get(g)||0;c=g+"-"+h,a.set(g,h+1)}}const p=mv(e,s,c);p!==void 0&&i.push(p)}return i}function _M(e,t,i){const l=QR(e.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=l.commaSeparated?PR(i):jR(i)),l.property==="style"){let a=typeof i=="object"?i:CM(e,String(i));return e.stylePropertyNameCase==="css"&&(a=AM(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&l.space?JR[l.property]||l.property:l.attribute,i]}}function CM(e,t){try{return lM(t,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const l=i,a=new _t("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=hv+"#cannot-parse-style-attribute",a}}function yv(e,t,i){let l;if(!i)l={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,c;for(;++s<a.length;){const p=Ay(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};c=c?{type:"MemberExpression",object:c,property:p,computed:!!(s&&p.type==="Literal"),optional:!1}:p}l=c}else l=Ay(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(l.type==="Literal"){const a=l.value;return Cf.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(l);tr(e)}function tr(e,t){const i=new _t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=hv+"#cannot-handle-mdx-estrees-without-createevaluater",i}function AM(e){const t={};let i;for(i in e)Cf.call(e,i)&&(t[xM(i)]=e[i]);return t}function xM(e){let t=e.replace(sM,bM);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function bM(e){return"-"+e.toLowerCase()}const bc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},wM={};function RM(e,t){const i=wM,l=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,a=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return vv(e,l,a)}function vv(e,t,i){if(MM(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Uy(e.children,t,i)}return Array.isArray(e)?Uy(e,t,i):""}function Uy(e,t,i){const l=[];let a=-1;for(;++a<e.length;)l[a]=vv(e[a],t,i);return l.join("")}function MM(e){return!!(e&&typeof e=="object")}const Ly=document.createElement("i");function bf(e){const t="&"+e+";";Ly.innerHTML=t;const i=Ly.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===t?!1:i}function Cn(e,t,i,l){const a=e.length;let s=0,c;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,i=i>0?i:0,l.length<1e4)c=Array.from(l),c.unshift(t,i),e.splice(...c);else for(i&&e.splice(t,i);s<l.length;)c=l.slice(s,s+1e4),c.unshift(t,0),e.splice(...c),s+=1e4,t+=1e4}function an(e,t){return e.length>0?(Cn(e,e.length,0,t),e):t}const zy={}.hasOwnProperty;function NM(e){const t={};let i=-1;for(;++i<e.length;)IM(t,e[i]);return t}function IM(e,t){let i;for(i in t){const a=(zy.call(e,i)?e[i]:void 0)||(e[i]={}),s=t[i];let c;if(s)for(c in s){zy.call(a,c)||(a[c]=[]);const p=s[c];DM(a[c],Array.isArray(p)?p:p?[p]:[])}}}function DM(e,t){let i=-1;const l=[];for(;++i<t.length;)(t[i].add==="after"?e:l).push(t[i]);Cn(e,0,0,l)}function Sv(e,t){const i=Number.parseInt(e,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function qo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _n=Ci(/[A-Za-z]/),Xt=Ci(/[\dA-Za-z]/),kM=Ci(/[#-'*+\--9=?A-Z^-~]/);function nf(e){return e!==null&&(e<32||e===127)}const of=Ci(/\d/),UM=Ci(/[\dA-Fa-f]/),LM=Ci(/[!-/:-@[-`{-~]/);function Se(e){return e!==null&&e<-2}function Pt(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}const zM=Ci(new RegExp("\\p{P}|\\p{S}","u")),PM=Ci(/\s/);function Ci(e){return t;function t(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function Ko(e){const t=[];let i=-1,l=0,a=0;for(;++i<e.length;){const s=e.charCodeAt(i);let c="";if(s===37&&Xt(e.charCodeAt(i+1))&&Xt(e.charCodeAt(i+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(c=String.fromCharCode(s));else if(s>55295&&s<57344){const p=e.charCodeAt(i+1);s<56320&&p>56319&&p<57344?(c=String.fromCharCode(s,p),a=1):c=""}else c=String.fromCharCode(s);c&&(t.push(e.slice(l,i),encodeURIComponent(c)),l=i+a+1,c=""),a&&(i+=a,a=0)}return t.join("")+e.slice(l)}function Qe(e,t,i,l){const a=l?l-1:Number.POSITIVE_INFINITY;let s=0;return c;function c(g){return Oe(g)?(e.enter(i),p(g)):t(g)}function p(g){return Oe(g)&&s++<a?(e.consume(g),p):(e.exit(i),t(g))}}const HM={tokenize:OM};function OM(e){const t=e.attempt(this.parser.constructs.contentInitial,l,a);let i;return t;function l(p){if(p===null){e.consume(p);return}return e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Qe(e,t,"linePrefix")}function a(p){return e.enter("paragraph"),s(p)}function s(p){const g=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=g),i=g,c(p)}function c(p){if(p===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(p);return}return Se(p)?(e.consume(p),e.exit("chunkText"),s):(e.consume(p),c)}}const GM={tokenize:VM},Py={tokenize:qM};function VM(e){const t=this,i=[];let l=0,a,s,c;return p;function p(P){if(l<i.length){const X=i[l];return t.containerState=X[1],e.attempt(X[0].continuation,g,h)(P)}return h(P)}function g(P){if(l++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&B();const X=t.events.length;let j=X,M;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){M=t.events[j][1].end;break}D(l);let Y=X;for(;Y<t.events.length;)t.events[Y][1].end={...M},Y++;return Cn(t.events,j+1,0,t.events.slice(X)),t.events.length=Y,h(P)}return p(P)}function h(P){if(l===i.length){if(!a)return T(P);if(a.currentConstruct&&a.currentConstruct.concrete)return b(P);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Py,y,S)(P)}function y(P){return a&&B(),D(l),T(P)}function S(P){return t.parser.lazy[t.now().line]=l!==i.length,c=t.now().offset,b(P)}function T(P){return t.containerState={},e.attempt(Py,_,b)(P)}function _(P){return l++,i.push([t.currentConstruct,t.containerState]),T(P)}function b(P){if(P===null){a&&B(),D(0),e.consume(P);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),I(P)}function I(P){if(P===null){N(e.exit("chunkFlow"),!0),D(0),e.consume(P);return}return Se(P)?(e.consume(P),N(e.exit("chunkFlow")),l=0,t.interrupt=void 0,p):(e.consume(P),I)}function N(P,X){const j=t.sliceStream(P);if(X&&j.push(null),P.previous=s,s&&(s.next=P),s=P,a.defineSkip(P.start),a.write(j),t.parser.lazy[P.start.line]){let M=a.events.length;for(;M--;)if(a.events[M][1].start.offset<c&&(!a.events[M][1].end||a.events[M][1].end.offset>c))return;const Y=t.events.length;let ue=Y,$,ae;for(;ue--;)if(t.events[ue][0]==="exit"&&t.events[ue][1].type==="chunkFlow"){if($){ae=t.events[ue][1].end;break}$=!0}for(D(l),M=Y;M<t.events.length;)t.events[M][1].end={...ae},M++;Cn(t.events,ue+1,0,t.events.slice(Y)),t.events.length=M}}function D(P){let X=i.length;for(;X-- >P;){const j=i[X];t.containerState=j[1],j[0].exit.call(t,e)}i.length=P}function B(){a.write([null]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function qM(e,t,i){return Qe(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Hy(e){if(e===null||Pt(e)||PM(e))return 1;if(zM(e))return 2}function wf(e,t,i){const l=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!l.includes(s)&&(t=s(t,i),l.push(s))}return t}const lf={name:"attention",resolveAll:BM,tokenize:FM};function BM(e,t){let i=-1,l,a,s,c,p,g,h,y;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(l=i;l--;)if(e[l][0]==="exit"&&e[l][1].type==="attentionSequence"&&e[l][1]._open&&t.sliceSerialize(e[l][1]).charCodeAt(0)===t.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[l][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[l][1].end.offset-e[l][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;g=e[l][1].end.offset-e[l][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const S={...e[l][1].end},T={...e[i][1].start};Oy(S,-g),Oy(T,g),c={type:g>1?"strongSequence":"emphasisSequence",start:S,end:{...e[l][1].end}},p={type:g>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:T},s={type:g>1?"strongText":"emphasisText",start:{...e[l][1].end},end:{...e[i][1].start}},a={type:g>1?"strong":"emphasis",start:{...c.start},end:{...p.end}},e[l][1].end={...c.start},e[i][1].start={...p.end},h=[],e[l][1].end.offset-e[l][1].start.offset&&(h=an(h,[["enter",e[l][1],t],["exit",e[l][1],t]])),h=an(h,[["enter",a,t],["enter",c,t],["exit",c,t],["enter",s,t]]),h=an(h,wf(t.parser.constructs.insideSpan.null,e.slice(l+1,i),t)),h=an(h,[["exit",s,t],["enter",p,t],["exit",p,t],["exit",a,t]]),e[i][1].end.offset-e[i][1].start.offset?(y=2,h=an(h,[["enter",e[i][1],t],["exit",e[i][1],t]])):y=0,Cn(e,l-1,i-l+3,h),i=l+h.length-y-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function FM(e,t){const i=this.parser.constructs.attentionMarkers.null,l=this.previous,a=Hy(l);let s;return c;function c(g){return s=g,e.enter("attentionSequence"),p(g)}function p(g){if(g===s)return e.consume(g),p;const h=e.exit("attentionSequence"),y=Hy(g),S=!y||y===2&&a||i.includes(g),T=!a||a===2&&y||i.includes(l);return h._open=!!(s===42?S:S&&(a||!T)),h._close=!!(s===42?T:T&&(y||!S)),t(g)}}function Oy(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const YM={name:"autolink",tokenize:JM};function JM(e,t,i){let l=0;return a;function a(_){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(_){return _n(_)?(e.consume(_),c):_===64?i(_):h(_)}function c(_){return _===43||_===45||_===46||Xt(_)?(l=1,p(_)):h(_)}function p(_){return _===58?(e.consume(_),l=0,g):(_===43||_===45||_===46||Xt(_))&&l++<32?(e.consume(_),p):(l=0,h(_))}function g(_){return _===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):_===null||_===32||_===60||nf(_)?i(_):(e.consume(_),g)}function h(_){return _===64?(e.consume(_),y):kM(_)?(e.consume(_),h):i(_)}function y(_){return Xt(_)?S(_):i(_)}function S(_){return _===46?(e.consume(_),l=0,y):_===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):T(_)}function T(_){if((_===45||Xt(_))&&l++<63){const b=_===45?T:S;return e.consume(_),b}return i(_)}}const Za={partial:!0,tokenize:KM};function KM(e,t,i){return l;function l(s){return Oe(s)?Qe(e,a,"linePrefix")(s):a(s)}function a(s){return s===null||Se(s)?t(s):i(s)}}const Tv={continuation:{tokenize:QM},exit:ZM,name:"blockQuote",tokenize:XM};function XM(e,t,i){const l=this;return a;function a(c){if(c===62){const p=l.containerState;return p.open||(e.enter("blockQuote",{_container:!0}),p.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),s}return i(c)}function s(c){return Oe(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function QM(e,t,i){const l=this;return a;function a(c){return Oe(c)?Qe(e,s,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):s(c)}function s(c){return e.attempt(Tv,t,i)(c)}}function ZM(e){e.exit("blockQuote")}const Ev={name:"characterEscape",tokenize:$M};function $M(e,t,i){return l;function l(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),a}function a(s){return LM(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(s)}}const _v={name:"characterReference",tokenize:WM};function WM(e,t,i){const l=this;let a=0,s,c;return p;function p(S){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(S),e.exit("characterReferenceMarker"),g}function g(S){return S===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(S),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),s=31,c=Xt,y(S))}function h(S){return S===88||S===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(S),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,c=UM,y):(e.enter("characterReferenceValue"),s=7,c=of,y(S))}function y(S){if(S===59&&a){const T=e.exit("characterReferenceValue");return c===Xt&&!bf(l.sliceSerialize(T))?i(S):(e.enter("characterReferenceMarker"),e.consume(S),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(S)&&a++<s?(e.consume(S),y):i(S)}}const Gy={partial:!0,tokenize:eN},Vy={concrete:!0,name:"codeFenced",tokenize:jM};function jM(e,t,i){const l=this,a={partial:!0,tokenize:j};let s=0,c=0,p;return g;function g(M){return h(M)}function h(M){const Y=l.events[l.events.length-1];return s=Y&&Y[1].type==="linePrefix"?Y[2].sliceSerialize(Y[1],!0).length:0,p=M,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(M)}function y(M){return M===p?(c++,e.consume(M),y):c<3?i(M):(e.exit("codeFencedFenceSequence"),Oe(M)?Qe(e,S,"whitespace")(M):S(M))}function S(M){return M===null||Se(M)?(e.exit("codeFencedFence"),l.interrupt?t(M):e.check(Gy,I,X)(M)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(M))}function T(M){return M===null||Se(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),S(M)):Oe(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qe(e,_,"whitespace")(M)):M===96&&M===p?i(M):(e.consume(M),T)}function _(M){return M===null||Se(M)?S(M):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(M))}function b(M){return M===null||Se(M)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),S(M)):M===96&&M===p?i(M):(e.consume(M),b)}function I(M){return e.attempt(a,X,N)(M)}function N(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),D}function D(M){return s>0&&Oe(M)?Qe(e,B,"linePrefix",s+1)(M):B(M)}function B(M){return M===null||Se(M)?e.check(Gy,I,X)(M):(e.enter("codeFlowValue"),P(M))}function P(M){return M===null||Se(M)?(e.exit("codeFlowValue"),B(M)):(e.consume(M),P)}function X(M){return e.exit("codeFenced"),t(M)}function j(M,Y,ue){let $=0;return ae;function ae(W){return M.enter("lineEnding"),M.consume(W),M.exit("lineEnding"),ee}function ee(W){return M.enter("codeFencedFence"),Oe(W)?Qe(M,ie,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):ie(W)}function ie(W){return W===p?(M.enter("codeFencedFenceSequence"),he(W)):ue(W)}function he(W){return W===p?($++,M.consume(W),he):$>=c?(M.exit("codeFencedFenceSequence"),Oe(W)?Qe(M,le,"whitespace")(W):le(W)):ue(W)}function le(W){return W===null||Se(W)?(M.exit("codeFencedFence"),Y(W)):ue(W)}}}function eN(e,t,i){const l=this;return a;function a(c){return c===null?i(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s)}function s(c){return l.parser.lazy[l.now().line]?i(c):t(c)}}const wc={name:"codeIndented",tokenize:nN},tN={partial:!0,tokenize:iN};function nN(e,t,i){const l=this;return a;function a(h){return e.enter("codeIndented"),Qe(e,s,"linePrefix",5)(h)}function s(h){const y=l.events[l.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(h):i(h)}function c(h){return h===null?g(h):Se(h)?e.attempt(tN,c,g)(h):(e.enter("codeFlowValue"),p(h))}function p(h){return h===null||Se(h)?(e.exit("codeFlowValue"),c(h)):(e.consume(h),p)}function g(h){return e.exit("codeIndented"),t(h)}}function iN(e,t,i){const l=this;return a;function a(c){return l.parser.lazy[l.now().line]?i(c):Se(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a):Qe(e,s,"linePrefix",5)(c)}function s(c){const p=l.events[l.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?t(c):Se(c)?a(c):i(c)}}const oN={name:"codeText",previous:rN,resolve:lN,tokenize:aN};function lN(e){let t=e.length-4,i=3,l,a;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(l=i;++l<t;)if(e[l][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(l=i-1,t++;++l<=t;)a===void 0?l!==t&&e[l][1].type!=="lineEnding"&&(a=l):(l===t||e[l][1].type==="lineEnding")&&(e[a][1].type="codeTextData",l!==a+2&&(e[a][1].end=e[l-1][1].end,e.splice(a+2,l-a-2),t-=l-a-2,l=a+2),a=void 0);return e}function rN(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aN(e,t,i){let l=0,a,s;return c;function c(S){return e.enter("codeText"),e.enter("codeTextSequence"),p(S)}function p(S){return S===96?(e.consume(S),l++,p):(e.exit("codeTextSequence"),g(S))}function g(S){return S===null?i(S):S===32?(e.enter("space"),e.consume(S),e.exit("space"),g):S===96?(s=e.enter("codeTextSequence"),a=0,y(S)):Se(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),g):(e.enter("codeTextData"),h(S))}function h(S){return S===null||S===32||S===96||Se(S)?(e.exit("codeTextData"),g(S)):(e.consume(S),h)}function y(S){return S===96?(e.consume(S),a++,y):a===l?(e.exit("codeTextSequence"),e.exit("codeText"),t(S)):(s.type="codeTextData",h(S))}}class sN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const l=i??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(t,l):t>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(t,i,l){const a=i||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return l&&Kl(this.left,l),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Kl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Kl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);Kl(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Kl(this.left,i.reverse())}}}function Kl(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function Cv(e){const t={};let i=-1,l,a,s,c,p,g,h;const y=new sN(e);for(;++i<y.length;){for(;i in t;)i=t[i];if(l=y.get(i),i&&l[1].type==="chunkFlow"&&y.get(i-1)[1].type==="listItemPrefix"&&(g=l[1]._tokenizer.events,s=0,s<g.length&&g[s][1].type==="lineEndingBlank"&&(s+=2),s<g.length&&g[s][1].type==="content"))for(;++s<g.length&&g[s][1].type!=="content";)g[s][1].type==="chunkText"&&(g[s][1]._isInFirstContentOfListItem=!0,s++);if(l[0]==="enter")l[1].contentType&&(Object.assign(t,uN(y,i)),i=t[i],h=!0);else if(l[1]._container){for(s=i,a=void 0;s--;)if(c=y.get(s),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=s);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(l[1].end={...y.get(a)[1].start},p=y.slice(a,i),p.unshift(l),y.splice(a,i-a+1,p))}}return Cn(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!h}function uN(e,t){const i=e.get(t)[1],l=e.get(t)[2];let a=t-1;const s=[];let c=i._tokenizer;c||(c=l.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const p=c.events,g=[],h={};let y,S,T=-1,_=i,b=0,I=0;const N=[I];for(;_;){for(;e.get(++a)[1]!==_;);s.push(a),_._tokenizer||(y=l.sliceStream(_),_.next||y.push(null),S&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),S=_,_=_.next}for(_=i;++T<p.length;)p[T][0]==="exit"&&p[T-1][0]==="enter"&&p[T][1].type===p[T-1][1].type&&p[T][1].start.line!==p[T][1].end.line&&(I=T+1,N.push(I),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):N.pop(),T=N.length;T--;){const D=p.slice(N[T],N[T+1]),B=s.pop();g.push([B,B+D.length-1]),e.splice(B,2,D)}for(g.reverse(),T=-1;++T<g.length;)h[b+g[T][0]]=b+g[T][1],b+=g[T][1]-g[T][0]-1;return h}const cN={resolve:dN,tokenize:pN},fN={partial:!0,tokenize:hN};function dN(e){return Cv(e),e}function pN(e,t){let i;return l;function l(p){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),a(p)}function a(p){return p===null?s(p):Se(p)?e.check(fN,c,s)(p):(e.consume(p),a)}function s(p){return e.exit("chunkContent"),e.exit("content"),t(p)}function c(p){return e.consume(p),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,a}}function hN(e,t,i){const l=this;return a;function a(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Qe(e,s,"linePrefix")}function s(c){if(c===null||Se(c))return i(c);const p=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?t(c):e.interrupt(l.parser.constructs.flow,i,t)(c)}}function Av(e,t,i,l,a,s,c,p,g){const h=g||Number.POSITIVE_INFINITY;let y=0;return S;function S(D){return D===60?(e.enter(l),e.enter(a),e.enter(s),e.consume(D),e.exit(s),T):D===null||D===32||D===41||nf(D)?i(D):(e.enter(l),e.enter(c),e.enter(p),e.enter("chunkString",{contentType:"string"}),I(D))}function T(D){return D===62?(e.enter(s),e.consume(D),e.exit(s),e.exit(a),e.exit(l),t):(e.enter(p),e.enter("chunkString",{contentType:"string"}),_(D))}function _(D){return D===62?(e.exit("chunkString"),e.exit(p),T(D)):D===null||D===60||Se(D)?i(D):(e.consume(D),D===92?b:_)}function b(D){return D===60||D===62||D===92?(e.consume(D),_):_(D)}function I(D){return!y&&(D===null||D===41||Pt(D))?(e.exit("chunkString"),e.exit(p),e.exit(c),e.exit(l),t(D)):y<h&&D===40?(e.consume(D),y++,I):D===41?(e.consume(D),y--,I):D===null||D===32||D===40||nf(D)?i(D):(e.consume(D),D===92?N:I)}function N(D){return D===40||D===41||D===92?(e.consume(D),I):I(D)}}function xv(e,t,i,l,a,s){const c=this;let p=0,g;return h;function h(_){return e.enter(l),e.enter(a),e.consume(_),e.exit(a),e.enter(s),y}function y(_){return p>999||_===null||_===91||_===93&&!g||_===94&&!p&&"_hiddenFootnoteSupport"in c.parser.constructs?i(_):_===93?(e.exit(s),e.enter(a),e.consume(_),e.exit(a),e.exit(l),t):Se(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),S(_))}function S(_){return _===null||_===91||_===93||Se(_)||p++>999?(e.exit("chunkString"),y(_)):(e.consume(_),g||(g=!Oe(_)),_===92?T:S)}function T(_){return _===91||_===92||_===93?(e.consume(_),p++,S):S(_)}}function bv(e,t,i,l,a,s){let c;return p;function p(T){return T===34||T===39||T===40?(e.enter(l),e.enter(a),e.consume(T),e.exit(a),c=T===40?41:T,g):i(T)}function g(T){return T===c?(e.enter(a),e.consume(T),e.exit(a),e.exit(l),t):(e.enter(s),h(T))}function h(T){return T===c?(e.exit(s),g(c)):T===null?i(T):Se(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Qe(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===c||T===null||Se(T)?(e.exit("chunkString"),h(T)):(e.consume(T),T===92?S:y)}function S(T){return T===c||T===92?(e.consume(T),y):y(T)}}function $l(e,t){let i;return l;function l(a){return Se(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i=!0,l):Oe(a)?Qe(e,l,i?"linePrefix":"lineSuffix")(a):t(a)}}const mN={name:"definition",tokenize:yN},gN={partial:!0,tokenize:vN};function yN(e,t,i){const l=this;let a;return s;function s(_){return e.enter("definition"),c(_)}function c(_){return xv.call(l,e,p,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function p(_){return a=qo(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),_===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),g):i(_)}function g(_){return Pt(_)?$l(e,h)(_):h(_)}function h(_){return Av(e,y,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function y(_){return e.attempt(gN,S,S)(_)}function S(_){return Oe(_)?Qe(e,T,"whitespace")(_):T(_)}function T(_){return _===null||Se(_)?(e.exit("definition"),l.parser.defined.push(a),t(_)):i(_)}}function vN(e,t,i){return l;function l(p){return Pt(p)?$l(e,a)(p):i(p)}function a(p){return bv(e,s,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function s(p){return Oe(p)?Qe(e,c,"whitespace")(p):c(p)}function c(p){return p===null||Se(p)?t(p):i(p)}}const SN={name:"hardBreakEscape",tokenize:TN};function TN(e,t,i){return l;function l(s){return e.enter("hardBreakEscape"),e.consume(s),a}function a(s){return Se(s)?(e.exit("hardBreakEscape"),t(s)):i(s)}}const EN={name:"headingAtx",resolve:_N,tokenize:CN};function _N(e,t){let i=e.length-2,l=3,a,s;return e[l][1].type==="whitespace"&&(l+=2),i-2>l&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(l===i-1||i-4>l&&e[i-2][1].type==="whitespace")&&(i-=l+1===i?2:4),i>l&&(a={type:"atxHeadingText",start:e[l][1].start,end:e[i][1].end},s={type:"chunkText",start:e[l][1].start,end:e[i][1].end,contentType:"text"},Cn(e,l,i-l+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function CN(e,t,i){let l=0;return a;function a(y){return e.enter("atxHeading"),s(y)}function s(y){return e.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&l++<6?(e.consume(y),c):y===null||Pt(y)?(e.exit("atxHeadingSequence"),p(y)):i(y)}function p(y){return y===35?(e.enter("atxHeadingSequence"),g(y)):y===null||Se(y)?(e.exit("atxHeading"),t(y)):Oe(y)?Qe(e,p,"whitespace")(y):(e.enter("atxHeadingText"),h(y))}function g(y){return y===35?(e.consume(y),g):(e.exit("atxHeadingSequence"),p(y))}function h(y){return y===null||y===35||Pt(y)?(e.exit("atxHeadingText"),p(y)):(e.consume(y),h)}}const AN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qy=["pre","script","style","textarea"],xN={concrete:!0,name:"htmlFlow",resolveTo:RN,tokenize:MN},bN={partial:!0,tokenize:IN},wN={partial:!0,tokenize:NN};function RN(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function MN(e,t,i){const l=this;let a,s,c,p,g;return h;function h(A){return y(A)}function y(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),S}function S(A){return A===33?(e.consume(A),T):A===47?(e.consume(A),s=!0,I):A===63?(e.consume(A),a=3,l.interrupt?t:w):_n(A)?(e.consume(A),c=String.fromCharCode(A),N):i(A)}function T(A){return A===45?(e.consume(A),a=2,_):A===91?(e.consume(A),a=5,p=0,b):_n(A)?(e.consume(A),a=4,l.interrupt?t:w):i(A)}function _(A){return A===45?(e.consume(A),l.interrupt?t:w):i(A)}function b(A){const te="CDATA[";return A===te.charCodeAt(p++)?(e.consume(A),p===te.length?l.interrupt?t:ie:b):i(A)}function I(A){return _n(A)?(e.consume(A),c=String.fromCharCode(A),N):i(A)}function N(A){if(A===null||A===47||A===62||Pt(A)){const te=A===47,fe=c.toLowerCase();return!te&&!s&&qy.includes(fe)?(a=1,l.interrupt?t(A):ie(A)):AN.includes(c.toLowerCase())?(a=6,te?(e.consume(A),D):l.interrupt?t(A):ie(A)):(a=7,l.interrupt&&!l.parser.lazy[l.now().line]?i(A):s?B(A):P(A))}return A===45||Xt(A)?(e.consume(A),c+=String.fromCharCode(A),N):i(A)}function D(A){return A===62?(e.consume(A),l.interrupt?t:ie):i(A)}function B(A){return Oe(A)?(e.consume(A),B):ae(A)}function P(A){return A===47?(e.consume(A),ae):A===58||A===95||_n(A)?(e.consume(A),X):Oe(A)?(e.consume(A),P):ae(A)}function X(A){return A===45||A===46||A===58||A===95||Xt(A)?(e.consume(A),X):j(A)}function j(A){return A===61?(e.consume(A),M):Oe(A)?(e.consume(A),j):P(A)}function M(A){return A===null||A===60||A===61||A===62||A===96?i(A):A===34||A===39?(e.consume(A),g=A,Y):Oe(A)?(e.consume(A),M):ue(A)}function Y(A){return A===g?(e.consume(A),g=null,$):A===null||Se(A)?i(A):(e.consume(A),Y)}function ue(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Pt(A)?j(A):(e.consume(A),ue)}function $(A){return A===47||A===62||Oe(A)?P(A):i(A)}function ae(A){return A===62?(e.consume(A),ee):i(A)}function ee(A){return A===null||Se(A)?ie(A):Oe(A)?(e.consume(A),ee):i(A)}function ie(A){return A===45&&a===2?(e.consume(A),z):A===60&&a===1?(e.consume(A),Z):A===62&&a===4?(e.consume(A),x):A===63&&a===3?(e.consume(A),w):A===93&&a===5?(e.consume(A),ve):Se(A)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(bN,V,he)(A)):A===null||Se(A)?(e.exit("htmlFlowData"),he(A)):(e.consume(A),ie)}function he(A){return e.check(wN,le,V)(A)}function le(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),W}function W(A){return A===null||Se(A)?he(A):(e.enter("htmlFlowData"),ie(A))}function z(A){return A===45?(e.consume(A),w):ie(A)}function Z(A){return A===47?(e.consume(A),c="",re):ie(A)}function re(A){if(A===62){const te=c.toLowerCase();return qy.includes(te)?(e.consume(A),x):ie(A)}return _n(A)&&c.length<8?(e.consume(A),c+=String.fromCharCode(A),re):ie(A)}function ve(A){return A===93?(e.consume(A),w):ie(A)}function w(A){return A===62?(e.consume(A),x):A===45&&a===2?(e.consume(A),w):ie(A)}function x(A){return A===null||Se(A)?(e.exit("htmlFlowData"),V(A)):(e.consume(A),x)}function V(A){return e.exit("htmlFlow"),t(A)}}function NN(e,t,i){const l=this;return a;function a(c){return Se(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):i(c)}function s(c){return l.parser.lazy[l.now().line]?i(c):t(c)}}function IN(e,t,i){return l;function l(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Za,t,i)}}const DN={name:"htmlText",tokenize:kN};function kN(e,t,i){const l=this;let a,s,c;return p;function p(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),g}function g(w){return w===33?(e.consume(w),h):w===47?(e.consume(w),j):w===63?(e.consume(w),P):_n(w)?(e.consume(w),ue):i(w)}function h(w){return w===45?(e.consume(w),y):w===91?(e.consume(w),s=0,b):_n(w)?(e.consume(w),B):i(w)}function y(w){return w===45?(e.consume(w),_):i(w)}function S(w){return w===null?i(w):w===45?(e.consume(w),T):Se(w)?(c=S,Z(w)):(e.consume(w),S)}function T(w){return w===45?(e.consume(w),_):S(w)}function _(w){return w===62?z(w):w===45?T(w):S(w)}function b(w){const x="CDATA[";return w===x.charCodeAt(s++)?(e.consume(w),s===x.length?I:b):i(w)}function I(w){return w===null?i(w):w===93?(e.consume(w),N):Se(w)?(c=I,Z(w)):(e.consume(w),I)}function N(w){return w===93?(e.consume(w),D):I(w)}function D(w){return w===62?z(w):w===93?(e.consume(w),D):I(w)}function B(w){return w===null||w===62?z(w):Se(w)?(c=B,Z(w)):(e.consume(w),B)}function P(w){return w===null?i(w):w===63?(e.consume(w),X):Se(w)?(c=P,Z(w)):(e.consume(w),P)}function X(w){return w===62?z(w):P(w)}function j(w){return _n(w)?(e.consume(w),M):i(w)}function M(w){return w===45||Xt(w)?(e.consume(w),M):Y(w)}function Y(w){return Se(w)?(c=Y,Z(w)):Oe(w)?(e.consume(w),Y):z(w)}function ue(w){return w===45||Xt(w)?(e.consume(w),ue):w===47||w===62||Pt(w)?$(w):i(w)}function $(w){return w===47?(e.consume(w),z):w===58||w===95||_n(w)?(e.consume(w),ae):Se(w)?(c=$,Z(w)):Oe(w)?(e.consume(w),$):z(w)}function ae(w){return w===45||w===46||w===58||w===95||Xt(w)?(e.consume(w),ae):ee(w)}function ee(w){return w===61?(e.consume(w),ie):Se(w)?(c=ee,Z(w)):Oe(w)?(e.consume(w),ee):$(w)}function ie(w){return w===null||w===60||w===61||w===62||w===96?i(w):w===34||w===39?(e.consume(w),a=w,he):Se(w)?(c=ie,Z(w)):Oe(w)?(e.consume(w),ie):(e.consume(w),le)}function he(w){return w===a?(e.consume(w),a=void 0,W):w===null?i(w):Se(w)?(c=he,Z(w)):(e.consume(w),he)}function le(w){return w===null||w===34||w===39||w===60||w===61||w===96?i(w):w===47||w===62||Pt(w)?$(w):(e.consume(w),le)}function W(w){return w===47||w===62||Pt(w)?$(w):i(w)}function z(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):i(w)}function Z(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),re}function re(w){return Oe(w)?Qe(e,ve,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ve(w)}function ve(w){return e.enter("htmlTextData"),c(w)}}const Rf={name:"labelEnd",resolveAll:PN,resolveTo:HN,tokenize:ON},UN={tokenize:GN},LN={tokenize:VN},zN={tokenize:qN};function PN(e){let t=-1;const i=[];for(;++t<e.length;){const l=e[t][1];if(i.push(e[t]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const a=l.type==="labelImage"?4:2;l.type="data",t+=a}}return e.length!==i.length&&Cn(e,0,e.length,i),e}function HN(e,t){let i=e.length,l=0,a,s,c,p;for(;i--;)if(a=e[i][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[i][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(e[i][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=i,a.type!=="labelLink")){l=2;break}}else a.type==="labelEnd"&&(c=i);const g={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[s][1].start},end:{...e[c][1].end}},y={type:"labelText",start:{...e[s+l+2][1].end},end:{...e[c-2][1].start}};return p=[["enter",g,t],["enter",h,t]],p=an(p,e.slice(s+1,s+l+3)),p=an(p,[["enter",y,t]]),p=an(p,wf(t.parser.constructs.insideSpan.null,e.slice(s+l+4,c-3),t)),p=an(p,[["exit",y,t],e[c-2],e[c-1],["exit",h,t]]),p=an(p,e.slice(c+1)),p=an(p,[["exit",g,t]]),Cn(e,s,e.length,p),e}function ON(e,t,i){const l=this;let a=l.events.length,s,c;for(;a--;)if((l.events[a][1].type==="labelImage"||l.events[a][1].type==="labelLink")&&!l.events[a][1]._balanced){s=l.events[a][1];break}return p;function p(T){return s?s._inactive?S(T):(c=l.parser.defined.includes(qo(l.sliceSerialize({start:s.end,end:l.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),g):i(T)}function g(T){return T===40?e.attempt(UN,y,c?y:S)(T):T===91?e.attempt(LN,y,c?h:S)(T):c?y(T):S(T)}function h(T){return e.attempt(zN,y,S)(T)}function y(T){return t(T)}function S(T){return s._balanced=!0,i(T)}}function GN(e,t,i){return l;function l(S){return e.enter("resource"),e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),a}function a(S){return Pt(S)?$l(e,s)(S):s(S)}function s(S){return S===41?y(S):Av(e,c,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function c(S){return Pt(S)?$l(e,g)(S):y(S)}function p(S){return i(S)}function g(S){return S===34||S===39||S===40?bv(e,h,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):y(S)}function h(S){return Pt(S)?$l(e,y)(S):y(S)}function y(S){return S===41?(e.enter("resourceMarker"),e.consume(S),e.exit("resourceMarker"),e.exit("resource"),t):i(S)}}function VN(e,t,i){const l=this;return a;function a(p){return xv.call(l,e,s,c,"reference","referenceMarker","referenceString")(p)}function s(p){return l.parser.defined.includes(qo(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?t(p):i(p)}function c(p){return i(p)}}function qN(e,t,i){return l;function l(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),a}function a(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):i(s)}}const BN={name:"labelStartImage",resolveAll:Rf.resolveAll,tokenize:FN};function FN(e,t,i){const l=this;return a;function a(p){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(p),e.exit("labelImageMarker"),s}function s(p){return p===91?(e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelImage"),c):i(p)}function c(p){return p===94&&"_hiddenFootnoteSupport"in l.parser.constructs?i(p):t(p)}}const YN={name:"labelStartLink",resolveAll:Rf.resolveAll,tokenize:JN};function JN(e,t,i){const l=this;return a;function a(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),s}function s(c){return c===94&&"_hiddenFootnoteSupport"in l.parser.constructs?i(c):t(c)}}const Rc={name:"lineEnding",tokenize:KN};function KN(e,t){return i;function i(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Qe(e,t,"linePrefix")}}const Ua={name:"thematicBreak",tokenize:XN};function XN(e,t,i){let l=0,a;return s;function s(h){return e.enter("thematicBreak"),c(h)}function c(h){return a=h,p(h)}function p(h){return h===a?(e.enter("thematicBreakSequence"),g(h)):l>=3&&(h===null||Se(h))?(e.exit("thematicBreak"),t(h)):i(h)}function g(h){return h===a?(e.consume(h),l++,g):(e.exit("thematicBreakSequence"),Oe(h)?Qe(e,p,"whitespace")(h):p(h))}}const zt={continuation:{tokenize:WN},exit:eI,name:"list",tokenize:$N},QN={partial:!0,tokenize:tI},ZN={partial:!0,tokenize:jN};function $N(e,t,i){const l=this,a=l.events[l.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return p;function p(_){const b=l.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!l.containerState.marker||_===l.containerState.marker:of(_)){if(l.containerState.type||(l.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),_===42||_===45?e.check(Ua,i,h)(_):h(_);if(!l.interrupt||_===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),g(_)}return i(_)}function g(_){return of(_)&&++c<10?(e.consume(_),g):(!l.interrupt||c<2)&&(l.containerState.marker?_===l.containerState.marker:_===41||_===46)?(e.exit("listItemValue"),h(_)):i(_)}function h(_){return e.enter("listItemMarker"),e.consume(_),e.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||_,e.check(Za,l.interrupt?i:y,e.attempt(QN,T,S))}function y(_){return l.containerState.initialBlankLine=!0,s++,T(_)}function S(_){return Oe(_)?(e.enter("listItemPrefixWhitespace"),e.consume(_),e.exit("listItemPrefixWhitespace"),T):i(_)}function T(_){return l.containerState.size=s+l.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(_)}}function WN(e,t,i){const l=this;return l.containerState._closeFlow=void 0,e.check(Za,a,s);function a(p){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,Qe(e,t,"listItemIndent",l.containerState.size+1)(p)}function s(p){return l.containerState.furtherBlankLines||!Oe(p)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,c(p)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,e.attempt(ZN,t,c)(p))}function c(p){return l.containerState._closeFlow=!0,l.interrupt=void 0,Qe(e,e.attempt(zt,t,i),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function jN(e,t,i){const l=this;return Qe(e,a,"listItemIndent",l.containerState.size+1);function a(s){const c=l.events[l.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===l.containerState.size?t(s):i(s)}}function eI(e){e.exit(this.containerState.type)}function tI(e,t,i){const l=this;return Qe(e,a,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(s){const c=l.events[l.events.length-1];return!Oe(s)&&c&&c[1].type==="listItemPrefixWhitespace"?t(s):i(s)}}const By={name:"setextUnderline",resolveTo:nI,tokenize:iI};function nI(e,t){let i=e.length,l,a,s;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){l=i;break}e[i][1].type==="paragraph"&&(a=i)}else e[i][1].type==="content"&&e.splice(i,1),!s&&e[i][1].type==="definition"&&(s=i);const c={type:"setextHeading",start:{...e[l][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",s?(e.splice(a,0,["enter",c,t]),e.splice(s+1,0,["exit",e[l][1],t]),e[l][1].end={...e[s][1].end}):e[l][1]=c,e.push(["exit",c,t]),e}function iI(e,t,i){const l=this;let a;return s;function s(h){let y=l.events.length,S;for(;y--;)if(l.events[y][1].type!=="lineEnding"&&l.events[y][1].type!=="linePrefix"&&l.events[y][1].type!=="content"){S=l.events[y][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||S)?(e.enter("setextHeadingLine"),a=h,c(h)):i(h)}function c(h){return e.enter("setextHeadingLineSequence"),p(h)}function p(h){return h===a?(e.consume(h),p):(e.exit("setextHeadingLineSequence"),Oe(h)?Qe(e,g,"lineSuffix")(h):g(h))}function g(h){return h===null||Se(h)?(e.exit("setextHeadingLine"),t(h)):i(h)}}const oI={tokenize:lI};function lI(e){const t=this,i=e.attempt(Za,l,e.attempt(this.parser.constructs.flowInitial,a,Qe(e,e.attempt(this.parser.constructs.flow,a,e.attempt(cN,a)),"linePrefix")));return i;function l(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,i}}const rI={resolveAll:Rv()},aI=wv("string"),sI=wv("text");function wv(e){return{resolveAll:Rv(e==="text"?uI:void 0),tokenize:t};function t(i){const l=this,a=this.parser.constructs[e],s=i.attempt(a,c,p);return c;function c(y){return h(y)?s(y):p(y)}function p(y){if(y===null){i.consume(y);return}return i.enter("data"),i.consume(y),g}function g(y){return h(y)?(i.exit("data"),s(y)):(i.consume(y),g)}function h(y){if(y===null)return!0;const S=a[y];let T=-1;if(S)for(;++T<S.length;){const _=S[T];if(!_.previous||_.previous.call(l,l.previous))return!0}return!1}}}function Rv(e){return t;function t(i,l){let a=-1,s;for(;++a<=i.length;)s===void 0?i[a]&&i[a][1].type==="data"&&(s=a,a++):(!i[a]||i[a][1].type!=="data")&&(a!==s+2&&(i[s][1].end=i[a-1][1].end,i.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(i,l):i}}function uI(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const l=e[i-1][1],a=t.sliceStream(l);let s=a.length,c=-1,p=0,g;for(;s--;){const h=a[s];if(typeof h=="string"){for(c=h.length;h.charCodeAt(c-1)===32;)p++,c--;if(c)break;c=-1}else if(h===-2)g=!0,p++;else if(h!==-1){s++;break}}if(t._contentTypeTextTrailing&&i===e.length&&(p=0),p){const h={type:i===e.length||g||p<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?c:l.start._bufferIndex+c,_index:l.start._index+s,line:l.end.line,column:l.end.column-p,offset:l.end.offset-p},end:{...l.end}};l.end={...h.start},l.start.offset===l.end.offset?Object.assign(l,h):(e.splice(i,0,["enter",h,t],["exit",h,t]),i+=2)}i++}return e}const cI={42:zt,43:zt,45:zt,48:zt,49:zt,50:zt,51:zt,52:zt,53:zt,54:zt,55:zt,56:zt,57:zt,62:Tv},fI={91:mN},dI={[-2]:wc,[-1]:wc,32:wc},pI={35:EN,42:Ua,45:[By,Ua],60:xN,61:By,95:Ua,96:Vy,126:Vy},hI={38:_v,92:Ev},mI={[-5]:Rc,[-4]:Rc,[-3]:Rc,33:BN,38:_v,42:lf,60:[YM,DN],91:YN,92:[SN,Ev],93:Rf,95:lf,96:oN},gI={null:[lf,rI]},yI={null:[42,95]},vI={null:[]},SI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yI,contentInitial:fI,disable:vI,document:cI,flow:pI,flowInitial:dI,insideSpan:gI,string:hI,text:mI},Symbol.toStringTag,{value:"Module"}));function TI(e,t,i){let l={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const a={},s=[];let c=[],p=[];const g={attempt:Y(j),check:Y(M),consume:B,enter:P,exit:X,interrupt:Y(M,{interrupt:!0})},h={code:null,containerState:{},defineSkip:I,events:[],now:b,parser:e,previous:null,sliceSerialize:T,sliceStream:_,write:S};let y=t.tokenize.call(h,g);return t.resolveAll&&s.push(t),h;function S(ee){return c=an(c,ee),N(),c[c.length-1]!==null?[]:(ue(t,0),h.events=wf(s,h.events,h),h.events)}function T(ee,ie){return _I(_(ee),ie)}function _(ee){return EI(c,ee)}function b(){const{_bufferIndex:ee,_index:ie,line:he,column:le,offset:W}=l;return{_bufferIndex:ee,_index:ie,line:he,column:le,offset:W}}function I(ee){a[ee.line]=ee.column,ae()}function N(){let ee;for(;l._index<c.length;){const ie=c[l._index];if(typeof ie=="string")for(ee=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===ee&&l._bufferIndex<ie.length;)D(ie.charCodeAt(l._bufferIndex));else D(ie)}}function D(ee){y=y(ee)}function B(ee){Se(ee)?(l.line++,l.column=1,l.offset+=ee===-3?2:1,ae()):ee!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===c[l._index].length&&(l._bufferIndex=-1,l._index++)),h.previous=ee}function P(ee,ie){const he=ie||{};return he.type=ee,he.start=b(),h.events.push(["enter",he,h]),p.push(he),he}function X(ee){const ie=p.pop();return ie.end=b(),h.events.push(["exit",ie,h]),ie}function j(ee,ie){ue(ee,ie.from)}function M(ee,ie){ie.restore()}function Y(ee,ie){return he;function he(le,W,z){let Z,re,ve,w;return Array.isArray(le)?V(le):"tokenize"in le?V([le]):x(le);function x(de){return _e;function _e(ke){const Ue=ke!==null&&de[ke],Qt=ke!==null&&de.null,An=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(Qt)?Qt:Qt?[Qt]:[]];return V(An)(ke)}}function V(de){return Z=de,re=0,de.length===0?z:A(de[re])}function A(de){return _e;function _e(ke){return w=$(),ve=de,de.partial||(h.currentConstruct=de),de.name&&h.parser.constructs.disable.null.includes(de.name)?fe():de.tokenize.call(ie?Object.assign(Object.create(h),ie):h,g,te,fe)(ke)}}function te(de){return ee(ve,w),W}function fe(de){return w.restore(),++re<Z.length?A(Z[re]):z}}}function ue(ee,ie){ee.resolveAll&&!s.includes(ee)&&s.push(ee),ee.resolve&&Cn(h.events,ie,h.events.length-ie,ee.resolve(h.events.slice(ie),h)),ee.resolveTo&&(h.events=ee.resolveTo(h.events,h))}function $(){const ee=b(),ie=h.previous,he=h.currentConstruct,le=h.events.length,W=Array.from(p);return{from:le,restore:z};function z(){l=ee,h.previous=ie,h.currentConstruct=he,h.events.length=le,p=W,ae()}}function ae(){l.line in a&&l.column<2&&(l.column=a[l.line],l.offset+=a[l.line]-1)}}function EI(e,t){const i=t.start._index,l=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let c;if(i===a)c=[e[i].slice(l,s)];else{if(c=e.slice(i,a),l>-1){const p=c[0];typeof p=="string"?c[0]=p.slice(l):c.shift()}s>0&&c.push(e[a].slice(0,s))}return c}function _I(e,t){let i=-1;const l=[];let a;for(;++i<e.length;){const s=e[i];let c;if(typeof s=="string")c=s;else switch(s){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&a)continue;c=" ";break}default:c=String.fromCharCode(s)}a=s===-2,l.push(c)}return l.join("")}function CI(e){const l={constructs:NM([SI,...(e||{}).extensions||[]]),content:a(HM),defined:[],document:a(GM),flow:a(oI),lazy:{},string:a(aI),text:a(sI)};return l;function a(s){return c;function c(p){return TI(l,s,p)}}}function AI(e){for(;!Cv(e););return e}const Fy=/[\0\t\n\r]/g;function xI(){let e=1,t="",i=!0,l;return a;function a(s,c,p){const g=[];let h,y,S,T,_;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(c||void 0).decode(s)),S=0,t="",i&&(s.charCodeAt(0)===65279&&S++,i=void 0);S<s.length;){if(Fy.lastIndex=S,h=Fy.exec(s),T=h&&h.index!==void 0?h.index:s.length,_=s.charCodeAt(T),!h){t=s.slice(S);break}if(_===10&&S===T&&l)g.push(-3),l=void 0;else switch(l&&(g.push(-5),l=void 0),S<T&&(g.push(s.slice(S,T)),e+=T-S),_){case 0:{g.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,g.push(-2);e++<y;)g.push(-1);break}case 10:{g.push(-4),e=1;break}default:l=!0,e=1}S=T+1}return p&&(l&&g.push(-5),t&&g.push(t),g.push(null)),g}}const bI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function wI(e){return e.replace(bI,RI)}function RI(e,t,i){if(t)return t;if(i.charCodeAt(0)===35){const a=i.charCodeAt(1),s=a===120||a===88;return Sv(i.slice(s?2:1),s?16:10)}return bf(i)||e}const Mv={}.hasOwnProperty;function MI(e,t,i){return typeof t!="string"&&(i=t,t=void 0),NI(i)(AI(CI(i).document().write(xI()(e,t,!0))))}function NI(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ki),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(Yi),blockQuote:s(Qt),characterEscape:$,characterReference:$,codeFenced:s(An),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(An,c),codeText:s(Xo,c),codeTextData:$,data:$,codeFlowValue:$,definition:s(or),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(xn),hardBreakEscape:s(Ji),hardBreakTrailing:s(Ji),htmlFlow:s(lr,c),htmlFlowData:$,htmlText:s(lr,c),htmlTextData:$,image:s(rr),label:c,link:s(Ki),listItem:s(Qo),listItemValue:T,listOrdered:s(Xi,S),listUnordered:s(Xi),paragraph:s(ja),reference:A,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(Yi),strong:s(es),thematicBreak:s(ts)},exit:{atxHeading:g(),atxHeadingSequence:j,autolink:g(),autolinkEmail:Ue,autolinkProtocol:ke,blockQuote:g(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:de,characterReference:_e,codeFenced:g(N),codeFencedFence:I,codeFencedFenceInfo:_,codeFencedFenceMeta:b,codeFlowValue:ae,codeIndented:g(D),codeText:g(W),codeTextData:ae,data:ae,definition:g(),definitionDestinationString:X,definitionLabelString:B,definitionTitleString:P,emphasis:g(),hardBreakEscape:g(ie),hardBreakTrailing:g(ie),htmlFlow:g(he),htmlFlowData:ae,htmlText:g(le),htmlTextData:ae,image:g(Z),label:ve,labelText:re,lineEnding:ee,link:g(z),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:te,resourceDestinationString:w,resourceTitleString:x,resource:V,setextHeading:g(ue),setextHeadingLineSequence:Y,setextHeadingText:M,strong:g(),thematicBreak:g()}};Nv(t,(e||{}).mdastExtensions||[]);const i={};return l;function l(J){let oe={type:"root",children:[]};const ye={stack:[oe],tokenStack:[],config:t,enter:p,exit:h,buffer:c,resume:y,data:i},we=[];let Ge=-1;for(;++Ge<J.length;)if(J[Ge][1].type==="listOrdered"||J[Ge][1].type==="listUnordered")if(J[Ge][0]==="enter")we.push(Ge);else{const Ot=we.pop();Ge=a(J,Ot,Ge)}for(Ge=-1;++Ge<J.length;){const Ot=t[J[Ge][0]];Mv.call(Ot,J[Ge][1].type)&&Ot[J[Ge][1].type].call(Object.assign({sliceSerialize:J[Ge][2].sliceSerialize},ye),J[Ge][1])}if(ye.tokenStack.length>0){const Ot=ye.tokenStack[ye.tokenStack.length-1];(Ot[1]||Yy).call(ye,void 0,Ot[0])}for(oe.position={start:Si(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Si(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<t.transforms.length;)oe=t.transforms[Ge](oe)||oe;return oe}function a(J,oe,ye){let we=oe-1,Ge=-1,Ot=!1,bn,At,ut,Rt;for(;++we<=ye;){const Je=J[we];switch(Je[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Je[0]==="enter"?Ge++:Ge--,Rt=void 0;break}case"lineEndingBlank":{Je[0]==="enter"&&(bn&&!Rt&&!Ge&&!ut&&(ut=we),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!Ge&&Je[0]==="enter"&&Je[1].type==="listItemPrefix"||Ge===-1&&Je[0]==="exit"&&(Je[1].type==="listUnordered"||Je[1].type==="listOrdered")){if(bn){let Xn=we;for(At=void 0;Xn--;){const cn=J[Xn];if(cn[1].type==="lineEnding"||cn[1].type==="lineEndingBlank"){if(cn[0]==="exit")continue;At&&(J[At][1].type="lineEndingBlank",Ot=!0),cn[1].type="lineEnding",At=Xn}else if(!(cn[1].type==="linePrefix"||cn[1].type==="blockQuotePrefix"||cn[1].type==="blockQuotePrefixWhitespace"||cn[1].type==="blockQuoteMarker"||cn[1].type==="listItemIndent"))break}ut&&(!At||ut<At)&&(bn._spread=!0),bn.end=Object.assign({},At?J[At][1].start:Je[1].end),J.splice(At||we,0,["exit",bn,Je[2]]),we++,ye++}if(Je[1].type==="listItemPrefix"){const Xn={type:"listItem",_spread:!1,start:Object.assign({},Je[1].start),end:void 0};bn=Xn,J.splice(we,0,["enter",Xn,Je[2]]),we++,ye++,ut=void 0,Rt=!0}}}return J[oe][1]._spread=Ot,ye}function s(J,oe){return ye;function ye(we){p.call(this,J(we),we),oe&&oe.call(this,we)}}function c(){this.stack.push({type:"fragment",children:[]})}function p(J,oe,ye){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([oe,ye||void 0]),J.position={start:Si(oe.start),end:void 0}}function g(J){return oe;function oe(ye){J&&J.call(this,ye),h.call(this,ye)}}function h(J,oe){const ye=this.stack.pop(),we=this.tokenStack.pop();if(we)we[0].type!==J.type&&(oe?oe.call(this,J,we[0]):(we[1]||Yy).call(this,J,we[0]));else throw new Error("Cannot close `"+J.type+"` ("+Zl({start:J.start,end:J.end})+"): its not open");ye.position.end=Si(J.end)}function y(){return RM(this.stack.pop())}function S(){this.data.expectingFirstListItemValue=!0}function T(J){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function _(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=J}function b(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=J}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J.replace(/(\r?\n|\r)$/g,"")}function B(J){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=qo(this.sliceSerialize(J)).toLowerCase()}function P(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.title=J}function X(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.url=J}function j(J){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ye=this.sliceSerialize(J).length;oe.depth=ye}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function Y(J){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function ue(){this.data.setextHeadingSlurpLineEnding=void 0}function $(J){const ye=this.stack[this.stack.length-1].children;let we=ye[ye.length-1];(!we||we.type!=="text")&&(we=Ct(),we.position={start:Si(J.start),end:void 0},ye.push(we)),this.stack.push(we)}function ae(J){const oe=this.stack.pop();oe.value+=this.sliceSerialize(J),oe.position.end=Si(J.end)}function ee(J){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=oe.children[oe.children.length-1];ye.position.end=Si(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&($.call(this,J),ae.call(this,J))}function ie(){this.data.atHardBreak=!0}function he(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J}function le(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J}function W(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J}function z(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=oe,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function Z(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=oe,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function re(J){const oe=this.sliceSerialize(J),ye=this.stack[this.stack.length-2];ye.label=wI(oe),ye.identifier=qo(oe).toLowerCase()}function ve(){const J=this.stack[this.stack.length-1],oe=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const we=J.children;ye.children=we}else ye.alt=oe}function w(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.url=J}function x(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.title=J}function V(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function te(J){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=qo(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function fe(J){this.data.characterReferenceType=J.type}function de(J){const oe=this.sliceSerialize(J),ye=this.data.characterReferenceType;let we;ye?(we=Sv(oe,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):we=bf(oe);const Ge=this.stack[this.stack.length-1];Ge.value+=we}function _e(J){const oe=this.stack.pop();oe.position.end=Si(J.end)}function ke(J){ae.call(this,J);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(J)}function Ue(J){ae.call(this,J);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(J)}function Qt(){return{type:"blockquote",children:[]}}function An(){return{type:"code",lang:null,meta:null,value:""}}function Xo(){return{type:"inlineCode",value:""}}function or(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xn(){return{type:"emphasis",children:[]}}function Yi(){return{type:"heading",depth:0,children:[]}}function Ji(){return{type:"break"}}function lr(){return{type:"html",value:""}}function rr(){return{type:"image",title:null,url:"",alt:null}}function Ki(){return{type:"link",title:null,url:"",children:[]}}function Xi(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Qo(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function ja(){return{type:"paragraph",children:[]}}function es(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function ts(){return{type:"thematicBreak"}}}function Si(e){return{line:e.line,column:e.column,offset:e.offset}}function Nv(e,t){let i=-1;for(;++i<t.length;){const l=t[i];Array.isArray(l)?Nv(e,l):II(e,l)}}function II(e,t){let i;for(i in t)if(Mv.call(t,i))switch(i){case"canContainEols":{const l=t[i];l&&e[i].push(...l);break}case"transforms":{const l=t[i];l&&e[i].push(...l);break}case"enter":case"exit":{const l=t[i];l&&Object.assign(e[i],l);break}}}function Yy(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zl({start:t.start,end:t.end})+") is still open")}function DI(e){const t=this;t.parser=i;function i(l){return MI(l,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kI(e,t){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)}function UI(e,t){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:`
`}]}function LI(e,t){const i=t.value?t.value+`
`:"",l={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(l.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:l,children:[{type:"text",value:i}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function zI(e,t){const i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function PI(e,t){const i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function HI(e,t){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",l=String(t.identifier).toUpperCase(),a=Ko(l.toLowerCase()),s=e.footnoteOrder.indexOf(l);let c,p=e.footnoteCounts.get(l);p===void 0?(p=0,e.footnoteOrder.push(l),c=e.footnoteOrder.length):c=s+1,p+=1,e.footnoteCounts.set(l,p);const g={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+a,id:i+"fnref-"+a+(p>1?"-"+p:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,g);const h={type:"element",tagName:"sup",properties:{},children:[g]};return e.patch(t,h),e.applyData(t,h)}function OI(e,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function GI(e,t){if(e.options.allowDangerousHtml){const i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}}function Iv(e,t){const i=t.referenceType;let l="]";if(i==="collapsed"?l+="[]":i==="full"&&(l+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+l}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=l:a.push({type:"text",value:l}),a}function VI(e,t){const i=String(t.identifier).toUpperCase(),l=e.definitionById.get(i);if(!l)return Iv(e,t);const a={src:Ko(l.url||""),alt:t.alt};l.title!==null&&l.title!==void 0&&(a.title=l.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function qI(e,t){const i={src:Ko(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function BI(e,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);const l={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,l),e.applyData(t,l)}function FI(e,t){const i=String(t.identifier).toUpperCase(),l=e.definitionById.get(i);if(!l)return Iv(e,t);const a={href:Ko(l.url||"")};l.title!==null&&l.title!==void 0&&(a.title=l.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function YI(e,t){const i={href:Ko(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function JI(e,t,i){const l=e.all(t),a=i?KI(i):Dv(t),s={},c=[];if(typeof t.checked=="boolean"){const y=l[0];let S;y&&y.type==="element"&&y.tagName==="p"?S=y:(S={type:"element",tagName:"p",properties:{},children:[]},l.unshift(S)),S.children.length>0&&S.children.unshift({type:"text",value:" "}),S.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let p=-1;for(;++p<l.length;){const y=l[p];(a||p!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?c.push(...y.children):c.push(y)}const g=l[l.length-1];g&&(a||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:c};return e.patch(t,h),e.applyData(t,h)}function KI(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const i=e.children;let l=-1;for(;!t&&++l<i.length;)t=Dv(i[l])}return t}function Dv(e){const t=e.spread;return t??e.children.length>1}function XI(e,t){const i={},l=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++a<l.length;){const c=l[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(l,!0)};return e.patch(t,s),e.applyData(t,s)}function QI(e,t){const i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ZI(e,t){const i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)}function $I(e,t){const i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function WI(e,t){const i=e.all(t),l=i.shift(),a=[];if(l){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([l],!0)};e.patch(t.children[0],c),a.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},p=_f(t.children[1]),g=dv(t.children[t.children.length-1]);p&&g&&(c.position={start:p,end:g}),a.push(c)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function jI(e,t,i){const l=i?i.children:void 0,s=(l?l.indexOf(t):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,p=c?c.length:t.children.length;let g=-1;const h=[];for(;++g<p;){const S=t.children[g],T={},_=c?c[g]:void 0;_&&(T.align=_);let b={type:"element",tagName:s,properties:T,children:[]};S&&(b.children=e.all(S),e.patch(S,b),b=e.applyData(S,b)),h.push(b)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(t,y),e.applyData(t,y)}function eD(e,t){const i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}const Jy=9,Ky=32;function tD(e){const t=String(e),i=/\r?\n|\r/g;let l=i.exec(t),a=0;const s=[];for(;l;)s.push(Xy(t.slice(a,l.index),a>0,!0),l[0]),a=l.index+l[0].length,l=i.exec(t);return s.push(Xy(t.slice(a),a>0,!1)),s.join("")}function Xy(e,t,i){let l=0,a=e.length;if(t){let s=e.codePointAt(l);for(;s===Jy||s===Ky;)l++,s=e.codePointAt(l)}if(i){let s=e.codePointAt(a-1);for(;s===Jy||s===Ky;)a--,s=e.codePointAt(a-1)}return a>l?e.slice(l,a):""}function nD(e,t){const i={type:"text",value:tD(String(t.value))};return e.patch(t,i),e.applyData(t,i)}function iD(e,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)}const oD={blockquote:kI,break:UI,code:LI,delete:zI,emphasis:PI,footnoteReference:HI,heading:OI,html:GI,imageReference:VI,image:qI,inlineCode:BI,linkReference:FI,link:YI,listItem:JI,list:XI,paragraph:QI,root:ZI,strong:$I,table:WI,tableCell:eD,tableRow:jI,text:nD,thematicBreak:iD,toml:Ma,yaml:Ma,definition:Ma,footnoteDefinition:Ma};function Ma(){}const kv=-1,$a=0,Wl=1,Ga=2,Mf=3,Nf=4,If=5,Df=6,Uv=7,Lv=8,Qy=typeof self=="object"?self:globalThis,lD=(e,t)=>{const i=(a,s)=>(e.set(s,a),a),l=a=>{if(e.has(a))return e.get(a);const[s,c]=t[a];switch(s){case $a:case kv:return i(c,a);case Wl:{const p=i([],a);for(const g of c)p.push(l(g));return p}case Ga:{const p=i({},a);for(const[g,h]of c)p[l(g)]=l(h);return p}case Mf:return i(new Date(c),a);case Nf:{const{source:p,flags:g}=c;return i(new RegExp(p,g),a)}case If:{const p=i(new Map,a);for(const[g,h]of c)p.set(l(g),l(h));return p}case Df:{const p=i(new Set,a);for(const g of c)p.add(l(g));return p}case Uv:{const{name:p,message:g}=c;return i(new Qy[p](g),a)}case Lv:return i(BigInt(c),a);case"BigInt":return i(Object(BigInt(c)),a);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:p}=new Uint8Array(c);return i(new DataView(p),c)}}return i(new Qy[s](c),a)};return l},Zy=e=>lD(new Map,e)(0),Lo="",{toString:rD}={},{keys:aD}=Object,Xl=e=>{const t=typeof e;if(t!=="object"||!e)return[$a,t];const i=rD.call(e).slice(8,-1);switch(i){case"Array":return[Wl,Lo];case"Object":return[Ga,Lo];case"Date":return[Mf,Lo];case"RegExp":return[Nf,Lo];case"Map":return[If,Lo];case"Set":return[Df,Lo];case"DataView":return[Wl,i]}return i.includes("Array")?[Wl,i]:i.includes("Error")?[Uv,i]:[Ga,i]},Na=([e,t])=>e===$a&&(t==="function"||t==="symbol"),sD=(e,t,i,l)=>{const a=(c,p)=>{const g=l.push(c)-1;return i.set(p,g),g},s=c=>{if(i.has(c))return i.get(c);let[p,g]=Xl(c);switch(p){case $a:{let y=c;switch(g){case"bigint":p=Lv,y=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+g);y=null;break;case"undefined":return a([kv],c)}return a([p,y],c)}case Wl:{if(g){let T=c;return g==="DataView"?T=new Uint8Array(c.buffer):g==="ArrayBuffer"&&(T=new Uint8Array(c)),a([g,[...T]],c)}const y=[],S=a([p,y],c);for(const T of c)y.push(s(T));return S}case Ga:{if(g)switch(g){case"BigInt":return a([g,c.toString()],c);case"Boolean":case"Number":case"String":return a([g,c.valueOf()],c)}if(t&&"toJSON"in c)return s(c.toJSON());const y=[],S=a([p,y],c);for(const T of aD(c))(e||!Na(Xl(c[T])))&&y.push([s(T),s(c[T])]);return S}case Mf:return a([p,c.toISOString()],c);case Nf:{const{source:y,flags:S}=c;return a([p,{source:y,flags:S}],c)}case If:{const y=[],S=a([p,y],c);for(const[T,_]of c)(e||!(Na(Xl(T))||Na(Xl(_))))&&y.push([s(T),s(_)]);return S}case Df:{const y=[],S=a([p,y],c);for(const T of c)(e||!Na(Xl(T)))&&y.push(s(T));return S}}const{message:h}=c;return a([p,{name:g,message:h}],c)};return s},$y=(e,{json:t,lossy:i}={})=>{const l=[];return sD(!(t||i),!!t,new Map,l)(e),l},Va=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Zy($y(e,t)):structuredClone(e):(e,t)=>Zy($y(e,t));function uD(e,t){const i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function cD(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function fD(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||uD,l=e.options.footnoteBackLabel||cD,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},p=[];let g=-1;for(;++g<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[g]);if(!h)continue;const y=e.all(h),S=String(h.identifier).toUpperCase(),T=Ko(S.toLowerCase());let _=0;const b=[],I=e.footnoteCounts.get(S);for(;I!==void 0&&++_<=I;){b.length>0&&b.push({type:"text",value:" "});let B=typeof i=="string"?i:i(g,_);typeof B=="string"&&(B={type:"text",value:B}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(g,_),className:["data-footnote-backref"]},children:Array.isArray(B)?B:[B]})}const N=y[y.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const B=N.children[N.children.length-1];B&&B.type==="text"?B.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...b)}else y.push(...b);const D={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(y,!0)};e.patch(h,D),p.push(D)}if(p.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Va(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(p,!0)},{type:"text",value:`
`}]}}const zv=(function(e){if(e==null)return mD;if(typeof e=="function")return Wa(e);if(typeof e=="object")return Array.isArray(e)?dD(e):pD(e);if(typeof e=="string")return hD(e);throw new Error("Expected function, string, or object as test")});function dD(e){const t=[];let i=-1;for(;++i<e.length;)t[i]=zv(e[i]);return Wa(l);function l(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function pD(e){const t=e;return Wa(i);function i(l){const a=l;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function hD(e){return Wa(t);function t(i){return i&&i.type===e}}function Wa(e){return t;function t(i,l,a){return!!(gD(i)&&e.call(this,i,typeof l=="number"?l:void 0,a||void 0))}}function mD(){return!0}function gD(e){return e!==null&&typeof e=="object"&&"type"in e}const Pv=[],yD=!0,Wy=!1,vD="skip";function SD(e,t,i,l){let a;typeof t=="function"&&typeof i!="function"?(l=i,i=t):a=t;const s=zv(a),c=l?-1:1;p(e,void 0,[])();function p(g,h,y){const S=g&&typeof g=="object"?g:{};if(typeof S.type=="string"){const _=typeof S.tagName=="string"?S.tagName:typeof S.name=="string"?S.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(g.type+(_?"<"+_+">":""))+")"})}return T;function T(){let _=Pv,b,I,N;if((!t||s(g,h,y[y.length-1]||void 0))&&(_=TD(i(g,y)),_[0]===Wy))return _;if("children"in g&&g.children){const D=g;if(D.children&&_[0]!==vD)for(I=(l?D.children.length:-1)+c,N=y.concat(D);I>-1&&I<D.children.length;){const B=D.children[I];if(b=p(B,I,N)(),b[0]===Wy)return b;I=typeof b[1]=="number"?b[1]:I+c}}return _}}}function TD(e){return Array.isArray(e)?e:typeof e=="number"?[yD,e]:e==null?Pv:[e]}function Hv(e,t,i,l){let a,s,c;typeof t=="function"&&typeof i!="function"?(s=void 0,c=t,a=i):(s=t,c=i,a=l),SD(e,s,p,a);function p(g,h){const y=h[h.length-1],S=y?y.children.indexOf(g):void 0;return c(g,S,y)}}const rf={}.hasOwnProperty,ED={};function _D(e,t){const i=t||ED,l=new Map,a=new Map,s=new Map,c={...oD,...i.handlers},p={all:h,applyData:AD,definitionById:l,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:c,one:g,options:i,patch:CD,wrap:bD};return Hv(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const S=y.type==="definition"?l:a,T=String(y.identifier).toUpperCase();S.has(T)||S.set(T,y)}}),p;function g(y,S){const T=y.type,_=p.handlers[T];if(rf.call(p.handlers,T)&&_)return _(p,y,S);if(p.options.passThrough&&p.options.passThrough.includes(T)){if("children"in y){const{children:I,...N}=y,D=Va(N);return D.children=p.all(y),D}return Va(y)}return(p.options.unknownHandler||xD)(p,y,S)}function h(y){const S=[];if("children"in y){const T=y.children;let _=-1;for(;++_<T.length;){const b=p.one(T[_],y);if(b){if(_&&T[_-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=jy(b.value)),!Array.isArray(b)&&b.type==="element")){const I=b.children[0];I&&I.type==="text"&&(I.value=jy(I.value))}Array.isArray(b)?S.push(...b):S.push(b)}}}return S}}function CD(e,t){e.position&&(t.position=rM(e))}function AD(e,t){let i=t;if(e&&e.data){const l=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof l=="string")if(i.type==="element")i.tagName=l;else{const c="children"in i?i.children:[i];i={type:"element",tagName:l,properties:{},children:c}}i.type==="element"&&s&&Object.assign(i.properties,Va(s)),"children"in i&&i.children&&a!==null&&a!==void 0&&(i.children=a)}return i}function xD(e,t){const i=t.data||{},l="value"in t&&!(rf.call(i,"hProperties")||rf.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function bD(e,t){const i=[];let l=-1;for(t&&i.push({type:"text",value:`
`});++l<e.length;)l&&i.push({type:"text",value:`
`}),i.push(e[l]);return t&&e.length>0&&i.push({type:"text",value:`
`}),i}function jy(e){let t=0,i=e.charCodeAt(t);for(;i===9||i===32;)t++,i=e.charCodeAt(t);return e.slice(t)}function e0(e,t){const i=_D(e,t),l=i.one(e,void 0),a=fD(i),s=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return a&&s.children.push({type:"text",value:`
`},a),s}function wD(e,t){return e&&"run"in e?async function(i,l){const a=e0(i,{file:l,...t});await e.run(a,l)}:function(i,l){return e0(i,{file:l,...e||t})}}function t0(e){if(e)throw e}var Mc,n0;function RD(){if(n0)return Mc;n0=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,l=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):t.call(h)==="[object Array]"},s=function(h){if(!h||t.call(h)!=="[object Object]")return!1;var y=e.call(h,"constructor"),S=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!y&&!S)return!1;var T;for(T in h);return typeof T>"u"||e.call(h,T)},c=function(h,y){i&&y.name==="__proto__"?i(h,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):h[y.name]=y.newValue},p=function(h,y){if(y==="__proto__")if(e.call(h,y)){if(l)return l(h,y).value}else return;return h[y]};return Mc=function g(){var h,y,S,T,_,b,I=arguments[0],N=1,D=arguments.length,B=!1;for(typeof I=="boolean"&&(B=I,I=arguments[1]||{},N=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});N<D;++N)if(h=arguments[N],h!=null)for(y in h)S=p(I,y),T=p(h,y),I!==T&&(B&&T&&(s(T)||(_=a(T)))?(_?(_=!1,b=S&&a(S)?S:[]):b=S&&s(S)?S:{},c(I,{name:y,newValue:g(B,b,T)})):typeof T<"u"&&c(I,{name:y,newValue:T}));return I},Mc}var MD=RD();const Nc=qa(MD);function af(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ND(){const e=[],t={run:i,use:l};return t;function i(...a){let s=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);p(null,...a);function p(g,...h){const y=e[++s];let S=-1;if(g){c(g);return}for(;++S<a.length;)(h[S]===null||h[S]===void 0)&&(h[S]=a[S]);a=h,y?ID(y,p)(...h):c(null,...h)}}function l(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function ID(e,t){let i;return l;function l(...c){const p=e.length>c.length;let g;p&&c.push(a);try{g=e.apply(this,c)}catch(h){const y=h;if(p&&i)throw y;return a(y)}p||(g&&g.then&&typeof g.then=="function"?g.then(s,a):g instanceof Error?a(g):s(g))}function a(c,...p){i||(i=!0,t(c,...p))}function s(c){a(null,c)}}const En={basename:DD,dirname:kD,extname:UD,join:LD,sep:"/"};function DD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ir(e);let i=0,l=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){i=a+1;break}}else l<0&&(s=!0,l=a+1);return l<0?"":e.slice(i,l)}if(t===e)return"";let c=-1,p=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){i=a+1;break}}else c<0&&(s=!0,c=a+1),p>-1&&(e.codePointAt(a)===t.codePointAt(p--)?p<0&&(l=a):(p=-1,l=c));return i===l?l=c:l<0&&(l=e.length),e.slice(i,l)}function kD(e){if(ir(e),e.length===0)return".";let t=-1,i=e.length,l;for(;--i;)if(e.codePointAt(i)===47){if(l){t=i;break}}else l||(l=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function UD(e){ir(e);let t=e.length,i=-1,l=0,a=-1,s=0,c;for(;t--;){const p=e.codePointAt(t);if(p===47){if(c){l=t+1;break}continue}i<0&&(c=!0,i=t+1),p===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||i<0||s===0||s===1&&a===i-1&&a===l+1?"":e.slice(a,i)}function LD(...e){let t=-1,i;for(;++t<e.length;)ir(e[t]),e[t]&&(i=i===void 0?e[t]:i+"/"+e[t]);return i===void 0?".":zD(i)}function zD(e){ir(e);const t=e.codePointAt(0)===47;let i=PD(e,!t);return i.length===0&&!t&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),t?"/"+i:i}function PD(e,t){let i="",l=0,a=-1,s=0,c=-1,p,g;for(;++c<=e.length;){if(c<e.length)p=e.codePointAt(c);else{if(p===47)break;p=47}if(p===47){if(!(a===c-1||s===1))if(a!==c-1&&s===2){if(i.length<2||l!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(g=i.lastIndexOf("/"),g!==i.length-1){g<0?(i="",l=0):(i=i.slice(0,g),l=i.length-1-i.lastIndexOf("/")),a=c,s=0;continue}}else if(i.length>0){i="",l=0,a=c,s=0;continue}}t&&(i=i.length>0?i+"/..":"..",l=2)}else i.length>0?i+="/"+e.slice(a+1,c):i=e.slice(a+1,c),l=c-a-1;a=c,s=0}else p===46&&s>-1?s++:s=-1}return i}function ir(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const HD={cwd:OD};function OD(){return"/"}function sf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function GD(e){if(typeof e=="string")e=new URL(e);else if(!sf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return VD(e)}function VD(e){if(e.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const t=e.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const l=t.codePointAt(i+2);if(l===70||l===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Ic=["history","path","basename","stem","extname","dirname"];class Ov{constructor(t){let i;t?sf(t)?i={path:t}:typeof t=="string"||qD(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":HD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<Ic.length;){const s=Ic[l];s in i&&i[s]!==void 0&&i[s]!==null&&(this[s]=s==="history"?[...i[s]]:i[s])}let a;for(a in i)Ic.includes(a)||(this[a]=i[a])}get basename(){return typeof this.path=="string"?En.basename(this.path):void 0}set basename(t){kc(t,"basename"),Dc(t,"basename"),this.path=En.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?En.dirname(this.path):void 0}set dirname(t){i0(this.basename,"dirname"),this.path=En.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?En.extname(this.path):void 0}set extname(t){if(Dc(t,"extname"),i0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=En.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){sf(t)&&(t=GD(t)),kc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?En.basename(this.path,this.extname):void 0}set stem(t){kc(t,"stem"),Dc(t,"stem"),this.path=En.join(this.dirname||"",t+(this.extname||""))}fail(t,i,l){const a=this.message(t,i,l);throw a.fatal=!0,a}info(t,i,l){const a=this.message(t,i,l);return a.fatal=void 0,a}message(t,i,l){const a=new _t(t,i,l);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dc(e,t){if(e&&e.includes(En.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+En.sep+"`")}function kc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function i0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function qD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const BD=(function(e){const l=this.constructor.prototype,a=l[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,l),s}),FD={}.hasOwnProperty;class kf extends BD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ND()}copy(){const t=new kf;let i=-1;for(;++i<this.attachers.length;){const l=this.attachers[i];t.use(...l)}return t.data(Nc(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(zc("data",this.frozen),this.namespace[t]=i,this):FD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const a=i.call(t,...l);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=Ia(t),l=this.parser||this.Parser;return Uc("parse",l),l(String(i),i)}process(t,i){const l=this;return this.freeze(),Uc("process",this.parser||this.Parser),Lc("process",this.compiler||this.Compiler),i?a(void 0,i):new Promise(a);function a(s,c){const p=Ia(t),g=l.parse(p);l.run(g,p,function(y,S,T){if(y||!S||!T)return h(y);const _=S,b=l.stringify(_,T);KD(b)?T.value=b:T.result=b,h(y,T)});function h(y,S){y||!S?c(y):s?s(S):i(void 0,S)}}}processSync(t){let i=!1,l;return this.freeze(),Uc("processSync",this.parser||this.Parser),Lc("processSync",this.compiler||this.Compiler),this.process(t,a),l0("processSync","process",i),l;function a(s,c){i=!0,t0(s),l=c}}run(t,i,l){o0(t),this.freeze();const a=this.transformers;return!l&&typeof i=="function"&&(l=i,i=void 0),l?s(void 0,l):new Promise(s);function s(c,p){const g=Ia(i);a.run(t,g,h);function h(y,S,T){const _=S||t;y?p(y):c?c(_):l(void 0,_,T)}}}runSync(t,i){let l=!1,a;return this.run(t,i,s),l0("runSync","run",l),a;function s(c,p){t0(c),a=p,l=!0}}stringify(t,i){this.freeze();const l=Ia(i),a=this.compiler||this.Compiler;return Lc("stringify",a),o0(t),a(t,l)}use(t,...i){const l=this.attachers,a=this.namespace;if(zc("use",this.frozen),t!=null)if(typeof t=="function")g(t,i);else if(typeof t=="object")Array.isArray(t)?p(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(h){if(typeof h=="function")g(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[y,...S]=h;g(y,S)}else c(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function c(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");p(h.plugins),h.settings&&(a.settings=Nc(!0,a.settings,h.settings))}function p(h){let y=-1;if(h!=null)if(Array.isArray(h))for(;++y<h.length;){const S=h[y];s(S)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function g(h,y){let S=-1,T=-1;for(;++S<l.length;)if(l[S][0]===h){T=S;break}if(T===-1)l.push([h,...y]);else if(y.length>0){let[_,...b]=y;const I=l[T][1];af(I)&&af(_)&&(_=Nc(!0,I,_)),l[T]=[h,_,...b]}}}}const YD=new kf().freeze();function Uc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Lc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function o0(e){if(!af(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function l0(e,t,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ia(e){return JD(e)?e:new Ov(e)}function JD(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function KD(e){return typeof e=="string"||XD(e)}function XD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r0=[],a0={allowDangerousHtml:!0},ZD=/^(https?|ircs?|mailto|xmpp)$/i,$D=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function s0(e){const t=WD(e),i=jD(e);return e2(t.runSync(t.parse(i),i),e)}function WD(e){const t=e.rehypePlugins||r0,i=e.remarkPlugins||r0,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...a0}:a0;return YD().use(DI).use(i).use(wD,l).use(t)}function jD(e){const t=e.children||"",i=new Ov;return typeof t=="string"&&(i.value=t),i}function e2(e,t){const i=t.allowedElements,l=t.allowElement,a=t.components,s=t.disallowedElements,c=t.skipHtml,p=t.unwrapDisallowed,g=t.urlTransform||t2;for(const y of $D)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+QD+y.id,void 0);return Hv(e,h),fM(e,{Fragment:U.Fragment,components:a,ignoreInvalidStyle:!0,jsx:U.jsx,jsxs:U.jsxs,passKeys:!0,passNode:!0});function h(y,S,T){if(y.type==="raw"&&T&&typeof S=="number")return c?T.children.splice(S,1):T.children[S]={type:"text",value:y.value},S;if(y.type==="element"){let _;for(_ in bc)if(Object.hasOwn(bc,_)&&Object.hasOwn(y.properties,_)){const b=y.properties[_],I=bc[_];(I===null||I.includes(y.tagName))&&(y.properties[_]=g(String(b||""),_,y))}}if(y.type==="element"){let _=i?!i.includes(y.tagName):s?s.includes(y.tagName):!1;if(!_&&l&&typeof S=="number"&&(_=!l(y,S,T)),_&&T&&typeof S=="number")return p&&y.children?T.children.splice(S,1,...y.children):T.children.splice(S,1),S}}}function t2(e){const t=e.indexOf(":"),i=e.indexOf("?"),l=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||i!==-1&&t>i||l!==-1&&t>l||ZD.test(e.slice(0,t))?e:""}const n2=300*1e3,i2=900*1e3,o2={h1:({children:e})=>U.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 mb-8 pb-4 border-b-2 border-indigo-100 flex items-center gap-3",children:[U.jsx(CE,{className:"text-indigo-600",size:36}),e]}),h2:({children:e})=>U.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mt-10 mb-6 flex items-center gap-3",children:[U.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full shadow-sm"}),e]}),h3:({children:e})=>U.jsx("h3",{className:"text-lg font-bold text-indigo-900 mt-8 mb-4",children:e}),p:({children:e})=>U.jsx("p",{className:"text-slate-600 leading-relaxed mb-6 text-base md:text-lg",children:e}),ul:({children:e})=>U.jsx("ul",{className:"grid grid-cols-1 gap-4 my-6",children:e}),li:({children:e})=>U.jsxs("li",{className:"bg-white/50 backdrop-blur-sm p-5 rounded-2xl border border-white/50 shadow-sm hover:shadow-md transition-all duration-300 flex gap-4 items-start",children:[U.jsx("div",{className:"bg-green-100 p-1 rounded-full shrink-0 mt-0.5",children:U.jsx(bE,{className:"text-green-600",size:16})}),U.jsx("div",{className:"text-slate-700 leading-snug font-medium",children:e})]}),strong:({children:e})=>U.jsx("span",{className:"font-bold text-indigo-700 bg-indigo-50 px-2 py-0.5 rounded-lg mx-0.5 border border-indigo-100/50",children:e}),blockquote:({children:e})=>U.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-400 p-6 my-8 rounded-r-2xl italic text-amber-900 shadow-sm",children:[U.jsx("span",{className:"text-2xl text-amber-300 block mb-2",children:'"'}),e]})},l2={h1:({children:e})=>U.jsx("div",{className:"font-bold text-lg text-slate-800 mb-2",children:e}),h2:({children:e})=>U.jsx("div",{className:"font-semibold text-sm text-indigo-600 mt-2 mb-1 uppercase tracking-wider",children:e}),ul:({children:e})=>U.jsx("ul",{className:"space-y-2 mt-2",children:e}),li:({children:e})=>U.jsxs("li",{className:"flex gap-2 items-start text-sm text-slate-700 bg-white/50 p-2 rounded-lg",children:[U.jsx("span",{className:"text-indigo-500 mt-1",children:""}),U.jsx("span",{children:e})]}),strong:({children:e})=>U.jsx("span",{className:"font-bold text-slate-900",children:e}),p:({children:e})=>U.jsx("p",{className:"text-sm text-slate-600 mb-2 leading-relaxed",children:e})},r2=()=>{const[e,t]=be.useState(Tt.HOME),[i,l]=be.useState(""),[a,s]=be.useState("transcript"),[c,p]=be.useState([]),g=be.useRef([]),[h,y]=be.useState([]),[S,T]=be.useState(!1),[_,b]=be.useState(!0),[I,N]=be.useState(""),[D,B]=be.useState(!1),[P,X]=be.useState(!1),[j,M]=be.useState(null),Y=be.useRef(null);be.useEffect(()=>{g.current=c},[c]);const ue=x=>{p(V=>{if(V.findIndex(A=>A.id===x.id),x.id==="input-curr"||x.id==="output-curr")return[...V.filter(te=>te.id!==x.id),x];if(!x.isPartial){const A=x.speaker==="user"?"input-curr":"output-curr";return[...V.filter(fe=>fe.id!==A),x]}return[...V,x]})},{connect:$,disconnect:ae,isConnected:ee,micVolume:ie,error:he}=NR({onTranscriptUpdate:ue,isAudioMuted:_});be.useEffect(()=>{(ee||he)&&T(!1)},[ee,he]),be.useEffect(()=>{let x,V;if(e===Tt.LIVE&&ee){const A=Date.now();x=setInterval(async()=>{const te=g.current;if(te.length===0)return;const fe=Date.now(),de=Math.floor((fe-A)/6e4),_e=`Minute ${Math.max(0,de-5)} - ${de}`;try{const ke=await DR(te,i,_e);y(Ue=>[...Ue,{id:`checkin-${fe}`,timestamp:fe,content:ke,timeRange:_e,type:"check-in"}])}catch(ke){console.error("Check-in analysis failed",ke)}},n2),V=setInterval(async()=>{const te=g.current;if(te.length===0)return;const fe=Date.now(),_e=`First ${Math.floor((fe-A)/6e4)} Minutes`;try{const ke=await kR(te,i,_e);y(Ue=>[...Ue,{id:`milestone-${fe}`,timestamp:fe,content:ke,timeRange:`STAGE SUMMARY: ${_e}`,type:"milestone"}])}catch(ke){console.error("Milestone summary failed",ke)}},i2)}return()=>{x&&clearInterval(x),V&&clearInterval(V)}},[e,ee,i]);const le=()=>{const x=i.trim();if(!x){alert("Please enter your API Key first.");return}p([]),y([]),N(""),M(null),T(!0),t(Tt.LIVE),s("transcript"),$(x)},W=async()=>{ae(),B(!0),t(Tt.SUMMARY);const x=await IR(c,i);N(x),B(!1)},z=x=>{var te;if(!i.trim()){alert("Please enter your API Key first.");return}const A=(te=x.target.files)==null?void 0:te[0];if(A){if(A.size>20*1024*1024){alert("File is too large. Please select a file under 20MB.");return}M(A),t(Tt.FILE_OPTIONS),Y.current&&(Y.current.value="")}},Z=async x=>{if(!(!j||!i)){X(!0),t(Tt.SUMMARY),N("");try{const V=await MR(j),A=j.type||"audio/mp3",te=await UR(V,A,i,x);N(te)}catch(V){console.error(V),N("Error processing file.")}finally{X(!1)}}},re=()=>{var x;if(!i.trim()){alert("Please enter your API Key first.");return}(x=Y.current)==null||x.click()},ve=()=>{if(!I)return;const x=new Blob([I],{type:"text/markdown"}),V=URL.createObjectURL(x),A=document.createElement("a");A.href=V,A.download=`SmartTranslate_${new Date().toISOString().slice(0,10)}.md`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(V)},w=()=>{t(j?Tt.FILE_OPTIONS:Tt.HOME)};return be.useEffect(()=>()=>{ae()},[ae]),U.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-indigo-50 via-white to-purple-50 w-full mx-auto overflow-hidden relative font-sans text-slate-900 selection:bg-indigo-100 selection:text-indigo-900",children:[e===Tt.HOME&&U.jsxs("div",{className:"flex flex-col h-full items-center justify-center p-8 text-center space-y-10 overflow-y-auto",children:[U.jsxs("div",{className:"space-y-4 animate-in fade-in zoom-in duration-500 slide-in-from-bottom-4",children:[U.jsx("div",{className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-indigo-300 ring-4 ring-white/50 backdrop-blur-sm",children:U.jsx(Tc,{className:"text-white w-12 h-12"})}),U.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 tracking-tight pb-2",children:"Smart Translate"}),U.jsxs("p",{className:"text-slate-500 text-lg md:text-xl max-w-lg mx-auto leading-relaxed",children:["Experience the future of learning with ",U.jsx("span",{className:"text-indigo-600 font-semibold",children:"real-time translation"})," and intelligent context analysis."]})]}),U.jsxs("div",{className:"w-full max-w-md bg-white/60 backdrop-blur-xl p-8 rounded-3xl border border-white/40 shadow-xl ring-1 ring-white/60 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-100",children:[U.jsx("label",{className:"block text-left text-sm font-semibold text-slate-700 mb-2 ml-1",children:"Gemini API Key"}),U.jsxs("div",{className:"relative group",children:[U.jsx("input",{type:"password",value:i,onChange:x=>l(x.target.value),placeholder:"Enter your API key...",className:"w-full p-4 pl-12 rounded-2xl border border-slate-200 bg-white/50 focus:bg-white focus:outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 shadow-sm transition-all duration-300"}),U.jsx(zE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors",size:20})]}),U.jsx("p",{className:"text-xs text-slate-400 mt-3 text-left pl-1",children:"Your key is stored locally for this session."})]}),U.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-xl pt-2 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[U.jsxs("button",{onClick:le,disabled:!i||S,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 rounded-2xl shadow-xl shadow-indigo-200 hover:shadow-2xl hover:shadow-indigo-300 hover:-translate-y-1 active:scale-95 transition-all duration-300 flex items-center justify-center gap-3",children:[S?U.jsx(Fm,{className:"animate-spin",size:24}):U.jsx(BE,{size:24}),U.jsx("span",{className:"text-lg",children:S?"Connecting...":"Start Live Session"})]}),U.jsxs("button",{onClick:re,disabled:!i,className:"flex-1 bg-white hover:bg-slate-50 disabled:bg-slate-100 disabled:text-slate-400 text-slate-700 border border-slate-200 font-bold py-4 rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-1 active:scale-95 transition-all duration-300 flex items-center justify-center gap-3",children:[U.jsx(XE,{size:24,className:"text-indigo-500"}),U.jsx("span",{className:"text-lg",children:"Upload Audio"})]}),U.jsx("input",{type:"file",ref:Y,className:"hidden",accept:"audio/*",onChange:z})]}),U.jsxs("div",{className:"mt-auto text-xs text-slate-400 flex flex-col items-center gap-2 animate-in fade-in delay-500",children:[U.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[U.jsx(Tc,{size:12,className:"text-indigo-400"}),"Powered by Gemini 2.5 Live & 3.0 Pro"]}),U.jsx("p",{className:"bg-indigo-50/50 text-indigo-600/80 px-3 py-1 rounded-full border border-indigo-100/50 backdrop-blur-sm",children:"Auto-analysis every 5 & 15 mins"})]})]}),e===Tt.FILE_OPTIONS&&j&&U.jsxs("div",{className:"flex flex-col h-full items-center justify-center p-8 bg-gradient-to-br from-slate-50 via-white to-blue-50/30",children:[U.jsx("button",{onClick:()=>{t(Tt.HOME),M(null)},className:"absolute top-8 left-8 p-3 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white border border-white/50 shadow-sm hover:shadow-md transition-all group",children:U.jsx(qm,{size:24,className:"text-slate-600 group-hover:text-slate-900"})}),U.jsxs("div",{className:"text-center mb-12 animate-in fade-in zoom-in duration-500",children:[U.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 text-indigo-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg ring-4 ring-white",children:U.jsx(NE,{size:40})}),U.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:j.name}),U.jsxs("p",{className:"text-sm font-medium text-slate-500 bg-slate-100/50 px-3 py-1 rounded-full inline-block border border-slate-200/50",children:[(j.size/1024/1024).toFixed(2)," MB"]})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl px-4",children:[U.jsxs("button",{onClick:()=>Z("transcript"),className:"group bg-white/70 backdrop-blur-md p-8 rounded-3xl border border-white/60 shadow-xl hover:shadow-2xl hover:border-indigo-200 hover:-translate-y-1 active:scale-95 transition-all duration-300 text-left relative overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/0 to-indigo-50/50 opacity-0 group-hover:opacity-100 transition-opacity"}),U.jsxs("div",{className:"relative z-10",children:[U.jsx("div",{className:"w-14 h-14 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mb-5 group-hover:bg-indigo-600 group-hover:text-white transition-colors duration-300 shadow-sm",children:U.jsx(DE,{size:28})}),U.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3 group-hover:text-indigo-700 transition-colors",children:"Verbatim Transcript"}),U.jsx("p",{className:"text-slate-500 leading-relaxed font-medium",children:"Get a precise word-for-word transcript. Perfect for detailed review, quoting, and accessibility."})]})]}),U.jsxs("button",{onClick:()=>Z("summary"),className:"group bg-white/70 backdrop-blur-md p-8 rounded-3xl border border-white/60 shadow-xl hover:shadow-2xl hover:border-amber-200 hover:-translate-y-1 active:scale-95 transition-all duration-300 text-left relative overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/0 to-amber-50/50 opacity-0 group-hover:opacity-100 transition-opacity"}),U.jsxs("div",{className:"relative z-10",children:[U.jsx("div",{className:"w-14 h-14 bg-amber-100 text-amber-600 rounded-2xl flex items-center justify-center mb-5 group-hover:bg-amber-500 group-hover:text-white transition-colors duration-300 shadow-sm",children:U.jsx(GE,{size:28})}),U.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3 group-hover:text-amber-700 transition-colors",children:"Study Guide"}),U.jsx("p",{className:"text-slate-500 leading-relaxed font-medium",children:"AI-generated summary with key points and terminology. Best for quick learning and revision."})]})]})]})]}),e===Tt.LIVE&&U.jsxs("div",{className:"flex flex-col h-full",children:[U.jsxs("div",{className:"bg-white/80 backdrop-blur-md border-b border-indigo-100 px-4 md:px-8 py-4 flex items-center justify-between sticky top-0 z-20 shadow-sm",children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-red-50 text-red-600 rounded-full border border-red-100 shadow-sm",children:[U.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[U.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),U.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"})]}),U.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Live Session"})]}),U.jsx("h2",{className:"hidden md:block font-bold text-slate-700",children:"Classroom Mode"})]}),U.jsxs("div",{className:"flex md:hidden bg-slate-100/80 p-1 rounded-xl",children:[U.jsx("button",{onClick:()=>s("transcript"),className:Ti("px-4 py-1.5 text-xs font-bold rounded-lg transition-all",a==="transcript"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"),children:"Transcript"}),U.jsxs("button",{onClick:()=>s("analysis"),className:Ti("px-4 py-1.5 text-xs font-bold rounded-lg transition-all flex items-center gap-1",a==="analysis"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"),children:["Insights",h.length>0&&U.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})]})]}),U.jsx("div",{className:"flex gap-2",children:U.jsx("button",{onClick:()=>b(!_),className:"p-2.5 rounded-xl bg-slate-50 text-slate-600 hover:bg-slate-100 border border-slate-200 transition-all hover:scale-105 active:scale-95",title:_?"Unmute Translation":"Mute Translation",children:_?U.jsx(e_,{size:20}):U.jsx(WE,{size:20})})})]}),U.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col md:flex-row",children:[U.jsx("div",{className:Ti("flex-1 relative flex flex-col h-full overflow-hidden transition-all duration-300",a==="transcript"?"flex":"hidden md:flex"),children:U.jsx("div",{className:"flex-1 h-full flex flex-col relative overflow-hidden bg-transparent",children:U.jsx(zR,{items:c})})}),U.jsxs("div",{className:Ti("h-full overflow-hidden flex flex-col bg-white/50 border-l border-indigo-50/50 backdrop-blur-md transition-all shadow-xl","w-full md:w-[28rem] lg:w-[32rem] xl:w-[36rem]",a==="analysis"?"flex":"hidden md:flex"),children:[U.jsxs("div",{className:"px-6 py-4 border-b border-indigo-50 bg-white/40 sticky top-0 z-10 hidden md:flex items-center justify-between",children:[U.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[U.jsx(Tc,{size:18,className:"text-indigo-500 fill-indigo-100"}),"AI Insights"]}),U.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-2.5 py-1 rounded-full border border-indigo-100 font-bold tracking-wide uppercase",children:"Values update every 5m"})]}),U.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 scrollbar-hide pb-32 md:pb-8",children:h.length===0?U.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-center p-8",children:[U.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm border border-slate-100",children:U.jsx(Vm,{size:32,className:"text-indigo-200"})}),U.jsx("p",{className:"font-semibold text-slate-600",children:"Collecting context..."}),U.jsx("p",{className:"text-sm mt-1 max-w-[200px]",children:"The AI is listening and will generate the first insight in a few minutes."})]}):h.slice().reverse().map(x=>U.jsxs("div",{className:Ti("p-6 rounded-2xl border transition-all duration-300 hover:shadow-lg group",x.type==="milestone"?"bg-gradient-to-br from-amber-50/80 to-orange-50/80 border-amber-100 shadow-amber-100/50":"bg-white/80 border-white/60 shadow-sm hover:border-indigo-100"),children:[U.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-black/5",children:[x.type==="milestone"?U.jsx("div",{className:"p-2 bg-amber-100 rounded-xl shadow-inner",children:U.jsx(UE,{size:16,className:"text-amber-700"})}):U.jsx("div",{className:"p-2 bg-indigo-100 rounded-xl shadow-inner",children:U.jsx(HE,{size:16,className:"text-indigo-600"})}),U.jsx("span",{className:Ti("text-xs font-bold uppercase tracking-wider",x.type==="milestone"?"text-amber-800":"text-slate-500"),children:x.timeRange})]}),U.jsx("div",{className:"text-sm prose prose-sm max-w-none prose-p:text-slate-600 prose-headings:font-bold prose-headings:text-slate-800",children:U.jsx(s0,{components:l2,children:x.content})})]},x.id))})]})]}),U.jsx("div",{className:"bg-white/90 backdrop-blur-xl border-t border-indigo-50 p-6 z-30 shadow-[0_-10px_60px_-15px_rgba(79,70,229,0.1)]",children:U.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-6",children:[U.jsx(LR,{volume:ie}),U.jsx("div",{className:"flex justify-center",children:U.jsxs("button",{onClick:W,className:"w-full max-w-sm bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-3 active:scale-95 transition-all shadow-lg shadow-red-200",children:[U.jsx(JE,{size:20,fill:"currentColor"}),"End Session & View Summary"]})})]})}),he&&U.jsx("div",{className:"absolute top-24 left-1/2 -translate-x-1/2 max-w-md w-full px-4 z-50 animate-in slide-in-from-top-4 fade-in duration-300",children:U.jsxs("div",{className:"bg-white/95 backdrop-blur-md text-red-600 p-6 rounded-2xl text-sm border border-red-100 shadow-2xl flex flex-col items-center",children:[U.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mb-3",children:U.jsx(Vm,{size:20})}),U.jsx("p",{className:"font-bold text-lg mb-1 text-slate-800",children:"Connection Error"}),U.jsx("p",{className:"text-center text-slate-500 mb-4",children:he}),U.jsx("button",{onClick:()=>t(Tt.HOME),className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold py-2.5 rounded-xl transition-colors",children:"Return Home"})]})})]}),e===Tt.SUMMARY&&U.jsxs("div",{className:"flex flex-col h-full",children:[U.jsxs("div",{className:"border-b border-indigo-50/50 p-4 flex items-center justify-between sticky top-0 bg-white/80 backdrop-blur-md z-10 shadow-sm px-4 md:px-8",children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("button",{onClick:w,className:"p-2.5 bg-white hover:bg-slate-50 border border-slate-100 rounded-full transition-all shadow-sm hover:shadow-md",children:U.jsx(qm,{size:20,className:"text-slate-600"})}),U.jsx("h2",{className:"font-bold text-lg text-slate-800",children:P?"Analyzing Audio...":"Class Summary"})]}),!P&&!D&&I&&U.jsxs("button",{onClick:ve,className:"flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-5 py-2.5 rounded-xl text-sm font-semibold transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:scale-95",children:[U.jsx(RE,{size:18}),U.jsx("span",{className:"hidden md:inline",children:"Export PDF/MD"})]})]}),U.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 scrollbar-hide bg-slate-50/50",children:D||P?U.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-8 animate-in fade-in zoom-in duration-500",children:[U.jsxs("div",{className:"relative",children:[U.jsx("div",{className:"absolute inset-0 bg-indigo-500 rounded-full animate-ping opacity-20 duration-1000"}),U.jsx("div",{className:"relative z-10 bg-white p-4 rounded-full shadow-xl ring-1 ring-indigo-50",children:U.jsx(Fm,{size:40,className:"animate-spin text-indigo-600"})})]}),U.jsxs("div",{className:"text-center space-y-3",children:[U.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:P?"Analyzing Audio Content":"Synthesizing Knowledge"}),U.jsx("p",{className:"text-slate-500 max-w-xs mx-auto leading-relaxed",children:"Our AI is discovering key points, summarizing topics, and formatting your study guide."})]})]}):U.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-8 md:p-16 rounded-[2.5rem] shadow-xl shadow-indigo-100 border border-white ring-1 ring-black/5 min-h-[600px] animate-in slide-in-from-bottom-8 fade-in duration-700",children:[U.jsxs("div",{className:"mb-12 pb-8 border-b-2 border-slate-50 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[U.jsxs("div",{children:[U.jsx("div",{className:"flex items-center gap-2 mb-3",children:U.jsx("span",{className:"bg-indigo-600 text-white px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider shadow-sm shadow-indigo-200",children:"Final Report"})}),U.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-slate-900 tracking-tight",children:"Study Guide"})]}),U.jsxs("div",{className:"flex flex-col items-end",children:[U.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Generated On"}),U.jsx("p",{className:"text-lg font-medium text-slate-700",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),U.jsx("div",{className:"prose prose-lg prose-slate max-w-none prose-headings:text-slate-900 prose-p:text-slate-600 prose-a:text-indigo-600 hover:prose-a:text-indigo-700",children:U.jsx(s0,{components:o2,children:I})})]})}),!D&&!P&&U.jsx("div",{className:"p-6 border-t border-indigo-50 bg-white/90 backdrop-blur-xl z-20",children:U.jsx("div",{className:"max-w-xl mx-auto",children:U.jsxs("button",{onClick:()=>{M(null),t(Tt.HOME)},className:"w-full bg-gradient-to-r from-slate-900 to-slate-800 hover:from-slate-800 hover:to-slate-700 text-white font-bold py-4 rounded-2xl shadow-xl hover:shadow-2xl transition-all hover:-translate-y-1 active:scale-95 flex items-center justify-center gap-3",children:[U.jsx("span",{children:"Start New Session"}),U.jsx(EE,{size:20})]})})})]})]})},Gv=document.getElementById("root");if(!Gv)throw new Error("Could not find root element to mount to");const a2=dE.createRoot(Gv);a2.render(U.jsx(oE.StrictMode,{children:U.jsx(r2,{})}));
